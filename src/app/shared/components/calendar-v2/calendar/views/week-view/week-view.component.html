<div class="week-view">
  <!-- Header con giorni -->
  <div class="week-header">
    <div class="hour-col-header">
      <!-- colonna orari vuota -->
    </div>

    <div
      class="day-header"
      *ngFor="let d of weekDays"
    >
      <div class="day-label">
        {{ d.label }}
      </div>
      <div class="day-number">
        {{ d.dayNumber }}
      </div>
    </div>
  </div>

  <!-- Grid ore x giorni -->
  <div class="week-body">
    <div
      class="hour-row"
      *ngFor="let hour of hours"
    >
      <!-- colonna orari -->
      <div class="hour-label">
        {{ hour }}
      </div>

      <!-- celle per ogni giorno -->
      <div
        class="slot-cell"
        *ngFor="let d of weekDays"
        (click)="onSlotClick(d.iso, hour)"
      >
        <ng-container
          *ngFor="let ev of getEventsForSlot(d.iso, hour)"
        >
          <div
            class="event-pill"
            [ngClass]="{ 'my-booking': isMine(ev) }"
          >
            <span class="time">{{ hour }}</span>
            <span class="title">
              {{ ev.title || 'Appuntamento' }}
            </span>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>
