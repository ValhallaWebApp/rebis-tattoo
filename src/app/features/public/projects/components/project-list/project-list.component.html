<section class="portfolio-page">
  <h2 class="page-title">
    {{ lang.t('portfolio.title')}}
    <span>{{ lang.t('portfolio.subtitle')}}</span>
  </h2>

  <mat-accordion class="portfolio-filter-panel" multi>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>{{ lang.t('portfolio.filtersTitle') }}</mat-panel-title>
      </mat-expansion-panel-header>

      <div class="filter-section">
        <mat-form-field appearance="fill">
          <mat-label>{{ lang.t('portfolio.statusLabel') }}</mat-label>
          <mat-select [(value)]="selectedStatus">
            <mat-option value="all">{{ lang.t('portfolio.all') }}</mat-option>
            <mat-option value="in-progress">{{ lang.t('portfolio.inProgress') }}</mat-option>
            <mat-option value="completed">{{ lang.t('portfolio.completed') }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>{{ lang.t('portfolio.genreLabel') }}</mat-label>
          <mat-select [(value)]="selectedGenre">
            <mat-option value="all">{{ lang.t('portfolio.all') }}</mat-option>
            <mat-option *ngFor="let g of genres" [value]="g">{{ g }}</mat-option>
          </mat-select>
        </mat-form-field>

        <button mat-raised-button color="accent" (click)="applyFilters()">
          {{ lang.t('portfolio.apply') }}
        </button>
      </div>
    </mat-expansion-panel>
  </mat-accordion>

  <div class="portfolio-grid">
    <div
      class="portfolio-card"
      *ngFor="let project of filteredProjects"
      [style.background]="'url(' + project.imageUrl + ') center / cover no-repeat'">
      <div class="portfolio-overlay">
        <h3>{{ project.title }}</h3>
        <p>{{ lang.t('portfolio.statusPrefix') }}{{ project.status | titlecase }}</p>
        <p>{{ lang.t('portfolio.genrePrefix') }}{{ project.genre }}</p>
        <p>{{ lang.t('portfolio.datePrefix') }}{{ project.date }}</p>
        <a [routerLink]="['/progetti', project.id]">
          {{ lang.t('portfolio.details') }}
        </a>
      </div>
    </div>
  </div>
</section>
