<section class="user-management">
  <h2 class="section-title">
    <mat-icon>groups</mat-icon> Gestione Utenti
  </h2>

  <!-- ðŸ” Filtri -->
  <form [formGroup]="filterForm" class="filters">
    <mat-form-field>
      <mat-label>Nome</mat-label>
      <input matInput formControlName="name" placeholder="Mario Rossi" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" placeholder="mario@email.com" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Ruolo</mat-label>
      <mat-select formControlName="role">
        <mat-option value="">Tutti</mat-option>
        <mat-option *ngFor="let r of roles" [value]="r">{{ r }}</mat-option>
      </mat-select>
    </mat-form-field>
  </form>

  <!-- ðŸ‘¥ Lista utenti -->
  <div class="user-cards">
    <mat-card *ngFor="let u of filteredUsers" class="user-card">
      <div class="user-info">
        <img [src]="u.urlAvatar || '/assets/avatar-placeholder.png'" alt="avatar" />
        <div>
          <h3>{{ u.name }}</h3>
          <p>{{ u.email }}</p>
          <span class="role">{{ u.role }}</span>
        </div>
      </div>
      <div class="user-actions">
        <button mat-icon-button color="primary" matTooltip="Visualizza appuntamenti" (click)="viewAppointments(u)">
          <mat-icon>event</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Contatta utente" (click)="contactUser(u)">
          <mat-icon>chat</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Modifica profilo" (click)="editUser(u)">
          <mat-icon>edit</mat-icon>
        </button>
      </div>
    </mat-card>
  </div>
</section>
