:host { display: block; }

.pm {
  padding: 18px 16px 28px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

/* ---------------- Header ---------------- */
.pm__header {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 14px;

  padding: 16px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);
}

.pm__title {
  display: flex;
  align-items: flex-start;
  gap: 12px;

  mat-icon {
    width: 44px;
    height: 44px;
    font-size: 44px;
    opacity: .9;
  }

  h2 {
    margin: 0;
    font-size: 18px;
    font-weight: 900;
    letter-spacing: .2px;
  }

  p {
    margin: 4px 0 0;
    opacity: .75;
    font-size: 12px;
  }
}

.pm__tools {
  display: flex;
  align-items: center;
  gap: 12px;

  .search { width: 360px; }
}

@media (max-width: 980px) {
  .pm__header { flex-direction: column; align-items: stretch; }
  .pm__tools {
    flex-direction: column;
    align-items: stretch;
    .search { width: 100%; }
  }
}

/* ---------------- Tabs ---------------- */
.pm__tabs {
  display: grid;
  grid-template-columns: repeat(4, minmax(190px, 1fr));
  gap: 10px;
}

@media (max-width: 980px) { .pm__tabs { grid-template-columns: repeat(2, minmax(190px, 1fr)); } }
@media (max-width: 560px) { .pm__tabs { grid-template-columns: 1fr; } }

.tab {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);
  cursor: pointer;
  transition: transform .15s ease, border-color .15s ease, background .15s ease;

  mat-icon { opacity: .85; }

  .pill {
    margin-left: auto;
    padding: 4px 10px;
    border-radius: 999px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.35);
    font-weight: 900;
    font-size: 12px;
    opacity: .95;
  }

  &.active {
    border-color: rgba(255,255,255,.18);
    background: rgba(255,255,255,.06);
  }

  &:hover { transform: translateY(-1px); }
}

/* ---------------- List + Empty ---------------- */
.pm__list { display: flex; flex-direction: column; gap: 12px; }

.empty {
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 18px 16px;
  border-radius: 18px;
  border: 1px dashed rgba(255,255,255,.14);
  background: rgba(255,255,255,.02);
  opacity: .9;

  mat-icon { width: 38px; height: 38px; font-size: 38px; opacity: .8; }
  h3 { margin: 0; font-weight: 900; }
  p { margin: 4px 0 0; opacity: .75; }
}

/* ---------------- Card ---------------- */
.card {
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.22);
  padding: 14px;
}

.card__head {
  display: grid;
  grid-template-columns: 1.25fr 1fr;
  gap: 14px;
  padding-bottom: 12px;
  border-bottom: 1px solid rgba(255,255,255,.06);
}

@media (max-width: 980px) { .card__head { grid-template-columns: 1fr; } }

.h-left .title {
  display: flex;
  align-items: center;
  gap: 10px;

  h3 {
    margin: 0;
    font-size: 16px;
    font-weight: 900;
    line-height: 1.2;
  }

  .pill {
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 900;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.04);
    opacity: .95;

    &.is-hidden {
      border-color: rgba(244,63,94,.35);
      background: rgba(244,63,94,.12);
      color: #fecdd3;
    }
  }
}

.status {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 900;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
  opacity: .95;
}
.status[data-status="draft"] { color: #cbd5f5; border-color: rgba(148,163,184,.35); }
.status[data-status="scheduled"] { color: #93c5fd; border-color: rgba(59,130,246,.35); }
.status[data-status="active"] { color: #86efac; border-color: rgba(34,197,94,.35); }
.status[data-status="healing"] { color: #fbbf24; border-color: rgba(251,191,36,.35); }
.status[data-status="completed"] { color: #a78bfa; border-color: rgba(167,139,250,.35); }
.status[data-status="cancelled"] { color: #fca5a5; border-color: rgba(239,68,68,.35); }

.meta {
  margin-top: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;

  span {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    opacity: .82;

    mat-icon { width: 18px; height: 18px; font-size: 18px; opacity: .8; }
  }
}

.thumbs {
  margin-top: 10px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;

  img {
    width: 54px;
    height: 54px;
    border-radius: 12px;
    object-fit: cover;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(0,0,0,.2);
  }
}
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

.h-right {
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: flex-end;
}

@media (max-width: 980px) { .h-right { align-items: stretch; } }

.kpis {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
}

@media (max-width: 980px) { .kpis { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 520px) { .kpis { grid-template-columns: 1fr; } }

.kpi {
  border-radius: 16px;
  padding: 10px 12px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);

  span { font-size: 12px; opacity: .75; }
  strong { display: block; margin-top: 4px; font-size: 18px; font-weight: 900; }
}

.actions {
  width: 100%;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;

  button { border-radius: 14px; }
}

@media (max-width: 980px) { .actions { justify-content: flex-start; } }

.hint {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  opacity: .78;

  mat-icon { width: 18px; height: 18px; font-size: 18px; opacity: .85; }
}

/* ---------------- Body: 3 boxes ---------------- */
.card__body {
  padding-top: 12px;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}

@media (max-width: 980px) { .card__body { grid-template-columns: 1fr; } }

.box {
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.02);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-height: 150px;
}

.box__head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255,255,255,.06);
}

.box__title {
  display: inline-flex;
  align-items: center;
  gap: 8px;

  mat-icon { opacity: .85; }
  span { font-weight: 900; }
}

.box__content { display: flex; flex-direction: column; gap: 10px; }

/* Booking lines */
.line {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;

  .k { opacity: .75; font-size: 12px; }
  .v { font-weight: 700; font-size: 12px; text-align: right; }
}

.moneygrid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

@media (max-width: 520px) { .moneygrid { grid-template-columns: 1fr; } }

.m {
  border-radius: 14px;
  padding: 10px 10px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.18);

  span { display: block; opacity: .75; font-size: 12px; }
  strong { display: block; margin-top: 4px; font-weight: 900; }
}

/* Mini empty */
.empty-mini {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  border-radius: 16px;
  border: 1px dashed rgba(255,255,255,.14);
  background: rgba(0,0,0,.12);

  mat-icon { opacity: .85; }
  strong { display: block; }
  .muted { opacity: .7; font-size: 12px; margin-top: 2px; }
}

/* Sessions list */
.sessions { display: flex; flex-direction: column; gap: 10px; }

.srow {
  display: flex;
  justify-content: space-between;
  gap: 12px;

  padding: 10px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.14);
}

.sleft { display: flex; flex-direction: column; gap: 6px; min-width: 0; }

.when {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  font-weight: 800;
  opacity: .95;
  min-width: 0;

  mat-icon { width: 18px; height: 18px; font-size: 18px; opacity: .85; }
  span { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .arrow { opacity: .6; }
}

.mini {
  font-size: 12px;
  opacity: .78;
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;

  .dot { opacity: .55; }
}

.tag {
  padding: 3px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
  font-weight: 900;
  font-size: 12px;

  &.ok { opacity: .95; }
}

.sright {
  display: flex;
  align-items: center;
  gap: 10px;

  .m {
    padding: 8px 10px;
    border-radius: 14px;
    min-width: 100px;
  }
}

@media (max-width: 520px) {
  .srow { flex-direction: column; align-items: stretch; }
  .sright { justify-content: space-between; }
}

/* Payments list */
.payments { display: flex; flex-direction: column; gap: 10px; }

.prow {
  padding: 10px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.14);
}

.p-top {
  display: flex;
  align-items: center;
  gap: 10px;

  strong { font-weight: 900; }
}

.muted { opacity: .7; font-size: 12px; margin-top: 4px; }
