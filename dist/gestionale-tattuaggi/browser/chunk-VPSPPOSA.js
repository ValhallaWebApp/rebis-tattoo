import{A as S,B as Q,C as X,D as Z,G as $,H as c,I as N,J as U,K as ee,M as F,R as g,Y as h,Z as re,_ as te,a as u,aa as z,ba as Y,c as E,e as V,g as G,i as T,ia as oe,ja as _,k as f,l as H,p as j,s as R,t as x,v as d,y as v}from"./chunk-Y3XNR5LB.js";var D={now(){return(D.delegate||performance).now()},delegate:void 0};var a={schedule(t){let e=requestAnimationFrame,r=cancelAnimationFrame,{delegate:o}=a;o&&(e=o.requestAnimationFrame,r=o.cancelAnimationFrame);let n=e(i=>{r=void 0,t(i)});return new E(()=>r?.(n))},requestAnimationFrame(...t){let{delegate:e}=a;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=a;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};function le(t){return t?ne(t):xe}function ne(t){return new f(e=>{let r=t||D,o=r.now(),n=0,i=()=>{e.closed||(n=a.requestAnimationFrame(m=>{n=0;let s=r.now();e.next({timestamp:t?s:m,elapsed:s-o}),i()}))};return i(),()=>{n&&a.cancelAnimationFrame(n)}})}var xe=ne();var de=1,B,J={};function ie(t){return t in J?(delete J[t],!0):!1}var me={setImmediate(t){let e=de++;return J[e]=!0,B||(B=Promise.resolve()),B.then(()=>ie(e)&&t()),e},clearImmediate(t){ie(t)}};var{setImmediate:he,clearImmediate:be}=me,I={setImmediate(...t){let{delegate:e}=I;return(e?.setImmediate||he)(...t)},clearImmediate(t){let{delegate:e}=I;return(e?.clearImmediate||be)(t)},delegate:void 0};var k=class extends x{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,o=0){return o!==null&&o>0?super.requestAsyncId(e,r,o):(e.actions.push(this),e._scheduled||(e._scheduled=I.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,r,o=0){var n;if(o!=null?o>0:this.delay>0)return super.recycleAsyncId(e,r,o);let{actions:i}=e;r!=null&&((n=i[i.length-1])===null||n===void 0?void 0:n.id)!==r&&(I.clearImmediate(r),e._scheduled===r&&(e._scheduled=void 0))}};var q=class extends d{flush(e){this._active=!0;let r=this._scheduled;this._scheduled=void 0;let{actions:o}=this,n;e=e||o.shift();do if(n=e.execute(e.state,e.delay))break;while((e=o[0])&&e.id===r&&o.shift());if(this._active=!1,n){for(;(e=o[0])&&e.id===r&&o.shift();)e.unsubscribe();throw n}}};var fe=new q(k),ve=fe;var M=class extends x{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}schedule(e,r=0){return r>0?super.schedule(e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)}execute(e,r){return r>0||this.closed?super.execute(e,r):this._execute(e,r)}requestAsyncId(e,r,o=0){return o!=null&&o>0||o==null&&this.delay>0?super.requestAsyncId(e,r,o):(e.flush(this),0)}};var C=class extends d{};var se=new C(M),ye=se;var L=class extends x{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,o=0){return o!==null&&o>0?super.requestAsyncId(e,r,o):(e.actions.push(this),e._scheduled||(e._scheduled=a.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,r,o=0){var n;if(o!=null?o>0:this.delay>0)return super.recycleAsyncId(e,r,o);let{actions:i}=e;r!=null&&r===e._scheduled&&((n=i[i.length-1])===null||n===void 0?void 0:n.id)!==r&&(a.cancelAnimationFrame(r),e._scheduled=void 0)}};var W=class extends d{flush(e){this._active=!0;let r;e?r=e.id:(r=this._scheduled,this._scheduled=void 0);let{actions:o}=this,n;e=e||o.shift();do if(n=e.execute(e.state,e.delay))break;while((e=o[0])&&e.id===r&&o.shift());if(this._active=!1,n){for(;(e=o[0])&&e.id===r&&o.shift();)e.unsubscribe();throw n}}};var pe=new W(L),Ae=pe;var we=(()=>{class t extends d{constructor(r=P,o=1/0){super(r,()=>this.frame),this.maxFrames=o,this.frame=0,this.index=-1}flush(){let{actions:r,maxFrames:o}=this,n,i;for(;(i=r[0])&&i.delay<=o&&(r.shift(),this.frame=i.delay,!(n=i.execute(i.state,i.delay))););if(n){for(;i=r.shift();)i.unsubscribe();throw n}}}return t.frameTimeFactor=10,t})(),P=class t extends x{constructor(e,r,o=e.index+=1){super(e,r),this.scheduler=e,this.work=r,this.index=o,this.active=!0,this.index=e.index=o}schedule(e,r=0){if(Number.isFinite(r)){if(!this.id)return super.schedule(e,r);this.active=!1;let o=new t(this.scheduler,this.work);return this.add(o),o.schedule(e,r)}else return E.EMPTY}requestAsyncId(e,r,o=0){this.delay=e.frame+o;let{actions:n}=e;return n.push(this),n.sort(t.sortActions),1}recycleAsyncId(e,r,o=0){}_execute(e,r){if(this.active===!0)return super._execute(e,r)}static sortActions(e,r){return e.delay===r.delay?e.index===r.index?0:e.index>r.index?1:-1:e.delay>r.delay?1:-1}};function Ee(t){return!!t&&(t instanceof f||u(t.lift)&&u(t.subscribe))}function Fe(t,e){let r=typeof e=="object";return new Promise((o,n)=>{let i=!1,m;t.subscribe({next:s=>{m=s,i=!0},error:n,complete:()=>{i?o(m):r?o(e.defaultValue):n(new g)}})})}function ge(t,e){let r=typeof e=="object";return new Promise((o,n)=>{let i=new G({next:m=>{o(m),i.unsubscribe()},error:n,complete:()=>{r?o(e.defaultValue):n(new g)}});t.subscribe(i)})}function A(t,e,r,o){if(r)if(S(r))o=r;else return function(...n){return A(t,e,o).apply(this,n).pipe(h(r))};return o?function(...n){return A(t,e).apply(this,n).pipe(U(o),N(o))}:function(...n){let i=new R,m=!0;return new f(s=>{let p=i.subscribe(s);if(m){m=!1;let w=!1,b=!1;e.apply(this,[...n,(...l)=>{if(t){let O=l.shift();if(O!=null){i.error(O);return}}i.next(1<l.length?l:l[0]),b=!0,w&&i.complete()}]),b&&i.complete(),w=!0}return p})}}function Ie(t,e,r){return A(!1,t,e,r)}function Oe(t,e,r){return A(!0,t,e,r)}function y(t){return new f(e=>{c(t()).subscribe(e)})}var Te={connector:()=>new j,resetOnDisconnect:!0};function Se(t,e=Te){let r=null,{connector:o,resetOnDisconnect:n=!0}=e,i=o(),m=new f(s=>i.subscribe(s));return m.connect=()=>((!r||r.closed)&&(r=y(()=>t).subscribe(i),n&&r.add(()=>i=o())),r),m}function _e(...t){let e=Q(t),{args:r,keys:o}=re(t),n=new f(i=>{let{length:m}=r;if(!m){i.complete();return}let s=new Array(m),p=m,w=m;for(let b=0;b<m;b++){let l=!1;c(r[b]).subscribe(H(i,O=>{l||(l=!0,w--),s[b]=O},()=>p--,void 0,()=>{(!p||!l)&&(w||i.next(o?te(o,s):s),i.complete())}))}});return e?n.pipe(h(e)):n}var ke=["addListener","removeListener"],qe=["addEventListener","removeEventListener"],Me=["on","off"];function K(t,e,r,o){if(u(r)&&(o=r,r=void 0),o)return K(t,e,r).pipe(h(o));let[n,i]=We(t)?qe.map(m=>s=>t[m](e,s,r)):Ce(t)?ke.map(ue(t,e)):Le(t)?Me.map(ue(t,e)):[];if(!n&&$(t))return z(m=>K(m,e,r))(c(t));if(!n)throw new TypeError("Invalid event target");return new f(m=>{let s=(...p)=>m.next(1<p.length?p:p[0]);return n(s),()=>i(s)})}function ue(t,e){return r=>o=>t[r](e,o)}function Ce(t){return u(t.addListener)&&u(t.removeListener)}function Le(t){return u(t.on)&&u(t.off)}function We(t){return u(t.addEventListener)&&u(t.removeEventListener)}function ce(t,e,r){return r?ce(t,e).pipe(h(r)):new f(o=>{let n=(...m)=>o.next(m.length===1?m[0]:m),i=t(n);return u(e)?()=>e(n,i):void 0})}function Pe(t,e,r,o,n){let i,m;arguments.length===1?{initialState:m,condition:e,iterate:r,resultSelector:i=T,scheduler:n}=t:(m=t,!o||S(o)?(i=T,n=o):i=o);function*s(){for(let p=m;!e||e(p);p=r(p))yield i(p)}return y(n?()=>ee(s(),n):s)}function Ve(t,e,r){return y(()=>t()?e:r)}function je(...t){let e=X(t),r=Z(t,1/0),o=t;return o.length?o.length===1?c(o[0]):Y(r)(F(o,e)):v}var ae=new f(V);function Re(){return ae}function Ne(t,e){return F(Object.entries(t),e)}function Ue(t,e,r){return[_(e,r)(c(t)),_(oe(e,r))(c(t))]}function ze(t,e,r){if(e==null&&(e=t,t=0),e<=0)return v;let o=e+t;return new f(r?n=>{let i=t;return r.schedule(function(){i<o?(n.next(i++),this.schedule()):n.complete()})}:n=>{let i=t;for(;i<o&&!n.closed;)n.next(i++);n.complete()})}function Ye(t,e){return new f(r=>{let o=t(),n=e(o);return(n?c(n):v).subscribe(r),()=>{o&&o.unsubscribe()}})}export{le as a,fe as b,ve as c,se as d,ye as e,pe as f,Ae as g,we as h,P as i,Ee as j,Fe as k,ge as l,Ie as m,Oe as n,y as o,Se as p,_e as q,K as r,ce as s,Pe as t,Ve as u,je as v,ae as w,Re as x,Ne as y,Ue as z,ze as A,Ye as B};
