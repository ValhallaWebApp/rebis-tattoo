import{a as Ke}from"./chunk-5AHM4ZS4.js";import{a as ai}from"./chunk-NNXEHX5Z.js";import{a as ni,b as ii}from"./chunk-3UG75HR4.js";import"./chunk-ZNZTZ3HB.js";import{b as Qn,g as Yn,i as q,j as Je}from"./chunk-DYFTLCHL.js";import{a as oi}from"./chunk-4UJ37PHC.js";import{a as Ie}from"./chunk-FXPXM24L.js";import{A as qn,D as Hn,G as Zn,H as Kn,K as kt,L as Jn,O as Xn,Q as ge,R as ei,S as It,U as ti,w as Wn,x as Gn}from"./chunk-RWUD3VOV.js";import{$a as Nn,A as Ge,Ba as En,C as xe,D as Me,Da as we,E as oe,Ea as ke,Fa as me,Ha as Dn,Ma as Tn,Na as Fn,Oa as An,Q as ye,R as Pe,S as un,T as I,Ta as Vn,U as Oe,V as T,W as qe,X as He,Z as ae,Za as zn,_ as Se,_a as Bn,ab as Ln,c as on,cb as Rn,d as an,da as fn,db as jn,e as rn,ea as _n,fa as hn,fb as Ye,g as sn,ga as Cn,gb as Ze,h as ie,ha as vn,hb as $n,i as Ue,ia as bn,ib as Un,j as ln,k as cn,ka as xn,l as mn,lb as S,m as he,ma as Mn,n as F,o as Ce,p as ve,qa as yn,r as pn,ra as Pn,sa as On,t as dn,u as be,ua as Sn,v as gn,va as wn,wa as kn,x as We,ya as Qe,za as In}from"./chunk-LU6XTP25.js";import{$b as Gt,$c as Jt,Ac as $,B as wt,Ba as le,Bb as d,Bc as Yt,C as Ee,Ca as h,Cc as Zt,D as Ne,Da as C,Ec as ne,Gb as m,Hb as Ut,Ib as te,La as G,Lb as U,Ma as Bt,Nb as Te,Nc as Kt,Ob as Fe,Pb as o,Qb as a,Rb as _,Sb as V,Tb as z,Tc as W,Ua as Nt,Ub as Wt,Vb as P,Vc as de,Yb as g,_b as p,a as J,ac as qt,b as X,cc as Ht,e as Q,ec as Ae,fb as se,fc as Ve,gc as ze,gd as ce,h as Ft,ha as At,hd as L,id as N,ja as ee,jb as l,jc as Y,kb as O,l as Be,lb as Lt,lc as r,ma as Vt,mc as f,md as Xt,nb as Rt,nc as v,nd as $e,oa as De,oc as Le,pa as k,pb as jt,pd as en,qc as ue,qd as tn,rc as fe,sb as $t,sc as _e,sd as nn,ta as b,td as M,ub as j,uc as x,vc as Re,w as pe,wa as zt,wc as Qt,xc as je,zc as B}from"./chunk-JF75SBGN.js";function fi(i,t){i&1&&(o(0,"mat-error"),r(1,"L'email \xE8 obbligatoria"),a())}function _i(i,t){i&1&&(o(0,"mat-error"),r(1,"Inserisci un indirizzo email valido"),a())}function hi(i,t){i&1&&(o(0,"mat-error"),r(1,"La password \xE8 obbligatoria"),a())}function Ci(i,t){i&1&&(o(0,"mat-error"),r(1,"Minimo 6 caratteri"),a())}function vi(i,t){if(i&1&&(o(0,"div",18)(1,"mat-icon",19),r(2,"error"),a(),o(3,"span"),r(4),a()()),i&2){let e=p();l(4),f(e.errorMessage)}}function bi(i,t){if(i&1&&(V(0),r(1),z()),i&2){let e=p();l(),v(" ",e.isLoginMode?"Accedi":"Registrati"," ")}}function xi(i,t){i&1&&_(0,"mat-progress-spinner",20)}var Xe=class i{constructor(t,e,n){this.authService=t;this.fb=e;this.router=n;this.loginForm=this.fb.group({email:["",[F.required,F.email]],password:["",[F.required,F.minLength(6)]],rememberMe:[!0]})}loginForm;isLoginMode=!0;errorMessage="";isLoading=!1;toggleMode(){this.isLoginMode=!this.isLoginMode,this.errorMessage=""}onSubmit(){return Q(this,null,function*(){if(this.loginForm.invalid||this.isLoading)return;let{email:t,password:e,rememberMe:n}=this.loginForm.value,s=localStorage.getItem("pre-log")||"/home";this.isLoading=!0,this.errorMessage="";try{this.isLoginMode?yield this.authService.login(t,e):yield this.authService.register(t,e),yield this.router.navigateByUrl(s),localStorage.removeItem("pre-log")}catch(c){let u=c?.code||c?.message||"unknown";this.errorMessage=this.getErrorMessage(u),console.error("Auth error:",c)}finally{this.isLoading=!1}})}getErrorMessage(t){switch(t){case"auth/user-not-found":return"Utente non trovato.";case"auth/wrong-password":return"Password errata.";case"auth/email-already-in-use":return"Email gi\xE0 registrata.";case"auth/invalid-email":return"Email non valida.";case"auth/weak-password":return"Password troppo debole.";case"profile/not-found":return"Profilo non trovato. Contatta il supporto oppure riprova pi\xF9 tardi.";default:return"Errore sconosciuto. Riprova."}}static \u0275fac=function(e){return new(e||i)(O(q),O(xe),O(ie))};static \u0275cmp=b({type:i,selectors:[["app-login"]],standalone:!0,features:[x],decls:36,vars:12,consts:[["loadingTpl",""],[1,"login-wrapper"],[1,"login-card","mat-elevation-z8"],[1,"card-header"],[1,"header-icon"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matPrefix",""],["matInput","","formControlName","email","type","email","autocomplete","email"],[4,"ngIf"],["matInput","","formControlName","password","type","password","autocomplete","current-password"],[1,"row","between","center"],["formControlName","rememberMe"],["mat-button","","type","button",1,"linklike"],["class","global-error",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],[4,"ngIf","ngIfElse"],["mat-button","","color","accent",1,"toggle-btn",3,"click"],[1,"global-error"],["color","warn"],["mode","indeterminate","diameter","22"]],template:function(e,n){if(e&1){let s=P();o(0,"div",1)(1,"mat-card",2)(2,"div",3)(3,"h2"),r(4),a(),o(5,"mat-icon",4),r(6),a()(),o(7,"form",5),g("ngSubmit",function(){return h(s),C(n.onSubmit())}),o(8,"mat-form-field",6)(9,"mat-label"),r(10,"Email"),a(),o(11,"mat-icon",7),r(12,"mail"),a(),_(13,"input",8),d(14,fi,2,0,"mat-error",9)(15,_i,2,0,"mat-error",9),a(),o(16,"mat-form-field",6)(17,"mat-label"),r(18,"Password"),a(),o(19,"mat-icon",7),r(20,"lock"),a(),_(21,"input",10),d(22,hi,2,0,"mat-error",9)(23,Ci,2,0,"mat-error",9),a(),o(24,"div",11)(25,"mat-checkbox",12),r(26,"Ricordami"),a(),o(27,"button",13),r(28,"Password dimenticata?"),a()(),d(29,vi,5,1,"div",14),o(30,"button",15),d(31,bi,2,1,"ng-container",16),a(),d(32,xi,1,0,"ng-template",null,0,ne),a(),o(34,"button",17),g("click",function(){return h(s),C(n.toggleMode())}),r(35),a()()()}if(e&2){let s,c,u,y,E=Y(33);l(4),f(n.isLoginMode?"Accedi":"Crea un account"),l(2),v(" ",n.isLoginMode?"login":"person_add"," "),l(),m("formGroup",n.loginForm),l(7),m("ngIf",(s=n.loginForm.get("email"))==null?null:s.hasError("required")),l(),m("ngIf",(c=n.loginForm.get("email"))==null?null:c.hasError("email")),l(7),m("ngIf",(u=n.loginForm.get("password"))==null?null:u.hasError("required")),l(),m("ngIf",(y=n.loginForm.get("password"))==null?null:y.hasError("minlength")),l(6),m("ngIf",n.errorMessage),l(),m("disabled",n.loginForm.invalid||n.isLoading),l(),m("ngIf",!n.isLoading)("ngIfElse",E),l(4),v(" ",n.isLoginMode?"Non hai un account? Registrati":"Hai gi\xE0 un account? Accedi"," ")}},dependencies:[S,I,T,ke,we,Qe,In,En,me,zn,ye,M,N,Pe,oe,be,he,Ce,ve,We,Ge],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(145deg,#121212,#1f1f1f);padding:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;background-color:#fff;border-radius:12px}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:600}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:32px;color:#3f51b5}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.global-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#d32f2f;font-size:14px;margin:-8px 0 8px}.row[_ngcontent-%COMP%]{display:flex;gap:12px}.center[_ngcontent-%COMP%]{align-items:center}.between[_ngcontent-%COMP%]{justify-content:space-between}.linklike[_ngcontent-%COMP%]{text-transform:none;padding:0 8px}.toggle-btn[_ngcontent-%COMP%]{margin-top:12px;text-align:center;width:100%}"]})};var yi=(i,t)=>({nbt:i,nbb:t});function Pi(i,t){if(i&1&&(o(0,"div",5),_(1,"img",6),o(2,"h3"),r(3),a(),o(4,"p"),r(5),a()()),i&2){let e=t.$implicit,n=t.index;m("ngClass",je(5,yi,n<3,n>=3)),l(),m("src",e.icon,se)("alt",e.title+" icon"),l(2),f(e.title),l(2),f(e.desc)}}var it=class i{constructor(t){this.lang=t}services=[{icon:"/home/icon-01-80x80.png",title:"Tatuaggi",desc:"Combiniamo tecniche moderne e tradizionali per un risultato di alta qualit\xE0."},{icon:"/home/icon-07-80x80.png",title:"Tatuaggi Fine Line",desc:"Tatuaggi realizzati con linee sottili e dettagli delicati, ideali per chi cerca un design elegante e meno invasivo."},{icon:"/home/icon-03-80x80.png",title:"Copertura tatuaggi",desc:"Hai vecchi tatuaggi che non ti piacciono pi\xF9? Li copriremo con soluzioni artistiche."},{icon:"/home/icon-04-80x80.png",title:"Design personalizzato",desc:"Niente \xE8 pi\xF9 stimolante che creare un design pensato solo per la tua pelle."},{icon:"/home/icon-05-80x80.png",title:"Trucco permanente",desc:"Una tecnica cosmetica che utilizza tatuaggi per realizzare make-up a lunga durata sul viso."},{icon:"/home/icon-custom-02.png",title:"Tatuaggi su misura",desc:"Ogni pelle \xE8 unica. Creiamo disegni esclusivi che rispecchiano la tua storia e il tuo stile."}];accordionServices=[{title:"Tatuaggio Permanente",price:"49\u20AC",content:"Il tipo di tatuaggio pi\xF9 comune, con pigmenti organici per un risultato duraturo.",images:[{src:"/ink/man-1.webp",alt:"Tatuaggio permanente 1"},{src:"/ink/woman-2.webp",alt:"Tatuaggio permanente 2"},{src:"/ink/woman-3.webp",alt:"Tatuaggio permanente 3"}],link:"/services/permanent"},{title:"Tatuaggio Temporaneo",content:"Tatuaggi non permanenti per eventi o esperienze temporanee."},{title:"Sketch e Progettazione",content:"Disegni preparatori personalizzati per ogni cliente."},{title:"Copertura e Correzione",content:"Soluzioni artistiche per coprire o correggere vecchi tatuaggi."},{title:"Rimozione Tatuaggi",content:"Trattamenti per la rimozione parziale o completa."}];static \u0275fac=function(e){return new(e||i)(O(Ke))};static \u0275cmp=b({type:i,selectors:[["app-service-list"]],standalone:!0,features:[x],decls:7,vars:3,consts:[[1,"services-container"],[1,"services-title"],[1,"services-subtitle"],[1,"services-grid"],["class","service-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"service-card",3,"ngClass"],[3,"src","alt"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"h2",1),r(2),a(),o(3,"p",2),r(4),a(),o(5,"div",3),d(6,Pi,6,8,"div",4),a()()),e&2&&(l(2),v(" ",n.lang.t("home.services.title")," "),l(2),v(" ",n.lang.t("home.services.subtitle")," "),l(2),m("ngForOf",n.services))},dependencies:[M,ce,L,S],styles:[".services-container[_ngcontent-%COMP%]{padding:8vh 0;color:#0a0a0a;text-align:center}.services-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#000;margin-top:2rem;font-family:Barlow Semi Condensed,sans-serif}.services-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin:0 auto 2rem;max-width:900px;color:#444;font-family:Barlow Semi Condensed,sans-serif}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:0}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (min-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.service-card[_ngcontent-%COMP%]{padding:2.5rem 1.5rem;border:1px solid #e0e0e0;transition:box-shadow .3s ease;background:#fff;min-width:300px;font-family:Barlow Semi Condensed,sans-serif}.service-card.nbt[_ngcontent-%COMP%]{border-top:none}.service-card.nbb[_ngcontent-%COMP%]{border-bottom:none}.service-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #0000001a}.service-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;margin-bottom:1rem}.service-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;color:#0a0a0a}.service-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#555}"]})};var Oi=(i,t)=>({artistId:i,hour:t});function Si(i,t){if(i&1&&(o(0,"div",9)(1,"div",10),_(2,"img",11),o(3,"span"),r(4),a()()()),i&2){let e=t.$implicit,n=p(2);l(2),m("src",n.artistPhotoMap[e]||"/assets/avatar-default.png",se)("alt",n.artistMap[e]||e),l(2),f(n.artistMap[e]||"Artista")}}function wi(i,t){if(i&1&&(o(0,"div",9),Wt(1,13),a()),i&2){let e=t.$implicit,n=p().$implicit;p(2);let s=Y(2);l(),m("ngTemplateOutlet",s)("ngTemplateOutletContext",je(2,Oi,e,n))}}function ki(i,t){if(i&1&&(o(0,"div",12)(1,"div",5)(2,"span"),r(3),a()(),d(4,wi,2,5,"div",6),a()),i&2){let e=t.$implicit,n=p(2);l(3),f(e),l(),m("ngForOf",n.artistIds)}}function Ii(i,t){if(i&1&&(o(0,"div",3)(1,"div",4),_(2,"div",5),d(3,Si,5,3,"div",6),a(),o(4,"div",7),d(5,ki,5,2,"div",8),a()()),i&2){let e=p();l(3),m("ngForOf",e.artistIds),l(2),m("ngForOf",e.hours)}}function Ei(i,t){if(i&1){let e=P();V(0),o(1,"button",15),g("click",function(){let s=h(e).ngIf,c=p(2);return C(c.handleEventClick(s))}),o(2,"span",16),r(3),a(),o(4,"span",17),r(5),a()(),z()}if(i&2){let e=t.ngIf,n=p().hour;l(3),f(n),l(2),f(e.title)}}function Di(i,t){if(i&1){let e=P();o(0,"button",18),g("click",function(){h(e);let s=p(),c=s.artistId,u=s.hour,y=p();return C(y.handleEmptySlotClick(u,c))}),o(1,"mat-icon"),r(2,"add"),a()()}if(i&2){let e=p(2);m("disabled",e.role!=="client"&&e.role!=="admin")}}function Ti(i,t){if(i&1&&d(0,Ei,6,2,"ng-container",14)(1,Di,3,1,"ng-template",null,1,ne),i&2){let e=t.artistId,n=t.hour,s=Y(2),c=p();m("ngIf",c.getEventForSlot(e,n))("ngIfElse",s)}}var ot=class i{date=null;events=[];artistMap={};artistPhotoMap={};role="client";createFromSlot=new G;eventDropped=new G;hours=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"];artistIds=[];dayEvents=[];ngOnChanges(t){this.artistIds=Object.keys(this.artistMap||{}),console.log("[DayView] artistIds \u2192",this.artistIds);let e=this.date?this.toISODate(this.date):null;this.dayEvents=(this.events||[]).filter(n=>!e||n.date===e)}toISODate(t){let e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${s}`}getEventForSlot(t,e){return this.dayEvents&&this.dayEvents.find(n=>n.artistId!==t?!1:n.start.slice(11,16)===e)||null}handleEmptySlotClick(t,e){this.date&&this.createFromSlot.emit({date:this.toISODate(this.date),time:t,artistId:e})}handleEventClick(t){console.log("Evento cliccato",t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-day-view"]],inputs:{date:"date",events:"events",artistMap:"artistMap",artistPhotoMap:"artistPhotoMap",role:"role"},outputs:{createFromSlot:"createFromSlot",eventDropped:"eventDropped"},standalone:!0,features:[le,x],decls:3,vars:1,consts:[["slotTpl",""],["emptySlot",""],["class","day-view",4,"ngIf"],[1,"day-view"],[1,"day-header"],[1,"time-col"],["class","artist-col",4,"ngFor","ngForOf"],[1,"day-body"],["class","hour-row",4,"ngFor","ngForOf"],[1,"artist-col"],[1,"artist-header"],[3,"src","alt"],[1,"hour-row"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],["mat-stroked-button","",1,"event-pill",3,"click"],[1,"event-time"],[1,"event-title"],["mat-icon-button","","matTooltip","Nuova prenotazione",1,"empty-slot",3,"click","disabled"]],template:function(e,n){e&1&&d(0,Ii,6,2,"div",2)(1,Ti,3,2,"ng-template",null,0,ne),e&2&&m("ngIf",n.date)},dependencies:[M,L,N,Xt,S,I,T,ae],styles:['@charset "UTF-8";.day-view[_ngcontent-%COMP%]{background:var(--cal-card-bg);color:var(--cal-text);border-radius:16px;padding:.75rem;font-size:.85rem}.day-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(auto-fit,minmax(140px,1fr));column-gap:.5rem;margin-bottom:.5rem}.time-col[_ngcontent-%COMP%]{font-size:.75rem;text-align:right;padding-right:.5rem;color:var(--cal-text-muted)}.artist-col[_ngcontent-%COMP%]{padding:0 .25rem}.artist-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.45rem;padding:.25rem .45rem;border-radius:999px;background:#00000005;border:1px solid var(--cal-border)}.artist-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;border-radius:50%;object-fit:cover;border:1px solid var(--cal-border)}.artist-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.78rem;white-space:nowrap}.day-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.hour-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(auto-fit,minmax(140px,1fr));column-gap:.5rem;min-height:40px;height:var(--cal-row-height);max-height:var(--cal-row-height)}.artist-col[_ngcontent-%COMP%]{padding:0;display:flex;align-items:stretch}.empty-slot[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;border:1px dashed var(--cal-slot-border);background:var(--cal-slot-bg);display:flex;align-items:center;justify-content:center;cursor:pointer}.empty-slot[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;opacity:.4}.empty-slot[_ngcontent-%COMP%]:hover{background:var(--cal-slot-hover);border-style:solid}.event-pill[_ngcontent-%COMP%]{width:100%;border-radius:12px;padding:.25rem .55rem;border:1px solid var(--cal-event-border);background:var(--cal-event-bg);color:var(--cal-event-text);display:inline-flex;align-items:center;gap:.35rem;font-size:.78rem}.event-pill[_ngcontent-%COMP%]   .event-time[_ngcontent-%COMP%]{font-weight:600}.event-pill[_ngcontent-%COMP%]   .event-title[_ngcontent-%COMP%]{opacity:.9;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.event-pill.my-booking[_ngcontent-%COMP%]{border-color:var(--cal-my-event-border);background:var(--cal-my-event-bg)}@media (max-width: 768px){.day-header[_ngcontent-%COMP%], .hour-row[_ngcontent-%COMP%]{grid-template-columns:60px minmax(0,1fr)}.artist-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}']})};var Fi=i=>({"my-booking":i});function Ai(i,t){if(i&1&&(o(0,"div",6)(1,"div",7),r(2),a(),o(3,"div",8),r(4),a()()),i&2){let e=t.$implicit;l(2),v(" ",e.label," "),l(2),v(" ",e.dayNumber," ")}}function Vi(i,t){if(i&1&&(V(0),o(1,"div",14)(2,"span",15),r(3),a(),o(4,"span",16),r(5),a()(),z()),i&2){let e=t.$implicit,n=p(2).$implicit,s=p();l(),m("ngClass",Qt(3,Fi,s.isMine(e))),l(2),f(n),l(2),v(" ",e.title||"Appuntamento"," ")}}function zi(i,t){if(i&1){let e=P();o(0,"div",12),g("click",function(){let s=h(e).$implicit,c=p().$implicit,u=p();return C(u.onSlotClick(s.iso,c))}),d(1,Vi,6,5,"ng-container",13),a()}if(i&2){let e=t.$implicit,n=p().$implicit,s=p();l(),m("ngForOf",s.getEventsForSlot(e.iso,n))}}function Bi(i,t){if(i&1&&(o(0,"div",9)(1,"div",10),r(2),a(),d(3,zi,2,1,"div",11),a()),i&2){let e=t.$implicit,n=p();l(2),v(" ",e," "),l(),m("ngForOf",n.weekDays)}}var at=class i{date=null;events=[];artistMap={};artistPhotoMap={};role="client";eventDropped=new G;createFromSlot=new G;weekDays=[];hours=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"];ngOnChanges(t){t.date&&this.buildWeekDays()}buildWeekDays(){let t=this.date?new Date(this.date):new Date,e=t.getDay(),n=(e===0?-6:1)-e,s=new Date(t);s.setDate(t.getDate()+n);let c=[];for(let u=0;u<7;u++){let y=new Date(s);y.setDate(s.getDate()+u);let E=y.toISOString().substring(0,10),A=y.getDate(),K=y.toLocaleDateString("it-IT",{weekday:"short"});c.push({iso:E,label:K,dayNumber:A})}this.weekDays=c}onSlotClick(t,e){this.createFromSlot.emit({date:t,time:e})}getEventsForSlot(t,e){if(!this.events||!t)return[];let[n,s]=e.split(":").map(Number);return this.events.filter(c=>{if(!c.start)return!1;let u=new Date(c.start);return(c.date??c.start.substring(0,10))===t&&u.getHours()===n&&u.getMinutes()===s})}isMine(t){return!!t.metadata&&t.metadata.isMine}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-week-view"]],inputs:{date:"date",events:"events",artistMap:"artistMap",artistPhotoMap:"artistPhotoMap",role:"role"},outputs:{eventDropped:"eventDropped",createFromSlot:"createFromSlot"},standalone:!0,features:[le,x],decls:6,vars:2,consts:[[1,"week-view"],[1,"week-header"],[1,"hour-col-header"],["class","day-header",4,"ngFor","ngForOf"],[1,"week-body"],["class","hour-row",4,"ngFor","ngForOf"],[1,"day-header"],[1,"day-label"],[1,"day-number"],[1,"hour-row"],[1,"hour-label"],["class","slot-cell",3,"click",4,"ngFor","ngForOf"],[1,"slot-cell",3,"click"],[4,"ngFor","ngForOf"],[1,"event-pill",3,"ngClass"],[1,"time"],[1,"title"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1),_(2,"div",2),d(3,Ai,5,2,"div",3),a(),o(4,"div",4),d(5,Bi,4,2,"div",5),a()()),e&2&&(l(3),m("ngForOf",n.weekDays),l(2),m("ngForOf",n.hours))},dependencies:[M,ce,L],styles:[".week-view[_ngcontent-%COMP%]{background:var(--cal-card-bg);color:var(--cal-text);border-radius:16px;padding:.5rem;font-size:.85rem}.week-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,minmax(0,1fr));align-items:center;margin-bottom:.25rem;column-gap:.5rem}.hour-col-header[_ngcontent-%COMP%]{font-size:.75rem;color:var(--cal-text-muted);text-align:right;padding-right:.5rem}.day-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;justify-content:space-between;padding:.25rem .35rem;border-radius:8px;background:#00000005}.day-label[_ngcontent-%COMP%]{font-size:.78rem;font-weight:600}.day-number[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8}.week-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;max-height:calc(80vh - 140px);overflow-y:auto}.hour-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px repeat(7,minmax(0,1fr));column-gap:.5rem;height:var(--cal-row-height);max-height:var(--cal-row-height)}.hour-label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding-right:.5rem;font-size:.75rem;color:var(--cal-text-muted)}.slot-cell[_ngcontent-%COMP%]{border-radius:10px;border:1px dashed var(--cal-slot-border);background:var(--cal-slot-bg);cursor:pointer;padding:2px 4px;display:flex;align-items:center;gap:4px;overflow:hidden}.slot-cell[_ngcontent-%COMP%]:hover{background:var(--cal-slot-hover);border-style:solid}.event-pill[_ngcontent-%COMP%]{border-radius:999px;padding:2px 6px;border:1px solid var(--cal-event-border);background:var(--cal-event-bg);color:var(--cal-event-text);display:inline-flex;align-items:center;gap:4px;font-size:.75rem;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.event-pill[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-weight:600}.event-pill[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{opacity:.9}.event-pill.my-booking[_ngcontent-%COMP%]{border-color:var(--cal-my-event-border);background:var(--cal-my-event-bg)}@media (max-width: 900px){.week-header[_ngcontent-%COMP%], .hour-row[_ngcontent-%COMP%]{grid-template-columns:60px repeat(7,minmax(0,1fr))}}"]})};function Ni(i,t){if(i&1&&(o(0,"div",9)(1,"span",10),r(2),a(),o(3,"span",11),r(4),a()()),i&2){let e=t.$implicit;l(2),f(e.start.slice(11,16)),l(2),f(e.title)}}function Li(i,t){if(i&1&&(o(0,"div",12),r(1),a()),i&2){let e=p().$implicit;l(),v(" +",e.events.length-3," altro/i ")}}function Ri(i,t){if(i&1){let e=P();o(0,"div",4),g("click",function(){let s=h(e).$implicit,c=p(2);return C(c.handleDayClick(s.iso))}),o(1,"div",5),r(2),a(),o(3,"div",6),d(4,Ni,5,2,"div",7),B(5,"slice"),d(6,Li,2,1,"div",8),a()()}if(i&2){let e=t.$implicit;l(2),v(" ",e.label," "),l(2),m("ngForOf",Zt(5,3,e.events,0,3)),l(2),m("ngIf",e.events.length>3)}}function ji(i,t){if(i&1&&(o(0,"div",1)(1,"div",2),d(2,Ri,7,7,"div",3),a()()),i&2){let e=p();l(2),m("ngForOf",e.monthDays)}}var rt=class i{date=null;events=[];artistMap={};artistPhotoMap={};role="client";createFromDay=new G;monthDays=[];ngOnChanges(t){this.buildMonth()}buildMonth(){if(!this.date){this.monthDays=[];return}let t=new Date(this.date),e=t.getFullYear(),n=t.getMonth(),c=(new Date(e,n,1).getDay()||7)-1,y=new Date(e,n+1,0).getDate(),E=[];for(let A=0;A<y;A++){let K=new Date(e,n,A+1),Tt=this.toISODate(K),gi=(this.events||[]).filter(ui=>ui.date===Tt);E.push({date:K,iso:Tt,label:A+1,events:gi})}this.monthDays=E}toISODate(t){let e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${s}`}handleDayClick(t){this.createFromDay.emit({date:t,time:"10:00"})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-month-view"]],inputs:{date:"date",events:"events",artistMap:"artistMap",artistPhotoMap:"artistPhotoMap",role:"role"},outputs:{createFromDay:"createFromDay"},standalone:!0,features:[le,x],decls:1,vars:1,consts:[["class","month-view",4,"ngIf"],[1,"month-view"],[1,"month-grid"],["class","day-cell",3,"click",4,"ngFor","ngForOf"],[1,"day-cell",3,"click"],[1,"day-label"],[1,"events-mini"],["class","event-dot",4,"ngFor","ngForOf"],["class","more",4,"ngIf"],[1,"event-dot"],[1,"time"],[1,"title"],[1,"more"]],template:function(e,n){e&1&&d(0,ji,3,1,"div",0),e&2&&m("ngIf",n.monthDays.length)},dependencies:[M,L,N,nn,S],styles:[".month-view[_ngcontent-%COMP%]{background:var(--cal-card-bg);color:var(--cal-text);border-radius:16px;padding:.75rem;font-size:.8rem}.month-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));gap:4px}.day-cell[_ngcontent-%COMP%]{background:var(--cal-slot-bg);border-radius:10px;padding:.4rem;min-height:70px;border:1px solid var(--cal-border);cursor:pointer;display:flex;flex-direction:column;gap:.25rem;transition:background .15s ease,border-color .15s ease}.day-cell[_ngcontent-%COMP%]:hover{background:var(--cal-slot-hover);border-color:var(--cal-event-border)}.day-label[_ngcontent-%COMP%]{font-size:.78rem;font-weight:600;color:var(--cal-text)}.events-mini[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.event-dot[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.72rem;padding:2px 4px;border-radius:999px;background:var(--cal-event-bg);color:var(--cal-event-text);border:1px solid var(--cal-event-border)}.event-dot[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{opacity:.9}.event-dot[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-dot.my-booking[_ngcontent-%COMP%]{border-color:var(--cal-my-event-border);background:var(--cal-my-event-bg)}.more[_ngcontent-%COMP%]{font-size:.7rem;color:var(--cal-text-muted)}@media (max-width: 600px){.month-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}"]})};var st=class i{viewSubject=new Be("week");view$=this.viewSubject.asObservable();dateSubject=new Be(new Date);date$=this.dateSubject.asObservable();eventsSubject=new Be([]);events$=this.eventsSubject.asObservable();title$=Ne([this.view$,this.date$]).pipe(Ee(([t,e])=>this.buildTitle(t,e)));setView(t){this.viewSubject.next(t)}setDate(t){this.dateSubject.next(t)}setToday(){this.dateSubject.next(new Date)}setEvents(t){this.eventsSubject.next(t??[])}next(){let t=this.viewSubject.value,e=this.dateSubject.value;this.dateSubject.next(this.shiftDate(e,t,1))}prev(){let t=this.viewSubject.value,e=this.dateSubject.value;this.dateSubject.next(this.shiftDate(e,t,-1))}shiftDate(t,e,n){let s=new Date(t);switch(e){case"day":s.setDate(s.getDate()+n);break;case"week":s.setDate(s.getDate()+7*n);break;case"month":s.setMonth(s.getMonth()+n);break}return s}buildTitle(t,e){let n=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],s=e.getDate(),c=n[e.getMonth()],u=e.getFullYear();switch(t){case"day":return`${s} ${c} ${u}`;case"week":{let y=new Date(e),E=new Date(e);E.setDate(E.getDate()+6);let A=E.getDate(),K=n[E.getMonth()];return y.getMonth()===E.getMonth()?`Settimana ${s}\u2013${A} ${c} ${u}`:`Settimana ${s} ${c} \u2013 ${A} ${K} ${u}`}case"month":default:return`${c} ${u}`}}static \u0275fac=function(e){return new(e||i)};static \u0275prov=ee({token:i,factory:i.\u0275fac,providedIn:"root"})};var Wi=()=>[];function Gi(i,t){if(i&1&&(o(0,"mat-button-toggle",18),r(1),a()),i&2){let e=t.$implicit;m("value",e),l(),v(" ",e==="booking"?"Consulenze":"Sessioni"," ")}}function qi(i,t){if(i&1){let e=P();o(0,"mat-button-toggle-group",16),g("change",function(s){h(e);let c=p();return C(c.onTypeChanged(s.value))}),d(1,Gi,2,2,"mat-button-toggle",17),a()}if(i&2){let e=p();m("value",e.selectedType),l(),m("ngForOf",e.bookingTypes||Re(2,Wi))}}function Hi(i,t){if(i&1){let e=P();o(0,"app-day-view",22),B(1,"async"),B(2,"async"),g("eventDropped",function(s){h(e);let c=p(2);return C(c.handleEventDropped(s))})("createFromSlot",function(s){h(e);let c=p(2);return C(c.openCreate(s))}),a()}if(i&2){let e=p(2);m("date",$(1,5,e.date$))("events",$(2,7,e.events$))("artistMap",e.artistMap)("artistPhotoMap",e.artistPhotoMap)("role",e.role)}}function Qi(i,t){if(i&1){let e=P();o(0,"app-week-view",22),B(1,"async"),B(2,"async"),g("eventDropped",function(s){h(e);let c=p(2);return C(c.handleEventDropped(s))})("createFromSlot",function(s){h(e);let c=p(2);return C(c.openCreate(s))}),a()}if(i&2){let e=p(2);m("date",$(1,5,e.date$))("events",$(2,7,e.events$))("artistMap",e.artistMap)("artistPhotoMap",e.artistPhotoMap)("role",e.role)}}function Yi(i,t){if(i&1){let e=P();o(0,"app-month-view",23),B(1,"async"),B(2,"async"),g("createFromDay",function(s){h(e);let c=p(2);return C(c.openCreate(s))}),a()}if(i&2){let e=p(2);m("date",$(1,5,e.date$))("events",$(2,7,e.events$))("artistMap",e.artistMap)("artistPhotoMap",e.artistPhotoMap)("role",e.role)}}function Zi(i,t){if(i&1&&(o(0,"div",19),d(1,Hi,3,9,"app-day-view",20)(2,Qi,3,9,"app-week-view",20)(3,Yi,3,9,"app-month-view",21),a()),i&2){let e=t.ngIf;l(),m("ngIf",e==="day"),l(),m("ngIf",e==="week"),l(),m("ngIf",e==="month")}}function Ki(i,t){if(i&1){let e=P();o(0,"mat-drawer-container",24)(1,"mat-drawer",25),_e("openedChange",function(s){h(e);let c=p();return fe(c.drawerOpen,s)||(c.drawerOpen=s),C(s)}),o(2,"h3"),r(3),a(),o(4,"form",26),g("ngSubmit",function(){h(e);let s=p();return C(s.onSubmitDrawer())}),o(5,"mat-form-field",27)(6,"mat-label"),r(7,"Artista"),a(),_(8,"input",28),a(),o(9,"mat-form-field",27)(10,"mat-label"),r(11,"Data"),a(),_(12,"input",29),a(),o(13,"mat-form-field",27)(14,"mat-label"),r(15,"Ora"),a(),_(16,"input",30),a(),o(17,"mat-form-field",27)(18,"mat-label"),r(19,"Durata (min)"),a(),_(20,"input",31),a(),o(21,"mat-form-field",27)(22,"mat-label"),r(23,"Descrizione"),a(),_(24,"textarea",32),a(),o(25,"div",33)(26,"button",34),g("click",function(){h(e);let s=p();return C(s.closeDrawer())}),r(27," Annulla "),a(),o(28,"button",35),r(29," Salva "),a()()()()()}if(i&2){let e=p();l(),ue("opened",e.drawerOpen),l(2),v(" ",e.selectedType==="booking"?"Nuova consulenza":"Nuova sessione"," "),l(),m("formGroup",e.bookingForm)}}var lt=class i{constructor(t){this.calendarState=t}role="client";bookingTypes=["booking"];events=[];artistMap={};artistPhotoMap={};user=null;selectedType="booking";selectedTypeChange=new G;bookingForm;initialTheme="dark";theme="dark";bookingSubmitted=new G;eventDropped=new G;view$;date$;title$;events$;drawerOpen=!1;ngOnInit(){this.view$=this.calendarState.view$,this.date$=this.calendarState.date$,this.title$=this.calendarState.title$,this.events$=this.calendarState.events$,this.theme=this.initialTheme,this.events&&this.events.length>0&&this.calendarState.setEvents(this.events)}ngOnChanges(t){t.events&&!t.events.firstChange&&this.calendarState.setEvents(this.events||[])}setView(t){this.calendarState.setView(t)}prev(){this.calendarState.prev()}next(){this.calendarState.next()}today(){this.calendarState.setToday()}openCreate(t){this.bookingForm&&(this.drawerOpen=!0,this.bookingForm.reset({type:this.selectedType,artistId:t?.artistId||"",date:t?.date||"",time:t?.time||"",duration:60,description:"",idClient:this.user?.uid??"",idProject:"",price:0,paidAmount:0,metadata:null}))}closeDrawer(){this.drawerOpen=!1}onSubmitDrawer(){if(!this.bookingForm||this.bookingForm.invalid)return;let t=this.bookingForm.value,e={type:t.type??this.selectedType,artistId:t.artistId??t.artist,date:t.date,time:t.time,duration:t.duration??60,description:t.description??"",idClient:t.idClient,idProject:t.idProject,price:t.price,paidAmount:t.paidAmount,metadata:t.metadata};this.bookingSubmitted.emit(e),this.closeDrawer()}onTypeChanged(t){this.selectedType=t,this.selectedTypeChange.emit(t)}setTheme(t){this.theme=t}handleEventDropped(t){this.eventDropped.emit(t)}static \u0275fac=function(e){return new(e||i)(O(st))};static \u0275cmp=b({type:i,selectors:[["app-calendar-v2"]],inputs:{role:"role",bookingTypes:"bookingTypes",events:"events",artistMap:"artistMap",artistPhotoMap:"artistPhotoMap",user:"user",selectedType:"selectedType",bookingForm:"bookingForm",initialTheme:"initialTheme"},outputs:{selectedTypeChange:"selectedTypeChange",bookingSubmitted:"bookingSubmitted",eventDropped:"eventDropped"},standalone:!0,features:[le,x],decls:34,vars:16,consts:[[1,"calendar-shell",3,"ngClass"],[1,"calendar-toolbar"],[1,"left"],["mat-icon-button","",3,"click"],["mat-stroked-button","",3,"click"],[1,"toolbar-right"],[3,"value","change",4,"ngIf"],[1,"view-toggle",3,"change","value"],["value","day"],["value","week"],["value","month"],[1,"theme-toggle"],["mat-icon-button","","matTooltip","Tema chiaro",3,"click"],["mat-icon-button","","matTooltip","Tema scuro",3,"click"],["class","calendar-content",4,"ngIf"],["class","drawer-container",4,"ngIf"],[3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"calendar-content"],[3,"date","events","artistMap","artistPhotoMap","role","eventDropped","createFromSlot",4,"ngIf"],[3,"date","events","artistMap","artistPhotoMap","role","createFromDay",4,"ngIf"],[3,"eventDropped","createFromSlot","date","events","artistMap","artistPhotoMap","role"],[3,"createFromDay","date","events","artistMap","artistPhotoMap","role"],[1,"drawer-container"],["position","end","mode","over",1,"drawer-panel",3,"openedChange","opened"],[1,"drawer-form",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","formControlName","artistId"],["matInput","","formControlName","date"],["matInput","","formControlName","time"],["matInput","","type","number","formControlName","duration"],["matInput","","rows","3","formControlName","description"],[1,"drawer-actions"],["mat-stroked-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"header",1)(2,"div",2)(3,"button",3),g("click",function(){return n.prev()}),o(4,"mat-icon"),r(5,"chevron_left"),a()(),o(6,"button",4),g("click",function(){return n.today()}),r(7," Oggi "),a(),o(8,"button",3),g("click",function(){return n.next()}),o(9,"mat-icon"),r(10,"chevron_right"),a()(),o(11,"h2"),r(12),B(13,"async"),a()(),o(14,"div",5),d(15,qi,2,3,"mat-button-toggle-group",6),o(16,"mat-button-toggle-group",7),B(17,"async"),g("change",function(c){return n.setView(c.value)}),o(18,"mat-button-toggle",8),r(19,"Giorno"),a(),o(20,"mat-button-toggle",9),r(21,"Settimana"),a(),o(22,"mat-button-toggle",10),r(23,"Mese"),a()(),o(24,"div",11)(25,"button",12),g("click",function(){return n.setTheme("light")}),o(26,"mat-icon"),r(27,"light_mode"),a()(),o(28,"button",13),g("click",function(){return n.setTheme("dark")}),o(29,"mat-icon"),r(30,"dark_mode"),a()()()()(),d(31,Zi,4,3,"div",14),B(32,"async"),d(33,Ki,30,3,"mat-drawer-container",15),a()),e&2&&(m("ngClass",n.theme),l(12),f($(13,10,n.title$)),l(3),m("ngIf",((n.bookingTypes==null?null:n.bookingTypes.length)||0)>1),l(),m("value",$(17,12,n.view$)||"week"),l(9),te("active",n.theme==="light"),l(3),te("active",n.theme==="dark"),l(3),m("ngIf",$(32,14,n.view$)),l(2),m("ngIf",n.bookingForm))},dependencies:[M,ce,L,N,$e,S,I,T,ae,fn,_n,ke,we,Qe,Rn,jn,oe,be,he,gn,Ce,ve,We,Ge,ot,at,rt],styles:['@charset "UTF-8";.calendar-shell[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#121212;display:flex;flex-direction:column;transition:background .25s ease,color .25s ease;--cal-toolbar-height: 64px;--cal-row-height: 40px;--cal-day-cell-min-height: 80px}.calendar-shell.light[_ngcontent-%COMP%]{--cal-bg: #f7f7f7;--cal-card-bg: #ffffff;--cal-border: #e0e0e0;--cal-text: #222222;--cal-text-muted: #666666;--cal-slot-bg: #ffffff;--cal-slot-border: #e0e0e0;--cal-slot-hover: #f2f2f2;--cal-event-bg: #e9f4ff;--cal-event-text: #0d47a1;--cal-event-border: #bbdefb;--cal-my-event-border: #43a047;--cal-my-event-bg: #e8f5e9;background:var(--cal-bg);color:var(--cal-text)}.calendar-shell.light[_ngcontent-%COMP%]   .calendar-toolbar[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid var(--cal-border)}.calendar-shell.light[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--cal-text)}.calendar-shell.light[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]{background:var(--cal-bg)}.calendar-shell.light[_ngcontent-%COMP%]   .drawer-panel[_ngcontent-%COMP%]{background:#fff;color:var(--cal-text);border-left:1px solid var(--cal-border)}.calendar-shell.dark[_ngcontent-%COMP%]{--cal-bg: #121212;--cal-card-bg: #181818;--cal-border: #2b2b2b;--cal-text: #f5f5f5;--cal-text-muted: #aaaaaa;--cal-slot-bg: #202020;--cal-slot-border: #2b2b2b;--cal-slot-hover: #262626;--cal-event-bg: #2c2c2c;--cal-event-text: #ffffff;--cal-event-border: #3a3a3a;--cal-my-event-border: #be9045;--cal-my-event-bg: rgba(190, 144, 69, .16);background:var(--cal-bg);color:var(--cal-text)}.calendar-shell.dark[_ngcontent-%COMP%]   .calendar-toolbar[_ngcontent-%COMP%]{background:#181818;border-bottom:1px solid rgba(255,255,255,.06)}.calendar-shell.dark[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--cal-text)}.calendar-shell.dark[_ngcontent-%COMP%]   .calendar-content[_ngcontent-%COMP%]{flex:1 1 auto;padding:1rem;min-height:0;overflow-y:auto}.calendar-shell.dark[_ngcontent-%COMP%]   .drawer-panel[_ngcontent-%COMP%]{background:#181818;color:var(--cal-text);border-left:1px solid rgba(255,255,255,.06)}.calendar-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;gap:1rem}.calendar-toolbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.calendar-toolbar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:600;margin:0}.calendar-toolbar[_ngcontent-%COMP%]   .toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.calendar-toolbar[_ngcontent-%COMP%]   .theme-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#1976d2!important;color:#fff!important}.calendar-content[_ngcontent-%COMP%]{flex:1;padding:1rem}.drawer-container[_ngcontent-%COMP%]{height:0}.drawer-panel[_ngcontent-%COMP%]{width:360px;padding:1.25rem;display:flex;flex-direction:column}.drawer-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-weight:600}.drawer-panel[_ngcontent-%COMP%]   .drawer-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.drawer-panel[_ngcontent-%COMP%]   .drawer-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1rem}@media (max-width: 768px){.calendar-shell[_ngcontent-%COMP%]{max-height:75vh;--cal-row-height: 36px;--cal-day-cell-min-height: 64px}.calendar-toolbar[_ngcontent-%COMP%]{padding:.5rem;flex-direction:column;align-items:flex-start}.calendar-toolbar[_ngcontent-%COMP%]   .toolbar-right[_ngcontent-%COMP%]{width:100%;justify-content:space-between;flex-wrap:wrap}}']})};function Xi(i,t){i&1&&(o(0,"h1",3),r(1,"Perch\xE9 \xE8 richiesto un acconto?"),a())}function eo(i,t){i&1&&(o(0,"div",4)(1,"p"),r(2,"Per garantire la tua prenotazione, chiediamo un acconto simbolico di 50\u202F\u20AC."),a(),o(3,"p"),r(4,"Questo ci consente di riservare l\u2019orario scelto esclusivamente per te."),a()())}function to(i,t){if(i&1){let e=P();o(0,"div",5)(1,"button",6),g("click",function(){h(e);let s=p();return C(s.cancel())}),r(2,"Annulla"),a(),o(3,"button",7),g("click",function(){h(e);let s=p();return C(s.next())}),r(4,"Continua"),a()()}}function no(i,t){i&1&&(o(0,"h1",3),r(1,"Conferma Acconto \u2013 50\u202F\u20AC"),a())}function io(i,t){if(i&1&&(o(0,"div",4)(1,"p")(2,"strong"),r(3,"Data:"),a(),r(4),a(),o(5,"p")(6,"strong"),r(7,"Artista:"),a(),r(8),a(),o(9,"p")(10,"strong"),r(11,"Email:"),a(),r(12),a(),o(13,"p"),r(14,"Premendo conferma, simulerai il versamento dell\u2019acconto."),a()()),i&2){let e=p();l(4),Le(" ",e.data.date," \u2013 ",e.data.time,""),l(4),v(" ",e.data.artist,""),l(4),v(" ",e.data.email,"")}}function oo(i,t){if(i&1){let e=P();o(0,"div",5)(1,"button",6),g("click",function(){h(e);let s=p();return C(s.back())}),r(2,"Indietro"),a(),o(3,"button",7),g("click",function(){h(e);let s=p();return C(s.confirm())}),r(4,"Conferma e Paga"),a()()}}var ct=class i{constructor(t,e){this.dialogRef=t;this.data=e}step=1;next(){this.step=2}back(){this.step=1}confirm(){this.dialogRef.close("confirmed")}cancel(){this.dialogRef.close(null)}static \u0275fac=function(e){return new(e||i)(O(yn),O(Pn))};static \u0275cmp=b({type:i,selectors:[["app-payment-confirmation-dialog"]],standalone:!0,features:[x],decls:6,vars:6,consts:[["mat-dialog-title","",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,n){e&1&&d(0,Xi,2,0,"h1",0)(1,eo,5,0,"div",1)(2,to,5,0,"div",2)(3,no,2,0,"h1",0)(4,io,15,4,"div",1)(5,oo,5,0,"div",2),e&2&&(m("ngIf",n.step===1),l(),m("ngIf",n.step===1),l(),m("ngIf",n.step===1),l(),m("ngIf",n.step===2),l(),m("ngIf",n.step===2),l(),m("ngIf",n.step===2))},dependencies:[M,N,S,T,Sn,kn,wn,oe],styles:["mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;font-size:.95rem;line-height:1.4}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px}"]})};var ro=()=>["booking"],mt=class i{constructor(t,e,n,s,c,u,y,E){this.bookingService=t;this.staffService=e;this.authService=n;this.snackbar=s;this.dialog=c;this.router=u;this.fb=y;this.sessionService=E;console.log("[BookingList] constructor, formGroup creato"),this.formGroup=this.fb.group({type:["booking",F.required],artistId:["",F.required],date:["",F.required],time:["",F.required],duration:[60,F.required],description:["",F.required],idClient:[""],idProject:[""],price:[0],paidAmount:[0],metadata:[null]})}events=[];artistMap={};artistPhotoMap={};user;formGroup;loading=!0;userEffect=de(()=>{let t=this.authService.userSig();t&&(this.user=t)});ngOnInit(){console.log("[BookingList] ngOnInit, component inizializzato"),this.loading=!0,this.staffService.getAllStaff().subscribe(t=>{this.artistMap=t.reduce((e,n)=>X(J({},e),{[n.id]:n.name}),{}),this.artistPhotoMap=t.reduce((e,n)=>X(J({},e),{[n.id]:n.photoUrl||""}),{})}),Ne([this.bookingService.getAllBookings(),this.sessionService.getAll()]).subscribe({next:([t,e])=>{let n=(t??[]).map(c=>{let u=new Date(c.start),y=c.duration??30,E=new Date(u.getTime()+y*6e4),A=c.start.split("T")[0],K=c.title??`${this.artistMap[c.idArtist]??"Tattoo"} - consulenza`;return{id:c.id??"",type:"booking",title:K,date:A,start:c.start,end:E.toISOString(),artistId:c.idArtist??"",artistName:this.artistMap[c.idArtist]||"",metadata:{description:c.description??"",isMine:!!(c.idClient&&this.user&&c.idClient===this.user.uid),duration:y,slotCount:Math.ceil(y/30),count:1}}}),s=(e??[]).map(c=>{let u=new Date(c.start),y=new Date(c.end),E=Math.max(1,Math.round((+y-+u)/6e4)),A=c.start.split("T")[0];return{id:c.id??"",type:"session",title:c.title??"Sessione",date:A,start:c.start,end:c.end,artistId:c.idArtist??"",artistName:this.artistMap[c.idArtist]||"",metadata:{description:"Seduta",duration:E,slotCount:Math.ceil(E/30),count:1}}});this.events=[...n,...s].sort((c,u)=>+new Date(c.start)-+new Date(u.start)),this.loading=!1},error:()=>{this.snackbar.open("Errore nel caricamento degli eventi","Chiudi",{duration:4e3}),this.loading=!1}})}onBookingSubmitted(t){return Q(this,null,function*(){try{if(!this.user?.uid){this.snackbar.open("Utente non autenticato.","Chiudi",{duration:2500});return}if(!t?.artistId){this.snackbar.open("Seleziona un artista.","Chiudi",{duration:2500});return}let e=new Date(`${t.date}T${t.time}`),n=e.toISOString(),s=Number.isFinite(t.duration)?t.duration:30,c=new Date(e.getTime()+s*6e4).toISOString(),u=t.date,y={start:n,end:c,idClient:this.user.uid||"",idArtist:t.artistId,title:`${this.user.name??"Cliente"} - Tattoo`,description:t.description??"",eta:null,createAt:new Date().toISOString(),updateAt:new Date().toISOString(),price:Number.isFinite(t.price)?t.price:0,paidAmount:Number.isFinite(t.paidAmount)?t.paidAmount:0};if((yield this.dialog.open(ct,{width:"420px",data:{date:e.toLocaleDateString("it-IT"),time:t.time,artist:this.artistMap[y.idArtist]??"",email:this.user.email}}).afterClosed().toPromise())!=="confirmed"){this.snackbar.open("Prenotazione annullata.","Chiudi",{duration:2e3});return}let A=yield this.bookingService.addDraft(y),K={id:A,type:"booking",title:y.title,date:u,start:n,end:c,artistId:y.idArtist,artistName:this.artistMap[y.idArtist]??"",metadata:{description:y.description,isMine:y.idClient===this.user.uid,duration:s,slotCount:Math.ceil(s/30),count:1}};this.events=[...this.events,K],this.snackbar.open("Prenotazione salvata con successo!","OK",{duration:3e3}),this.router.navigate(["/bookings",A])}catch(e){console.error("\u274C Errore salvataggio:",e),this.snackbar.open("Errore durante il salvataggio della prenotazione.","Chiudi",{duration:4e3})}})}static \u0275fac=function(e){return new(e||i)(O(Ie),O(Je),O(q),O(Vn),O(On),O(ie),O(xe),O(ni))};static \u0275cmp=b({type:i,selectors:[["app-booking-list"]],standalone:!0,features:[x],decls:4,vars:10,consts:[[1,"booking-list-page"],[2,"color","white","padding","4px"],[3,"bookingSubmitted","events","artistMap","artistPhotoMap","user","bookingForm","bookingTypes","role","initialTheme"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"p",1),r(2),a(),o(3,"app-calendar-v2",2),g("bookingSubmitted",function(c){return n.onBookingSubmitted(c)}),a()()),e&2&&(l(2),v(" BookingList \u2013 eventi: ",(n.events==null?null:n.events.length)||0," "),l(),m("events",n.events)("artistMap",n.artistMap)("artistPhotoMap",n.artistPhotoMap)("user",n.user)("bookingForm",n.formGroup)("bookingTypes",Re(9,ro))("role","client")("initialTheme","light"))},dependencies:[M,S,oe,lt],styles:['@charset "UTF-8";.booking-list-page[_ngcontent-%COMP%]{padding:1rem;background:#121212;color:#f2f2f2}']})};function lo(i,t){if(i&1&&(o(0,"h3"),r(1),a()),i&2){let e=p().$implicit;l(),v(" ",e.title," ")}}function co(i,t){if(i&1&&(o(0,"p"),r(1),a()),i&2){let e=p().$implicit;l(),v(" ",e.caption," ")}}function mo(i,t){if(i&1&&(o(0,"article",25),_(1,"img",26)(2,"div",27),o(3,"div",28),d(4,lo,2,1,"h3",29)(5,co,2,1,"p",29),a()()),i&2){let e=t.$implicit;l(),m("src",e.src,se)("alt",e.alt),l(3),m("ngIf",e.title),l(),m("ngIf",e.caption)}}function po(i,t){if(i&1){let e=P();o(0,"button",30),g("click",function(){let s=h(e).index,c=p();return C(c.goTo(s))}),o(1,"span",31),r(2),a()()}if(i&2){let e=t.index,n=p();te("is-active",e===n.activeIndex),l(2),v("Vai alla slide ",e+1,"")}}function go(i,t){if(i&1&&(o(0,"mat-card",32)(1,"div",33),_(2,"img",26),a(),o(3,"div",34)(4,"span",35),r(5),a(),o(6,"span",36),r(7),a(),o(8,"div",37)(9,"mat-chip-set")(10,"mat-chip"),r(11),a()()()()()),i&2){let e=t.$implicit;l(2),Ht("src","/personale/",e.photo,"",se),m("alt",e.name),l(3),f(e.name),l(2),f(e.role),l(4),f(e.style)}}var pt=class i{slides=[{src:"assets/rebis/carousel/carousel-1.jpg",alt:"Tatuatore al lavoro in studio",title:"Studio Rebis",caption:"Luci basse, blackwork e attenzione totale ai dettagli."},{src:"assets/rebis/carousel/carousel-2.jpg",alt:"Dettaglio di un tatuaggio blackwork",title:"Blackwork & Fine Line",caption:"Linee pulite, contrasti netti e progetti su misura."},{src:"assets/rebis/carousel/carousel-3.jpg",alt:"Cliente durante una sessione",title:"Ogni sessione \xE8 unica",caption:"Studiamo posizionamento, forme e guarigione nel tempo."}];team=[{name:"Sara Pushi",role:"Tatuatrice - Titolare",style:"Blackwork \xB7 Fine Line",photo:"1.jpg"},{name:"Michele",role:"Tatuatore",style:"Realismo \xB7 Coperture",photo:"2.jpg"},{name:"Lorenzo",role:"Tatuatore",style:"Ornamentale \xB7 Geometrico",photo:"3.jpg"}];activeIndex=0;autoPlayDelay=5e3;intervalId;isPaused=!1;ngOnInit(){this.startAutoPlay()}ngOnDestroy(){this.stopAutoPlay()}startAutoPlay(){this.stopAutoPlay(),this.intervalId=setInterval(()=>{!this.isPaused&&this.slides.length>1&&this.next()},this.autoPlayDelay)}stopAutoPlay(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}next(){this.activeIndex=(this.activeIndex+1)%this.slides.length}prev(){this.activeIndex=(this.activeIndex-1+this.slides.length)%this.slides.length}goTo(t){this.activeIndex=t,this.restartAutoPlay()}onCarouselEnter(){this.isPaused=!0}onCarouselLeave(){this.isPaused=!1}restartAutoPlay(){this.isPaused=!1,this.startAutoPlay()}getTransform(){return`translateX(-${this.activeIndex*100}%)`}openInstagram(){window.open("https://www.instagram.com/rebis_tattoo","_blank")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-chi-siamo"]],standalone:!0,features:[x],decls:48,vars:5,consts:[[1,"about-page","mat-typography"],[1,"about-hero"],[1,"eyebrow"],[1,"intro"],[1,"highlight"],[1,"cta-row"],["mat-flat-button","","color","primary",1,"btn-primary"],["mat-outlined-button","",1,"btn-ghost"],[1,"about-carousel",3,"mouseenter","mouseleave"],[1,"carousel-inner"],[1,"carousel-track"],["class","carousel-slide",4,"ngFor","ngForOf"],[1,"carousel-actions"],[1,"carousel-dots"],["type","button",3,"is-active","click",4,"ngFor","ngForOf"],[1,"carousel-nav"],["mat-icon-button","","aria-label","Slide precedente",3,"click"],["mat-icon-button","","aria-label","Slide successiva",3,"click"],[1,"about-team"],[1,"team-header"],[1,"team-grid"],["class","team-card",4,"ngFor","ngForOf"],[1,"instagram-callout"],[1,"text"],["mat-flat-button","",1,"btn-ig",3,"click"],[1,"carousel-slide"],["loading","lazy",3,"src","alt"],[1,"slide-gradient"],[1,"slide-content"],[4,"ngIf"],["type","button",3,"click"],[1,"visually-hidden"],[1,"team-card"],[1,"avatar"],[1,"meta"],[1,"name"],[1,"role"],[1,"style-chip"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"header",1)(2,"p",2),r(3,"Studio di tatuaggi \xB7 Sassari"),a(),o(4,"h1"),r(5,"Chi siamo"),a(),o(6,"p",3),r(7," Rebis Tattoo \xE8 uno studio underground dedicato al blackwork, al fine line e ai progetti su misura. Ogni tatuaggio nasce da conversazioni reali, reference condivise e attenzione maniacale ai dettagli. "),a(),o(8,"p",4),r(9," Non facciamo tatuaggi in serie: studiamo posizionamento, forme e guarigione nel tempo per creare qualcosa che abbia senso sul tuo corpo oggi e domani. "),a(),o(10,"div",5)(11,"button",6),r(12," Prenota una consulenza "),a(),o(13,"button",7),r(14," Scopri il nostro processo "),a()()(),o(15,"section",8),g("mouseenter",function(){return n.onCarouselEnter()})("mouseleave",function(){return n.onCarouselLeave()}),o(16,"mat-card")(17,"div",9)(18,"div",10),d(19,mo,6,4,"article",11),a()(),o(20,"div",12)(21,"div",13),d(22,po,3,3,"button",14),a(),o(23,"div",15)(24,"button",16),g("click",function(){return n.prev()}),o(25,"mat-icon"),r(26,"chevron_left"),a()(),o(27,"button",17),g("click",function(){return n.next()}),o(28,"mat-icon"),r(29,"chevron_right"),a()()()()()(),o(30,"section",18)(31,"div",19)(32,"div")(33,"h2"),r(34,"Il team"),a()(),o(35,"p"),r(36," Siamo tatuatori con background diversi ma con la stessa ossessione: linee pulite, composizioni studiate e progetti che invecchiano bene sulla pelle. "),a()(),o(37,"div",20),d(38,go,12,6,"mat-card",21),a()(),o(39,"section",22)(40,"mat-card")(41,"div",23)(42,"strong"),r(43,"Vedi i lavori guariti e le cover pi\xF9 recenti"),a(),_(44,"br"),r(45," Segui il nostro studio su Instagram per vedere il lato reale di ogni progetto. "),a(),o(46,"button",24),g("click",function(){return n.openInstagram()}),r(47," Apri Instagram "),a()()()()),e&2&&(l(18),Ut("transform",n.getTransform()),l(),m("ngForOf",n.slides),l(3),m("ngForOf",n.slides),l(16),m("ngForOf",n.team))},dependencies:[M,L,N,S,I,T,ae,me,Ye,Ze],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#050508;color:#fff}.about-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:4rem 1.5rem 5rem;display:flex;flex-direction:column;gap:3.5rem}@media (max-width: 768px){.about-page[_ngcontent-%COMP%]{padding:3rem 1.25rem 4.5rem;gap:3rem}}.about-hero[_ngcontent-%COMP%]{max-width:760px;margin:0 auto}.about-hero[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:.18em;text-transform:uppercase;color:#9ca3af;margin-bottom:.75rem}.about-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2.4rem,5.5vw,3.3rem);letter-spacing:.12em;text-transform:uppercase;margin-bottom:1.25rem}.about-hero[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{font-size:1rem;line-height:1.7;color:#9ca3af;margin-bottom:1.5rem}.about-hero[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:#e5e7eb;border-left:2px solid rgba(229,231,235,.3);padding-left:1rem}.about-hero[_ngcontent-%COMP%]   .cta-row[_ngcontent-%COMP%]{margin-top:2rem;display:flex;flex-wrap:wrap;gap:.75rem}@media (max-width: 640px){.about-hero[_ngcontent-%COMP%]   .cta-row[_ngcontent-%COMP%]{flex-direction:column}}.about-hero[_ngcontent-%COMP%]   .mat-mdc-unelevated-button[_ngcontent-%COMP%], .about-hero[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]{border-radius:999px;padding-inline:1.6rem;font-size:.95rem;font-weight:500}.about-hero[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-image:linear-gradient(135deg,#f56040,#f77737,#c13584,#e1306c,#5851db);background-size:170% 170%;color:#fff!important;border:none}.about-hero[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{filter:brightness(1.02);background-position:90% 10%}.about-hero[_ngcontent-%COMP%]   .btn-ghost[_ngcontent-%COMP%]{border-color:#ffffff0f!important;color:#fff!important;background:#ffffff05}.about-hero[_ngcontent-%COMP%]   .btn-ghost[_ngcontent-%COMP%]:hover{background:#ffffff0f;border-color:#ffffff2e!important}.about-carousel[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{background:radial-gradient(circle at top left,#18192a,#101118 55%,#050508);border-radius:1.75rem;border:1px solid rgba(255,255,255,.06);padding:1.25rem 1.25rem 1.5rem}@media (max-width: 640px){.about-carousel[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{border-radius:1.3rem;padding:1rem}}.carousel-inner[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:1.25rem}.carousel-track[_ngcontent-%COMP%]{display:flex;width:100%;transition:transform .55s cubic-bezier(.22,.61,.36,1)}.carousel-slide[_ngcontent-%COMP%]{min-width:100%;position:relative;aspect-ratio:16/9;background:#000;overflow:hidden}.carousel-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;filter:saturate(1.05) contrast(1.1)}.carousel-slide[_ngcontent-%COMP%]   .slide-gradient[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(0deg,rgba(0,0,0,.9),transparent 45%)}.carousel-slide[_ngcontent-%COMP%]   .slide-content[_ngcontent-%COMP%]{position:absolute;left:1.4rem;right:1.4rem;bottom:1.4rem;display:flex;flex-direction:column;gap:.25rem}.carousel-slide[_ngcontent-%COMP%]   .slide-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.carousel-slide[_ngcontent-%COMP%]   .slide-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#9ca3af;max-width:26rem}.carousel-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:.9rem;gap:.75rem}.carousel-dots[_ngcontent-%COMP%]{display:flex;gap:.45rem}.carousel-dots[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:9px;height:9px;border-radius:999px;border:none;padding:0;background:#ffffff2e;cursor:pointer;transition:background .2s ease,transform .2s ease,width .2s ease}.carousel-dots[_ngcontent-%COMP%]   button.is-active[_ngcontent-%COMP%]{width:22px;background-image:linear-gradient(135deg,#f56040,#f77737,#c13584,#e1306c,#5851db);background-size:200% 200%;transform:translateY(-1px)}.carousel-nav[_ngcontent-%COMP%]{display:flex;gap:.4rem}.carousel-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#00000059;border-radius:999px}.about-team[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;gap:1.5rem;margin-bottom:1.75rem}.about-team[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;letter-spacing:.12em;text-transform:uppercase}.about-team[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#9ca3af;max-width:380px}@media (max-width: 768px){.about-team[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.about-team[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1.25rem}@media (max-width: 920px){.about-team[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 640px){.about-team[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]{background:#101118;border-radius:1.25rem;border:1px solid rgba(255,255,255,.06);padding:.9rem .9rem 1.1rem;display:flex;flex-direction:column;gap:.55rem;transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 18px 45px #00000073;border-color:#ffffff1f}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:100%;border-radius:.9rem;overflow:hidden;aspect-ratio:4/5;background:#000}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.15rem}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{font-size:.85rem;color:#9ca3af}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .style-chip[_ngcontent-%COMP%]{margin-top:.3rem;align-self:flex-start}.about-team[_ngcontent-%COMP%]   .mat-mdc-card.team-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .style-chip[_ngcontent-%COMP%]   .mat-mdc-chip[_ngcontent-%COMP%]{background:#ffffff08;color:#fff;font-size:.78rem;letter-spacing:.12em;text-transform:uppercase}.instagram-callout[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{border-radius:1.25rem;border:1px solid rgba(255,255,255,.06);background:radial-gradient(circle at top left,#5851db42,#101118 50%,#050508);padding:1.15rem 1.2rem;display:flex;justify-content:space-between;align-items:center;gap:1.25rem}@media (max-width: 640px){.instagram-callout[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.instagram-callout[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.9rem;color:#9ca3af}.instagram-callout[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}.instagram-callout[_ngcontent-%COMP%]   .btn-ig[_ngcontent-%COMP%]{border-radius:999px;background-image:linear-gradient(135deg,#f56040,#f77737,#c13584,#e1306c,#5851db);background-size:180% 180%;color:#fff!important;padding-inline:1.4rem;font-size:.85rem;font-weight:500}.instagram-callout[_ngcontent-%COMP%]   .btn-ig[_ngcontent-%COMP%]:hover{background-position:90% 10%;filter:brightness(1.05)}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}"]})};var dt=class i{constructor(t,e){this.fb=t;this.lang=e}contactForm;ngOnInit(){this.contactForm=this.fb.group({name:["",[F.required,F.minLength(2)]],email:["",[F.required,F.email]],message:["",[F.required,F.minLength(10)]]})}onSubmit(){this.contactForm.valid?(console.log("Messaggio inviato:",this.contactForm.value),alert("Messaggio inviato con successo!"),this.contactForm.reset()):this.contactForm.markAllAsTouched()}static \u0275fac=function(e){return new(e||i)(O(xe),O(Ke))};static \u0275cmp=b({type:i,selectors:[["app-contatti"]],standalone:!0,features:[x],decls:42,vars:16,consts:[[1,"contacts-section"],[1,"contacts-header"],[1,"chatbot-suggestion"],["mat-stroked-button","","color","accent","routerLink","/chatbot"],[1,"contacts-grid"],[1,"info-card"],[1,"cta-consulenza"],["mat-raised-button","","color","accent","routerLink","/bookings"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"div",1)(2,"h1"),r(3),B(4,"uppercase"),a(),o(5,"p"),r(6),a()(),o(7,"div",2)(8,"p"),r(9),a(),o(10,"a",3),r(11),a()(),o(12,"div",4)(13,"mat-card",5)(14,"mat-card-content")(15,"h3"),r(16),a(),o(17,"p")(18,"mat-icon"),r(19,"location_on"),a(),r(20),a(),o(21,"p")(22,"mat-icon"),r(23,"phone"),a(),r(24),a(),o(25,"p")(26,"mat-icon"),r(27,"email"),a(),r(28),a(),o(29,"h3"),r(30),a(),o(31,"p"),r(32),a(),o(33,"p"),r(34),a(),o(35,"p"),r(36),a()(),o(37,"div",6)(38,"h2"),r(39),a(),o(40,"a",7),r(41),a()()()()()),e&2&&(l(3),f($(4,14,n.lang.t("contact.title"))),l(3),f(n.lang.t("contact.subtitle")),l(3),f(n.lang.t("contact.chatbot.question")),l(2),v(" ",n.lang.t("contact.chatbot.cta")," "),l(5),f(n.lang.t("contact.locationTitle")),l(4),v(" ",n.lang.t("contact.address"),""),l(4),v(" ",n.lang.t("contact.phone"),""),l(4),v(" ",n.lang.t("contact.email"),""),l(2),f(n.lang.t("contact.hoursTitle")),l(2),f(n.lang.t("contact.hours.mondayFriday")),l(2),f(n.lang.t("contact.hours.saturday")),l(2),f(n.lang.t("contact.hours.sunday")),l(3),f(n.lang.t("contact.ctaTitle")),l(2),v(" ",n.lang.t("contact.ctaButton")," "))},dependencies:[S,I,qe,me,Dn,M,en,Me,oe,Ue],styles:[".contacts-section[_ngcontent-%COMP%]{color:#fff;padding:8vh 1.5rem;font-family:Barlow Semi Condensed,sans-serif}.contacts-section[_ngcontent-%COMP%]   .contacts-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.contacts-section[_ngcontent-%COMP%]   .contacts-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:2.8rem;margin-bottom:.5rem}.contacts-section[_ngcontent-%COMP%]   .contacts-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#787878;font-size:1.1rem}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}@media (min-width: 900px){.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]{flex-direction:row}}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{background-color:transparent;flex:1;box-shadow:0 6px 24px #0006;border:1px solid black33}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start;background-color:#000;color:#fff;font-weight:700}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;margin-top:0}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:.5rem;color:#000}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#787878}.cta-consulenza[_ngcontent-%COMP%]{margin-top:3rem;text-align:center;background-color:#111;padding:2rem;border-radius:12px;box-shadow:0 4px 20px #0006}.cta-consulenza[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:1.5rem;font-size:1.6rem}.cta-consulenza[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-weight:700}.chatbot-suggestion[_ngcontent-%COMP%]{margin-top:2rem;text-align:center;padding:1.5rem;border:1px solid black55;border-radius:12px;background:#ffffff08}.chatbot-suggestion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#787878;margin-bottom:1rem;font-size:1rem}.chatbot-suggestion[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;border-color:#000}"]})};var ci=()=>{let i=k(q),t=k(ie),e=i.userSig();return e?e.role!=="client"&&e.role!=="admin"?t.createUrlTree(["/"]):!0:t.createUrlTree(["/login"])};var gt=class i{constructor(t,e){this.auth=t;this.router=e}canActivate(){let t=this.auth.userSig();return t?t.role!=="admin"?this.router.createUrlTree(["/access-denied"]):!0:(localStorage.setItem("pre-log","/admin"),this.router.createUrlTree(["/login"]))}static \u0275fac=function(e){return new(e||i)(De(q),De(ie))};static \u0275prov=ee({token:i,factory:i.\u0275fac,providedIn:"root"})};var uo=["*"],ut=class i{title="REBIS TATTOO";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-fast-booking-layout"]],inputs:{title:"title"},standalone:!0,features:[x],ngContentSelectors:uo,decls:5,vars:0,consts:[[1,"shell"],[1,"top"],[1,"main"]],template:function(e,n){e&1&&(Gt(),o(0,"div",0)(1,"header",1),r(2,"REBIS TATTOO"),a(),o(3,"main",2),qt(4),a()())},dependencies:[M],styles:[".shell[_ngcontent-%COMP%]{min-height:100vh;background:#fff;color:#000;display:flex;flex-direction:column}.top[_ngcontent-%COMP%]{height:56px;display:flex;align-items:center;justify-content:center;border-bottom:1px solid #ededed;font-weight:900;letter-spacing:.12em}.main[_ngcontent-%COMP%]{flex:1}"],changeDetection:0})};var R=class i{staffService=k(Je);bookingService=k(Ie);userService=k(ii);paymentApi=k(oi);steps=["intro","artist","when","details","summary","payment","success"];step=j("intro");depositEuro=j(50);durationMin=j(60);artists=j([]);loadingArtists=j(!1);selectedDate=j(null);slots=j([]);loadingSlots=j(!1);bookingId=j(null);paymentClientSecret=j(null);paymentIntentId=j(null);paying=j(!1);error=j(null);draft=j({artistId:null,artistName:null,date:null,time:null,name:null,contact:null,description:null});constructor(){de(()=>{this.step()==="artist"&&this.artists().length===0&&queueMicrotask(()=>this.fetchArtists())}),de(()=>{let t=this.step(),e=this.draft(),n=this.selectedDate();t==="when"&&e.artistId&&n&&queueMicrotask(()=>this.fetchSlots(e.artistId,n))})}stepIndex=W(()=>this.steps.indexOf(this.step()));progress=W(()=>(this.stepIndex()+1)/this.steps.length*100);canBack=W(()=>this.stepIndex()>0&&this.step()!=="success");canNext=W(()=>{let t=this.step(),e=this.draft();return t==="artist"?!!e.artistId:t==="when"?!!e.date&&!!e.time:t==="details"?!!e.name&&!!e.contact&&!!e.description:t!=="payment"});back(){this.error.set(null),!(this.stepIndex()<=0)&&this.step.set(this.steps[this.stepIndex()-1])}next(){this.error.set(null),!(this.stepIndex()>=this.steps.length-1)&&this.step.set(this.steps[this.stepIndex()+1])}go(t){this.error.set(null),this.step.set(t)}setArtist(t){this.draft.update(e=>X(J({},e),{artistId:t.id??null,artistName:t.name??null})),this.selectedDate.set(null),this.slots.set([]),this.setWhen(null,null)}setDate(t){this.selectedDate.set(t),this.draft.update(e=>X(J({},e),{date:t,time:null}))}setWhen(t,e){this.draft.update(n=>X(J({},n),{date:t,time:e}))}setDetails(t){this.draft.update(e=>X(J({},e),{name:t.name,contact:t.contact,description:t.description}))}fetchArtists(){return Q(this,null,function*(){try{this.loadingArtists.set(!0);let e=((yield wt(this.staffService.getAllStaff()))??[]).filter(n=>(n.isActive??!0)===!0).filter(n=>n.role==="tatuatore").sort((n,s)=>(n.name||"").localeCompare(s.name||""));this.artists.set(e)}catch(t){console.error(t),this.error.set("Impossibile caricare gli artisti. Riprova.")}finally{this.loadingArtists.set(!1)}})}fetchSlots(t,e){return Q(this,null,function*(){try{this.loadingSlots.set(!0),this.error.set(null);let n=this.durationMin(),s=yield this.bookingService.getFreeSlotsInDay(t,e,n);this.slots.set(s??[])}catch(n){console.error("[FAST_BOOKING][SLOTS] ERROR",n),this.slots.set([]),this.error.set("Impossibile caricare gli orari disponibili per questo giorno.")}finally{this.loadingSlots.set(!1)}})}startPayment(){return Q(this,null,function*(){try{this.error.set(null),this.paying.set(!0);let t=this.draft(),e=this.userService.getCurrentUserId();if(!e){this.error.set("Per procedere serve il login (utente non autenticato).");return}if(!t.artistId||!t.date||!t.time){this.error.set("Seleziona artista, data e ora prima di pagare.");return}if(!t.name||!t.contact||!t.description){this.error.set("Completa i dati (nome, contatto, descrizione) prima di pagare.");return}let n={artistId:t.artistId,date:t.date,time:t.time,duration:this.durationMin(),note:t.description},s=yield this.bookingService.addDraftFromChat(n,{idClient:e,clientName:t.name});this.bookingId.set(s);let c=Math.round(this.depositEuro()*100),u=yield wt(this.paymentApi.createPaymentIntent({amount:c,currency:"eur",description:`Caparra consulenza Rebis Tattoo - booking ${s}`}));this.paymentClientSecret.set(u.clientSecret),this.paymentIntentId.set(u.paymentIntentId)}catch(t){console.error(t),this.error.set("Errore durante la creazione del pagamento. Riprova.")}finally{this.paying.set(!1)}})}confirmPaymentSuccess(){return Q(this,null,function*(){try{let t=this.bookingId();if(!t){this.error.set("Booking non trovato.");return}let e=this.depositEuro();yield this.bookingService.safeSetStatus(t,"paid",{paidAmount:e,price:e,updateAt:new Date().toISOString()}),this.go("success")}catch(t){console.error(t),this.error.set("Pagamento registrato? Non riesco ad aggiornare lo stato booking.")}})}resetAll(){this.error.set(null),this.bookingId.set(null),this.paymentClientSecret.set(null),this.paymentIntentId.set(null),this.selectedDate.set(null),this.slots.set([]),this.draft.set({artistId:null,artistName:null,date:null,time:null,name:null,contact:null,description:null}),this.step.set("intro")}static \u0275fac=function(e){return new(e||i)};static \u0275prov=ee({token:i,factory:i.\u0275fac,providedIn:"root"})};var fo=(i,t)=>t.id;function _o(i,t){i&1&&(o(0,"div",2),_(1,"mat-spinner",4),a())}function ho(i,t){if(i&1){let e=P();o(0,"button",6),g("click",function(){let s=h(e).$implicit,c=p(2);return C(c.select(s))}),_(1,"img",7),o(2,"span"),r(3),a(),_(4,"span",8),a()}if(i&2){let e=t.$implicit,n=p(2);te("active",n.selectedId()===e.id),l(),m("src",e==null?null:e.photoUrl,se),l(2),f(e.name)}}function Co(i,t){if(i&1&&(o(0,"div",3),Te(1,ho,5,4,"button",5,fo),a()),i&2){let e=p();l(),Fe(e.artists())}}var ft=class i{store=k(R);artists=this.store.artists;loading=this.store.loadingArtists;selectedId=W(()=>this.store.draft().artistId);select(t){this.store.setArtist(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-step-artist"]],standalone:!0,features:[x],decls:6,vars:1,consts:[[1,"h1"],[1,"p"],[1,"center"],[1,"list"],["diameter","32"],[1,"row",3,"active"],[1,"row",3,"click"],["width","48px","alt","",3,"src"],[1,"dot"]],template:function(e,n){e&1&&(o(0,"h1",0),r(1,"ARTISTA"),a(),o(2,"p",1),r(3,"Scegli chi seguir\xE0 la tua consulenza"),a(),d(4,_o,2,0,"div",2)(5,Co,3,0,"div",3)),e&2&&(l(4),U(n.loading()?4:5))},dependencies:[M,Pe,ye],styles:[".h1[_ngcontent-%COMP%]{font-size:22px;font-weight:900;margin-bottom:6px}.p[_ngcontent-%COMP%]{font-size:13px;color:#444;margin-bottom:16px}.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.row[_ngcontent-%COMP%]{padding:14px;border:1px solid #ededed;border-radius:12px;background:#fff;display:flex;justify-content:space-between;align-items:center}.row.active[_ngcontent-%COMP%]{border-color:#000}.dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#e0e0e0}.row.active[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#000}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}"],changeDetection:0})};var _t=class i{ngOnInit(){console.log("intro")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-step-intro"]],standalone:!0,features:[x],decls:15,vars:0,consts:[[1,"title"],[1,"text"],[1,"info"]],template:function(e,n){e&1&&(o(0,"h1",0),r(1," PRENOTA"),_(2,"br"),r(3," LA TUA"),_(4,"br"),r(5,` CONSULENZA
`),a(),o(6,"p",1),r(7," La consulenza serve a valutare il progetto, definire tempi e costi."),_(8,"br"),r(9," L\u2019importo versato verr\xE0 "),o(10,"strong"),r(11,"scalato dal prezzo finale"),a(),r(12,` del tatuaggio.
`),a(),o(13,"div",2),r(14,` Prenotabili solo consulenze. Le sessioni tattoo vengono pianificate dopo l\u2019approvazione del progetto.
`),a())},dependencies:[M],changeDetection:0})};var vo=(i,t)=>t.value,bo=(i,t)=>t.time;function xo(i,t){if(i&1){let e=P();o(0,"button",10),g("click",function(){let s=h(e).$implicit,c=p();return C(c.pickDate(s.value))}),r(1),a()}if(i&2){let e=t.$implicit,n=p();te("active",n.selectedDate()===e.value),l(),v(" ",e.label," ")}}function Mo(i,t){i&1&&(o(0,"div",8),_(1,"mat-progress-spinner",11),o(2,"span"),r(3,"Carico disponibilit\xE0\u2026"),a()())}function yo(i,t){if(i&1&&(o(0,"div",12),r(1),a()),i&2){let e=p(2);l(),f(e.error())}}function Po(i,t){i&1&&(o(0,"div",13),r(1,"Nessuno slot disponibile per questo giorno."),a())}function Oo(i,t){if(i&1){let e=P();o(0,"button",15),g("click",function(){let s=h(e).$implicit,c=p(2);return C(c.pickTime(s.time))}),o(1,"mat-icon",16),r(2,"schedule"),a(),r(3),a()}if(i&2){let e=t.$implicit,n=p(2);te("active",n.draft().time===e.time),l(3),v(" ",e.time," ")}}function So(i,t){if(i&1&&(d(0,yo,2,1,"div",12)(1,Po,2,0,"div",13),o(2,"div",9),Te(3,Oo,4,3,"button",14,bo),a()),i&2){let e=p();U(e.error()&&e.selectedDate()?0:-1),l(),U(e.slots().length===0&&e.selectedDate()?1:-1),l(2),Fe(e.slots())}}var ht=class i{store=k(R);draft=this.store.draft;selectedDate=this.store.selectedDate;slots=this.store.slots;loading=this.store.loadingSlots;error=this.store.error;days=W(()=>{let t=[],e=new Date;for(let n=0;n<7;n++){let s=new Date(e);s.setDate(e.getDate()+n);let c=s.getFullYear(),u=String(s.getMonth()+1).padStart(2,"0"),y=String(s.getDate()).padStart(2,"0"),E=`${c}-${u}-${y}`,A=s.toLocaleDateString("it-IT",{weekday:"short",day:"2-digit",month:"short"});t.push({label:A,value:E})}return t});pickDate(t){this.store.setDate(t)}pickTime(t){let e=this.selectedDate();this.store.setWhen(e,t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-step-when"]],standalone:!0,features:[x],decls:17,vars:1,consts:[[1,"step"],[1,"head"],[1,"sub"],[1,"card"],[1,"label"],[1,"days"],["mat-button","",1,"day",3,"active"],[1,"divider"],[1,"loading"],[1,"times"],["mat-button","",1,"day",3,"click"],["diameter","24","mode","indeterminate"],[1,"error"],[1,"empty"],["mat-stroked-button","",1,"time",3,"active"],["mat-stroked-button","",1,"time",3,"click"],[1,"ico"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"header",1)(2,"h2"),r(3,"Quando vuoi venire?"),a(),o(4,"p",2),r(5," Seleziona un giorno e poi un orario disponibile per la consulenza. "),a()(),o(6,"div",3)(7,"div",4),r(8,"Giorno"),a(),o(9,"div",5),Te(10,xo,2,3,"button",6,vo),a(),_(12,"div",7),o(13,"div",4),r(14,"Orari disponibili"),a(),d(15,Mo,4,0,"div",8)(16,So,5,2,"div",9),a()()),e&2&&(l(10),Fe(n.days()),l(5),U(n.loading()?15:16))},dependencies:[M,Se,T,Pe,ye,$n,Oe,I],styles:[".step[_ngcontent-%COMP%]{display:grid;gap:12px}.head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;letter-spacing:.2px}.head[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{margin:6px 0 0;opacity:.8;font-size:13px;line-height:1.35}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px;border:1px solid rgba(255,255,255,.1);background:#00000040;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.label[_ngcontent-%COMP%]{font-size:12px;opacity:.75;margin-bottom:8px}.days[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;overflow:auto;padding-bottom:6px}.days[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{border-radius:999px;white-space:nowrap;border:1px solid rgba(255,255,255,.12)}.days[_ngcontent-%COMP%]   .day.active[_ngcontent-%COMP%]{border-color:#ffd7008c;box-shadow:0 0 0 3px #ffd7001a}.divider[_ngcontent-%COMP%]{height:1px;margin:12px 0;background:#ffffff1a}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;opacity:.9}.error[_ngcontent-%COMP%]{padding:10px 12px;border-radius:12px;background:#ff50501a;border:1px solid rgba(255,80,80,.25);margin-bottom:10px}.empty[_ngcontent-%COMP%]{opacity:.75;font-size:13px;padding:8px 0 2px}.times[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}.times[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{border-radius:14px;justify-content:flex-start;padding:10px 12px}.times[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .ico[_ngcontent-%COMP%]{margin-right:8px;opacity:.8}.times[_ngcontent-%COMP%]   .time.active[_ngcontent-%COMP%]{border-color:#ffd7008c;box-shadow:0 0 0 3px #ffd7001a}"],changeDetection:0})};var Ct=class i{store=k(R);draft=this.store.draft;update(t,e){this.store.draft.update(n=>X(J({},n),{[t]:e}))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-step-details"]],standalone:!0,features:[x],decls:16,vars:3,consts:[[1,"h1"],[1,"p"],[1,"form"],["type","text","placeholder","Es. Mario Rossi",3,"input","value"],["type","text","placeholder","email o numero",3,"input","value"],["rows","4","placeholder","Descrivi brevemente l\u2019idea del tatuaggio",3,"input","value"],[1,"hint"]],template:function(e,n){e&1&&(o(0,"h1",0),r(1,"I TUOI DATI"),a(),o(2,"p",1),r(3,` Inserisci i dati per completare la richiesta di consulenza.
`),a(),o(4,"div",2)(5,"label"),r(6,"Nome e Cognome"),a(),o(7,"input",3),g("input",function(c){return n.update("name",c.target.value)}),a(),o(8,"label"),r(9,"Email o Telefono"),a(),o(10,"input",4),g("input",function(c){return n.update("contact",c.target.value)}),a(),o(11,"label"),r(12,"Descrizione del progetto"),a(),o(13,"textarea",5),g("input",function(c){return n.update("description",c.target.value)}),a()(),o(14,"div",6),r(15,` I dati verranno usati solo per la gestione della consulenza.
`),a()),e&2&&(l(7),m("value",n.draft().name||""),l(3),m("value",n.draft().contact||""),l(3),m("value",n.draft().description||""))},dependencies:[M,Me,S],styles:[".h1[_ngcontent-%COMP%]{margin:18px 0 6px;font-size:22px;font-weight:900}.p[_ngcontent-%COMP%]{margin-bottom:14px;font-size:13px;color:#444}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}label[_ngcontent-%COMP%]{font-size:12px;color:#666}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border-radius:12px;border:1px solid #ededed;font-size:14px;outline:none;background:#fff}textarea[_ngcontent-%COMP%]{resize:none}.hint[_ngcontent-%COMP%]{margin-top:12px;font-size:12px;color:#666;line-height:1.5}"],changeDetection:0})};var vt=class i{store=k(R);d=this.store.draft;deposit=50;whenText=W(()=>{let t=this.d();return!t.date||!t.time?"\u2014":`${t.date} \xB7 ${t.time}`});contactText=W(()=>{let t=this.d();return t.contact?t.contact:"\u2014"});descriptionText=W(()=>{let t=this.d();return t.description?t.description:"\u2014"});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-step-summary"]],standalone:!0,features:[x],decls:48,vars:6,consts:[[1,"h1"],[1,"p"],[1,"card"],[1,"row"],[1,"block"],[1,"label"],[1,"desc"],[1,"price"],[1,"disclaimer"],[1,"hint"]],template:function(e,n){e&1&&(o(0,"h1",0),r(1,"RIEPILOGO"),a(),o(2,"p",1),r(3,"Controlla i dati prima di passare al pagamento."),a(),o(4,"div",2)(5,"div",3)(6,"span"),r(7,"Tipo"),a(),o(8,"strong"),r(9,"Consulenza"),a()(),o(10,"div",3)(11,"span"),r(12,"Artista"),a(),o(13,"strong"),r(14),a()(),o(15,"div",3)(16,"span"),r(17,"Quando"),a(),o(18,"strong"),r(19),a()()(),o(20,"div",2)(21,"div",3)(22,"span"),r(23,"Nome"),a(),o(24,"strong"),r(25),a()(),o(26,"div",3)(27,"span"),r(28,"Contatto"),a(),o(29,"strong"),r(30),a()(),o(31,"div",4)(32,"div",5),r(33,"Descrizione"),a(),o(34,"div",6),r(35),a()()(),o(36,"div",7)(37,"span"),r(38,"Importo consulenza"),a(),o(39,"strong"),r(40),a()(),o(41,"div",8),r(42," L\u2019importo della consulenza verr\xE0 "),o(43,"strong"),r(44,"scalato dal prezzo finale"),a(),r(45,` del tatuaggio in caso di conferma del progetto.
`),a(),o(46,"div",9),r(47,` Prossimo step: pagamento per bloccare lo slot.
`),a()),e&2&&(l(14),f(n.d().artistName||"\u2014"),l(5),f(n.whenText()),l(6),f(n.d().name||"\u2014"),l(5),f(n.contactText()),l(5),f(n.descriptionText()),l(5),v("\u20AC",n.deposit,""))},dependencies:[M],styles:[".h1[_ngcontent-%COMP%]{margin:18px 0 6px;font-size:22px;font-weight:900;letter-spacing:.02em}.p[_ngcontent-%COMP%]{margin:0 0 14px;font-size:13px;color:#444}.card[_ngcontent-%COMP%]{border:1px solid #ededed;border-radius:14px;padding:12px;background:#fff;margin-bottom:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;padding:10px 2px;border-bottom:1px solid #f1f1f1;font-size:13px}.row[_ngcontent-%COMP%]:last-child{border-bottom:none}.row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666}.row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:900}.block[_ngcontent-%COMP%]{padding:10px 2px 2px}.label[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-bottom:6px}.desc[_ngcontent-%COMP%]{font-size:13px;line-height:1.55;color:#111;white-space:pre-wrap}.price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;padding:12px 2px;border-top:1px solid #ededed;border-bottom:1px solid #ededed;margin-top:8px}.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666;font-size:13px}.price[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px;font-weight:900}.disclaimer[_ngcontent-%COMP%]{margin-top:12px;border-left:3px solid #000;padding:12px;background:#fafafa;font-size:13px;line-height:1.55}.hint[_ngcontent-%COMP%]{margin-top:10px;font-size:12px;color:#666}"],changeDetection:0})};function wo(i,t){if(i&1&&(o(0,"div",9),r(1),a()),i&2){let e=p();l(),f(e.error())}}function ko(i,t){if(i&1){let e=P();o(0,"div",12)(1,"div",13),r(2,"Booking creato: "),o(3,"b"),r(4),a()(),o(5,"div",13),r(6,"clientSecret pronto (Stripe)."),a(),o(7,"button",14),g("click",function(){h(e);let s=p();return C(s.confirmSuccess())}),r(8," Simula pagamento riuscito "),a()()}if(i&2){let e=p();l(4),f(e.bookingId())}}var bt=class i{store=k(R);draft=this.store.draft;paying=this.store.paying;error=this.store.error;bookingId=this.store.bookingId;clientSecret=this.store.paymentClientSecret;depositEuro=this.store.depositEuro;pay(){this.store.startPayment()}confirmSuccess(){this.store.confirmPaymentSuccess()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-step-payment"]],standalone:!0,features:[x],decls:29,vars:4,consts:[[1,"step"],[1,"head"],[1,"sub"],[1,"card"],[1,"row"],[1,"k"],[1,"v"],[1,"note"],[1,"ico"],[1,"error"],[1,"actions"],["mat-flat-button","","color","primary",3,"click","disabled"],[1,"debug"],[1,"small"],["mat-stroked-button","",1,"ok",3,"click"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"header",1)(2,"h2"),r(3,"Pagamento caparra"),a(),o(4,"p",2),r(5," Per confermare la consulenza \xE8 richiesta una caparra. "),a()(),o(6,"div",3)(7,"div",4)(8,"div",5),r(9,"Caparra"),a(),o(10,"div",6),r(11),a()(),o(12,"div",7)(13,"mat-icon",8),r(14,"info"),a(),o(15,"div")(16,"b"),r(17,"Nota:"),a(),r(18," la caparra verr\xE0 "),o(19,"b"),r(20,"scalata dal prezzo finale del tatuaggio"),a(),r(21,". "),a()(),d(22,wo,2,1,"div",9),o(23,"div",10)(24,"button",11),g("click",function(){return n.pay()}),o(25,"mat-icon"),r(26,"lock"),a(),r(27," Paga ora "),a()(),d(28,ko,9,1,"div",12),a()()),e&2&&(l(11),v("\u20AC ",n.depositEuro(),""),l(11),U(n.error()?22:-1),l(2),m("disabled",n.paying()),l(4),U(n.bookingId()&&n.clientSecret()?28:-1))},dependencies:[M,Se,T,Oe,I],styles:[".step[_ngcontent-%COMP%]{display:grid;gap:12px}.head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.head[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{margin:6px 0 0;opacity:.8;font-size:13px}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px;border:1px solid rgba(255,255,255,.1);background:#00000040;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.row[_ngcontent-%COMP%]   .k[_ngcontent-%COMP%]{opacity:.75;font-size:13px}.row[_ngcontent-%COMP%]   .v[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.note[_ngcontent-%COMP%]{margin-top:12px;display:grid;grid-template-columns:20px 1fr;gap:10px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,215,0,.18);background:#ffd7000f}.note[_ngcontent-%COMP%]   .ico[_ngcontent-%COMP%]{opacity:.8}.note[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:800}.error[_ngcontent-%COMP%]{margin-top:12px;padding:10px 12px;border-radius:12px;background:#ff50501a;border:1px solid rgba(255,80,80,.25)}.actions[_ngcontent-%COMP%]{margin-top:14px;display:grid}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:14px;padding:12px 14px}.debug[_ngcontent-%COMP%]{margin-top:14px;padding-top:12px;border-top:1px solid rgba(255,255,255,.1)}.debug[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:12px;opacity:.8;margin:4px 0}.debug[_ngcontent-%COMP%]   .ok[_ngcontent-%COMP%]{margin-top:10px;border-radius:12px}"],changeDetection:0})};function Io(i,t){if(i&1&&(o(0,"div",7),r(1," Codice prenotazione: "),o(2,"b"),r(3),a()()),i&2){let e=p();l(3),f(e.bookingId())}}var xt=class i{store=k(R);draft=this.store.draft;bookingId=this.store.bookingId;again(){this.store.resetAll()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-step-success"]],standalone:!0,features:[x],decls:23,vars:4,consts:[[1,"step"],[1,"hero"],[1,"badge"],[1,"card"],[1,"row"],[1,"k"],[1,"v"],[1,"code"],["mat-stroked-button","",1,"btn",3,"click"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),r(4,"check_circle"),a()(),o(5,"h2"),r(6,"Prenotazione confermata"),a(),o(7,"p"),r(8," Perfetto! La tua consulenza \xE8 stata confermata. "),a()(),o(9,"div",3)(10,"div",4)(11,"div",5),r(12,"Artista"),a(),o(13,"div",6),r(14),a()(),o(15,"div",4)(16,"div",5),r(17,"Data"),a(),o(18,"div",6),r(19),a()(),d(20,Io,4,1,"div",7),a(),o(21,"button",8),g("click",function(){return n.again()}),r(22," Prenota un\u2019altra consulenza "),a()()),e&2&&(l(14),f(n.draft().artistName),l(5),Le("",n.draft().date," \u2022 ",n.draft().time,""),l(),U(n.bookingId()?20:-1))},dependencies:[M,Se,T,Oe,I],styles:[".step[_ngcontent-%COMP%]{display:grid;gap:14px}.hero[_ngcontent-%COMP%]{text-align:center;padding-top:6px}.hero[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{width:54px;height:54px;margin:0 auto 10px;border-radius:18px;display:grid;place-items:center;background:#00c8781f;border:1px solid rgba(0,200,120,.22)}.hero[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:scale(1.2)}.hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 0;opacity:.8;font-size:13px}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px;border:1px solid rgba(255,255,255,.1);background:#00000040;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:8px 0}.row[_ngcontent-%COMP%]   .k[_ngcontent-%COMP%]{opacity:.75;font-size:13px}.row[_ngcontent-%COMP%]   .v[_ngcontent-%COMP%]{font-weight:700}.code[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,.1);font-size:13px;opacity:.9}.btn[_ngcontent-%COMP%]{border-radius:14px;padding:12px 14px}"],changeDetection:0})};function Eo(i,t){i&1&&_(0,"app-step-intro")}function Do(i,t){i&1&&_(0,"app-step-artist")}function To(i,t){i&1&&_(0,"app-step-when")}function Fo(i,t){i&1&&_(0,"app-step-details")}function Ao(i,t){i&1&&_(0,"app-step-summary")}function Vo(i,t){i&1&&_(0,"app-step-payment")}function zo(i,t){i&1&&_(0,"app-step-success")}var Mt=class i{store=k(R);step=this.store.step;progress=this.store.progress;canBack=this.store.canBack;canNext=this.store.canNext;back(){this.store.back()}next(){this.store.next()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-fast-booking-page"]],standalone:!0,features:[x],decls:15,vars:4,consts:[["mode","determinate",3,"value"],[1,"content"],[1,"footer"],["mat-button","",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(e,n){if(e&1&&(o(0,"app-fast-booking-layout"),_(1,"mat-progress-bar",0),o(2,"section",1),d(3,Eo,1,0,"app-step-intro")(4,Do,1,0,"app-step-artist")(5,To,1,0,"app-step-when")(6,Fo,1,0,"app-step-details")(7,Ao,1,0,"app-step-summary")(8,Vo,1,0,"app-step-payment")(9,zo,1,0,"app-step-success"),a(),o(10,"footer",2)(11,"button",3),g("click",function(){return n.back()}),r(12,"Indietro"),a(),o(13,"button",4),g("click",function(){return n.next()}),r(14," Continua "),a()()()),e&2){let s;l(),m("value",n.progress()),l(2),U((s=n.step())==="intro"?3:s==="artist"?4:s==="when"?5:s==="details"?6:s==="summary"?7:s==="payment"?8:s==="success"?9:-1),l(8),m("disabled",!n.canBack()),l(2),m("disabled",!n.canNext())}},dependencies:[M,S,T,Un,ut,ft,_t,ht,Ct,vt,bt,xt],styles:[".content[_ngcontent-%COMP%]{padding:18px 16px 110px;max-width:520px;margin:0 auto}.footer[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid #ededed;padding:12px 16px;display:flex;gap:10px;align-items:center}.footer.hidden[_ngcontent-%COMP%]{display:none}.ghost[_ngcontent-%COMP%]{border:1px solid #e5e5e5;background:#fff;color:#000;border-radius:12px;padding:12px 14px}.primary[_ngcontent-%COMP%]{flex:1;background:#000!important;color:#fff!important;border-radius:12px;padding:12px 14px}"],changeDetection:0})};var mi=[{path:"login",component:Xe},{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>import("./chunk-V7C7SIQO.js").then(i=>i.HomeModule)},{path:"servizi",component:it},{path:"progetti",loadChildren:()=>import("./chunk-NZ5XVRHO.js").then(i=>i.ProjectsModule)},{path:"fast-booking",component:Mt},{path:"bookings",component:mt},{path:"chi-siamo",component:pt},{path:"contatti",component:dt},{path:"dashboard",loadChildren:()=>import("./chunk-GZTOPQOF.js").then(i=>i.ClientsModule),canActivate:[ci]},{path:"admin",loadChildren:()=>import("./chunk-YSMR6EKG.js").then(i=>i.AdminModule),canActivate:[gt]},{path:"bookings/:id",loadComponent:()=>import("./chunk-22HMYIM4.js").then(i=>i.BookingDetailComponent)},{path:"**",redirectTo:"/home"}];var Bo="@",No=(()=>{class i{constructor(e,n,s,c,u){this.doc=e,this.delegate=n,this.zone=s,this.animationType=c,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=k(Rt,{optional:!0}),this.loadingSchedulerFn=k(Lo,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-VUJGHSPF.js").then(s=>s),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(s=>{throw new At(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:c})=>{this._engine=s(this.animationType,this.doc);let u=new c(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(e,n){let s=this.delegate.createRenderer(e,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let c=new Dt(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let y=u.createRenderer(e,n);c.use(y),this.scheduler?.notify(10)}).catch(u=>{c.use(s)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){Lt()}}static{this.\u0275prov=ee({token:i,factory:i.\u0275fac})}}return i})(),Dt=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,s){this.delegate.insertBefore(t,e,n,s)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,s){this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,s){this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(s=>s.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(s=>s.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(Bo)}},Lo=new Vt("");function pi(i="animations"){return $t("NgAsyncAnimations"),zt([{provide:jt,useFactory:(t,e,n)=>new No(t,e,n,i),deps:[Jt,an,Bt]},{provide:Nt,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var di={providers:[Kt({eventCoalescing:!0}),on(),ln(mi,cn()),pi(),Wn(()=>Gn({projectId:"rebis-tattoo-55816",appId:"1:70352364616:web:24a6df01d24f6b4947647d",databaseURL:"https://rebis-tattoo-55816-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"rebis-tattoo-55816.firebasestorage.app",apiKey:"AIzaSyDFOFTJ9p60YeoVdLGo8ZfuaOOaUpgAP5E",authDomain:"rebis-tattoo-55816.firebaseapp.com",messagingSenderId:"70352364616",measurementId:"G-1HW9SPJ1CN"})),qn(()=>Hn()),Qn(()=>Yn()),Kn(()=>Jn())]};var Ro=["scrollContainer"],jo=["bottomAnchor"];function $o(i,t){if(i&1){let e=P();o(0,"mat-chip",20),g("click",function(){let s=h(e).$implicit,c=p(3);return C(c.onChipClick(s))})("keydown.enter",function(){let s=h(e).$implicit,c=p(3);return C(c.onChipClick(s))}),r(1),a()}if(i&2){let e=t.$implicit;l(),v(" ",e," ")}}function Uo(i,t){if(i&1&&(o(0,"div",17)(1,"mat-chip-set",18),d(2,$o,2,1,"mat-chip",19),a()()),i&2){let e=p().$implicit;l(2),m("ngForOf",e.chips)}}function Wo(i,t){if(i&1&&(V(0),o(1,"div",14)(2,"mat-card",15),r(3),a(),d(4,Uo,3,1,"div",16),a(),z()),i&2){let e=t.$implicit,n=t.index,s=p();l(),m("ngClass",e.from),l(),m("ngClass",e.from),l(),v(" ",e.text," "),l(),m("ngIf",e.from==="bot"&&n===s.messages.length-1&&(e.chips==null?null:e.chips.length))}}function Go(i,t){i&1&&(o(0,"mat-card",21),r(1," \u{1F916} sta scrivendo... "),a())}function qo(i,t){if(i&1){let e=P();o(0,"button",22),g("click",function(){h(e);let s=p();return C(s.scrollToBottom())}),o(1,"mat-icon"),r(2,"arrow_downward"),a()()}}var yt=class i{constructor(t,e,n,s){this.chatService=t;this.auth=e;this.router=n;this.bookingService=s;this.startConversation()}messages=[];inputText="";typing=!1;isUserAtBottom=!0;chatId=null;userId=null;userName;scrollContainer;bottomAnchor;ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){this.bottomAnchor?.nativeElement?.scrollIntoView({behavior:"smooth"})}onScroll(){let t=this.scrollContainer.nativeElement,e=150;this.isUserAtBottom=t.scrollTop+t.clientHeight>=t.scrollHeight-e}trackByIndex=t=>t;addUserMessage(t){this.messages.push({text:t,from:"user"}),this.saveMessage("user",t)}addBotMessage(t,e){this.messages.push({text:t,from:"bot",chips:e?.length?e:null}),this.saveMessage("bot",t,e||void 0)}saveMessage(t,e,n){if(!this.chatId||!this.userId)return;let s={from:t,text:e,timestamp:new Date().toISOString(),chips:n??null};this.chatService.addMessage(this.chatId,s).catch(c=>console.error("saveMessage ERROR",c))}listenToChat(t){this.chatService.getMessages(t).subscribe(e=>{this.messages=e.map(n=>({text:n.text,from:n.from,chips:n.chips||null})),this.scrollToBottom(),this.messages.length===0&&this.addBotMessage("\u{1F7E2} Posso aiutarti con assistenza o guidarti nella prenotazione. Vuoi iniziare?",["Prenotazione guidata","Apri booking","\u2139\uFE0F Info"])})}startConversation(){let t=this.auth.userSig();if(t){this.userId=t.uid,this.userName=t.name||void 0;let e=t.email||t.uid;this.chatService.createOrReuseChatByEmail(e).then(n=>{this.chatId=n,this.listenToChat(n)})}else{let e=prompt("Inserisci la tua email per iniziare la conversazione:");if(!e)return;this.userId=null,this.userName=void 0,this.chatService.createOrReuseChatByEmail(e).then(n=>{this.chatId=n,this.listenToChat(n)})}}sendMessage(){return Q(this,null,function*(){let t=this.inputText.trim();if(!t||!this.chatId)return;this.addUserMessage(t),this.inputText="",this.typing=!0;let e=this.messages.map(s=>({from:s.from,text:s.text,timestamp:new Date().toISOString(),chips:s.chips||void 0})),n=yield this.chatService.replyWithPlan(this.chatId,e);if(this.typing=!1,this.addBotMessage(n.message,n.chips),n.action?.type==="booking-draft"){let s=n.action.draft,c=this.auth.userSig();if(!(c?.email||prompt("Inserisci un'email per confermare la prenotazione:"))||!s?.date||!s?.time||!s?.artistId){this.addBotMessage("\u274C Impossibile completare la prenotazione. Dati insufficienti.");return}try{let y=c?.uid||`anonimo-${this.chatId}`;yield this.bookingService.addDraftFromChat(s,{idClient:y,clientName:this.userName??"Utente Chat"}),this.addBotMessage("\u2705 Prenotazione registrata con successo! Puoi vedere i dettagli nella tua area personale.",["Vai al profilo"])}catch(y){console.error("Errore durante la prenotazione:",y),this.addBotMessage("\u274C Errore durante la prenotazione. Riprova pi\xF9 tardi.")}}})}onChipClick(t){if(t==="Accedi"||t==="Registrati"){this.router.navigate(["/login"]);return}if(t==="Prenotazione guidata"){this.inputText="prenota una consulenza",this.sendMessage();return}if(t==="Apri booking"){this.router.navigate(["/bookings"]);return}if(t==="Vai al profilo"){this.router.navigate(["/account"]);return}this.inputText=t,this.sendMessage()}static \u0275fac=function(e){return new(e||i)(O(ai),O(q),O(ie),O(Ie))};static \u0275cmp=b({type:i,selectors:[["app-chat-bot"]],viewQuery:function(e,n){if(e&1&&(Ae(Ro,5),Ae(jo,5)),e&2){let s;Ve(s=ze())&&(n.scrollContainer=s.first),Ve(s=ze())&&(n.bottomAnchor=s.first)}},standalone:!0,features:[x],decls:21,vars:6,consts:[["scrollContainer",""],["bottomAnchor",""],[1,"chat-wrapper","mat-elevation-z4"],[1,"chat-header"],["color","primary","aria-hidden","true"],[1,"chat-title"],["role","log","aria-live","polite","aria-label","Conversazione con l\u2019assistente",1,"chat-messages",3,"scroll"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","typing","role","status","aria-live","polite",4,"ngIf"],[1,"chat-input",3,"submit"],["appearance","outline",1,"input-field"],["matInput","","name","message","placeholder","Scrivi un messaggio\u2026","aria-label","Scrivi un messaggio","autocomplete","off",3,"ngModelChange","ngModel"],["mat-icon-button","","color","primary","type","submit","aria-label","Invia messaggio",3,"disabled"],["mat-fab","","class","scroll-fab","aria-label","Vai all\u2019ultimo messaggio",3,"click",4,"ngIf"],[3,"ngClass"],[1,"message-card",3,"ngClass"],["class","chips",4,"ngIf"],[1,"chips"],["aria-label","Azioni rapide","role","listbox"],["clickable","","role","option","tabindex","0","matTooltip","Seleziona",3,"click","keydown.enter",4,"ngFor","ngForOf"],["clickable","","role","option","tabindex","0","matTooltip","Seleziona",3,"click","keydown.enter"],["role","status","aria-live","polite",1,"typing"],["mat-fab","","aria-label","Vai all\u2019ultimo messaggio",1,"scroll-fab",3,"click"]],template:function(e,n){if(e&1){let s=P();o(0,"div",2)(1,"div",3)(2,"mat-icon",4),r(3,"smart_toy"),a(),o(4,"span",5),r(5,"Assistente Rebis"),a()(),_(6,"mat-divider"),o(7,"div",6,0),g("scroll",function(){return h(s),C(n.onScroll())}),d(9,Wo,5,4,"ng-container",7)(10,Go,2,0,"mat-card",8),_(11,"div",null,1),a(),_(13,"mat-divider"),o(14,"form",9),g("submit",function(u){return h(s),n.sendMessage(),C(u.preventDefault())}),o(15,"mat-form-field",10)(16,"input",11),_e("ngModelChange",function(u){return h(s),fe(n.inputText,u)||(n.inputText=u),C(u)}),a()(),o(17,"button",12)(18,"mat-icon"),r(19,"send"),a()()(),d(20,qo,3,0,"button",13),a()}e&2&&(l(9),m("ngForOf",n.messages)("ngForTrackBy",n.trackByIndex),l(),m("ngIf",n.typing),l(6),ue("ngModel",n.inputText),l(),m("disabled",!n.inputText.trim()),l(3),m("ngIf",!n.isUserAtBottom))},dependencies:[M,ce,L,N,Me,be,he,Ce,ve,dn,pn,S,I,ae,He,bn,ke,we,me,Ye,Ze],styles:[".chat-wrapper[_ngcontent-%COMP%]{position:relative;min-width:100%;max-width:640px;background:#ffffffbd;color:#eaeaea;border-radius:16px;overflow:hidden}.chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 8px;color:#000}.chat-header[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.2px}.chat-messages[_ngcontent-%COMP%]{height:60vh;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:10px;background-color:#000}.chat-messages[_ngcontent-%COMP%]   .message-card[_ngcontent-%COMP%]{max-width:80%;white-space:pre-wrap;line-height:1.35;padding:10px 12px}.chat-messages[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .message-card[_ngcontent-%COMP%]{margin-left:auto;background:#1f2937;color:#e5e7eb}.chat-messages[_ngcontent-%COMP%]   .bot[_ngcontent-%COMP%]   .message-card[_ngcontent-%COMP%]{margin-right:auto;background:#0b3b2e;color:#e6fff6}.chat-messages[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap;margin:4px 0 0}.chat-messages[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer;background:#1f2937;color:#e5e7eb}.chat-messages[_ngcontent-%COMP%]   .typing[_ngcontent-%COMP%]{width:fit-content;background:#0b3b2e;color:#e6fff6;padding:3px 5px;border-radius:10px;margin:2px 0 0}.chat-input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 6px}.chat-input[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{flex:1}.scroll-fab[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:86px}"]})};function Ho(i,t){i&1&&(o(0,"div",3),_(1,"app-chat-bot"),a())}var Pt=class i{isOpen=!1;toggleChat(){this.isOpen=!this.isOpen}closeChat(){this.isOpen=!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-chat-bot-popup"]],standalone:!0,features:[x],decls:5,vars:2,consts:[[1,"chat-popup"],["mat-fab","","color","primary",1,"chat-toggle",3,"click"],["class","chat-box",4,"ngIf"],[1,"chat-box"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"button",1),g("click",function(){return n.toggleChat()}),o(2,"mat-icon"),r(3),a()(),d(4,Ho,2,0,"div",2),a()),e&2&&(l(3),f(n.isOpen?"close":"chat"),l(),m("ngIf",n.isOpen))},dependencies:[M,N,yt,S,I,He],styles:[".chat-popup[_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1000}.chat-popup[_ngcontent-%COMP%]   .chat-toggle[_ngcontent-%COMP%]{position:relative;z-index:1001}.chat-popup[_ngcontent-%COMP%]   .chat-box[_ngcontent-%COMP%]{position:absolute;bottom:70px;right:0;width:90vw;min-height:60vh;max-width:400px;background:#fff;box-shadow:0 4px 12px #00000040;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}"]})};var Ot=class i{constructor(t){this.db=t}menu={public:[{label:"Home",route:"/home"},{label:"Servizi",route:"/servizi"},{label:"Progetti",route:"/progetti"},{label:"Bookings",route:"/bookings"},{label:"Chi Siamo",route:"/chi-siamo"},{label:"Contatti",route:"/contatti"}],client:[{label:"Dashboard",route:"/dashboard",roles:["client","admin"],children:[{label:"dashboard",route:"/dashboard/"},{label:"Booking History",route:"/dashboard/booking-history"},{label:"Messaging",route:"/dashboard/messaging"},{label:"Reviews",route:"/dashboard/reviews"},{label:"Invoices",route:"/dashboard/invoices"},{label:"Settings",route:"/dashboard/settings"}]}],admin:[{label:"Admin",route:"/admin",roles:["admin"],children:[{label:"Dashboard",route:"/admin"},{label:"Calendar",route:"/admin/calendar"},{label:"Clients",route:"/admin/clients"},{label:"Billing",route:"/admin/billing"},{label:"Documents",route:"/admin/documents"},{label:"Waitlist",route:"/admin/waitlist"},{label:"Messaging",route:"/admin/messaging"},{label:"Portfolio",route:"/admin/portfolio"},{label:"Servizi",route:"/admin/servizi"},{label:"Staff",route:"/admin/staff"},{label:"Analytics",route:"/admin/analytics"},{label:"Settings",route:"/admin/settings"},{label:"Review List",route:"/admin/review-list"}]}]};getMenuByRole(t){let n=(t==="admin"?["public","client","admin"]:t==="client"?["public","client"]:["public"]).map(s=>{let c=ge(this.db,`menuItems/${s}`);return pe(kt(c)).pipe(Ee(u=>{let y=u.val();return y?Array.isArray(y)?y:Object.values(y):[]}))});return new Ft(s=>{Promise.all(n.map(c=>c.toPromise())).then(c=>{let u=c.flat();s.next(u),s.complete()}).catch(c=>s.error(c))})}getAllMenus(){let t=ge(this.db,"menuItems");return pe(kt(t)).pipe(Ee(e=>e.exists()?e.val():{public:[],client:[],admin:[]}))}addMenuItem(t,e){let n=ge(this.db,`menuItems/${t}`),s=Xn(n);return pe(It(s,e))}updateMenuItem(t,e,n){let s=ge(this.db,`menuItems/${t}/${e}`);return pe(ti(s,n))}uploadDefaultMenu(){let t=ge(this.db,"menuItems");return pe(It(t,this.menu))}deleteMenuItem(t,e){let n=ge(this.db,`menuItems/${t}/${e}`);return pe(ei(n))}static \u0275fac=function(e){return new(e||i)(De(Zn))};static \u0275prov=ee({token:i,factory:i.\u0275fac,providedIn:"root"})};var Yo=["sidenav"];function Zo(i,t){if(i&1&&(o(0,"a",28),r(1),a()),i&2){let e=t.$implicit;m("routerLink",e.route),l(),v(" ",e.label," ")}}function Ko(i,t){if(i&1&&(V(0),o(1,"div",24)(2,"button",25),r(3),o(4,"mat-icon"),r(5,"expand_more"),a()(),o(6,"div",26),d(7,Zo,2,2,"a",27),a()(),z()),i&2){let e=p().$implicit;l(3),v(" ",e.label," "),l(4),m("ngForOf",e.children)}}function Jo(i,t){if(i&1&&(o(0,"a",29),r(1),a()),i&2){let e=p().$implicit;m("routerLink",e.route),l(),f(e.label)}}function Xo(i,t){if(i&1&&(V(0),d(1,Ko,8,2,"ng-container",17)(2,Jo,2,2,"ng-template",null,4,ne),z()),i&2){let e=t.$implicit,n=Y(3);l(),m("ngIf",e.children==null?null:e.children.length)("ngIfElse",n)}}function ea(i,t){if(i&1&&(V(0),o(1,"nav",22),d(2,Xo,4,2,"ng-container",23),a(),z()),i&2){let e=t.ngIf;l(2),m("ngForOf",e)}}function ta(i,t){if(i&1&&(o(0,"span",30),r(1),a()),i&2){let e=p();l(),f(e.notifications.length)}}function na(i,t){if(i&1&&(o(0,"button",32)(1,"mat-icon"),r(2),a(),o(3,"div",33)(4,"p",34),r(5),a(),o(6,"small",35),r(7),B(8,"date"),a()()()),i&2){let e=t.$implicit;l(2),f(e.icon),l(3),f(e.message),l(2),f(Yt(8,3,e.date,"short"))}}function ia(i,t){if(i&1&&(V(0),d(1,na,9,6,"button",31),z()),i&2){let e=p();l(),m("ngForOf",e.notifications)}}function oa(i,t){i&1&&(o(0,"button",36)(1,"mat-icon"),r(2,"notifications_off"),a(),o(3,"span"),r(4,"Nessuna notifica"),a()())}function aa(i,t){if(i&1){let e=P();V(0),o(1,"a",37),g("click",function(){h(e);let s=p(4);return C(s.closeMenu())}),r(2),a(),z()}if(i&2){let e=t.$implicit;l(),m("routerLink",e.route),l(),v(" ",e.label," ")}}function ra(i,t){if(i&1&&(V(0),o(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),r(4),a()(),d(5,aa,3,2,"ng-container",23),a(),z()),i&2){let e=p().$implicit;l(4),f(e.label),l(),m("ngForOf",e.children)}}function sa(i,t){if(i&1){let e=P();o(0,"a",37),g("click",function(){h(e);let s=p(3);return C(s.closeMenu())}),r(1),a()}if(i&2){let e=p().$implicit;m("routerLink",e.route),l(),v(" ",e.label," ")}}function la(i,t){if(i&1&&(V(0),d(1,ra,6,2,"ng-container",17)(2,sa,2,2,"ng-template",null,5,ne),z()),i&2){let e=t.$implicit,n=Y(3);l(),m("ngIf",e.children==null?null:e.children.length)("ngIfElse",n)}}function ca(i,t){if(i&1&&(V(0),d(1,la,4,2,"ng-container",23),z()),i&2){let e=t.ngIf;l(),m("ngForOf",e)}}function ma(i,t){if(i&1){let e=P();V(0),o(1,"button",38),g("click",function(){h(e);let s=p();return C(s.logout())}),o(2,"mat-icon"),r(3,"logout"),a(),r(4," Logout "),a(),z()}}function pa(i,t){i&1&&(o(0,"button",39)(1,"mat-icon"),r(2,"login"),a(),r(3," Login "),a())}var St=class i{constructor(t,e){this.menuService=t;this.auth=e}sidenav;modeSidenav="over";isMenuOpen=!1;userRole="public";navItem$;isLoggedIn=!1;title;notifications=[{message:"Hai una seduta prevista per il 10 luglio alle 15:00.",icon:"event",date:new Date("2025-07-10T15:00:00")},{message:"La tua ultima recensione \xE8 stata approvata!",icon:"check_circle",date:new Date("2025-07-07T09:00:00")},{message:"Hai ricevuto una risposta nel messaggio con lo studio.",icon:"chat",date:new Date("2025-07-06T17:30:00")}];userEffect=de(()=>{let t=this.auth.userSig();console.log(t),t&&this.loadMenu(t.role)});isLoadingMenu=!0;ngOnInit(){this.loadMenu("public")}loadMenu(t){this.navItem$=this.menuService.getMenuByRole(t)}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.auth.logout()}static \u0275fac=function(e){return new(e||i)(O(Ot),O(q))};static \u0275cmp=b({type:i,selectors:[["app-root"]],viewQuery:function(e,n){if(e&1&&Ae(Yo,5),e&2){let s;Ve(s=ze())&&(n.sidenav=s.first)}},standalone:!0,features:[x],decls:37,vars:14,consts:[["notifMenu","matMenu"],["noNotif",""],["sidenav",""],["loginBtnMobile",""],["noChildren",""],["singleLink",""],[1,"main-toolbar","elevation-z4"],[1,"toolbar-container"],["mat-icon-button","",1,"burger-button",3,"click"],["routerLink","/home",1,"logo-link"],["src","/loghi/logo-white.jpg","alt","REBIS TATTOO",1,"logo-img"],[4,"ngIf"],[1,"toolbar-actions"],["matTooltip","Notifiche recenti",1,"notifications-wrapper",3,"matMenuTriggerFor"],["mat-icon-button",""],["class","badge",4,"ngIf"],[1,"notif-menu"],[4,"ngIf","ngIfElse"],["mat-icon-button","","color","warn","matTooltip","Logout",3,"click"],[1,"sidenav-container"],[1,"mobile-sidenav",3,"openedChange","closed","mode","opened"],[1,"auth-section"],[1,"desktop-nav"],[4,"ngFor","ngForOf"],[1,"dropdown"],["mat-button","",1,"dropdown-toggle"],[1,"dropdown-menu"],["mat-menu-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-menu-item","",3,"routerLink"],["mat-button","",3,"routerLink"],[1,"badge"],["mat-menu-item","",4,"ngFor","ngForOf"],["mat-menu-item",""],[1,"notif-text"],[1,"primary"],[1,"secondary"],["mat-menu-item","","disabled",""],["mat-list-item","",2,"color","whitesmoke!important",3,"click","routerLink"],["mat-stroked-button","","color","warn",1,"logout-btn",3,"click"],["mat-stroked-button","","color","primary","routerLink","/login",1,"login-btn"]],template:function(e,n){if(e&1){let s=P();o(0,"main")(1,"mat-toolbar",6)(2,"div",7)(3,"button",8),g("click",function(){return h(s),C(n.toggleMenu())}),o(4,"mat-icon"),r(5,"menu"),a()(),o(6,"a",9),_(7,"img",10),a(),d(8,ea,3,1,"ng-container",11),B(9,"async"),o(10,"div",12)(11,"div",13)(12,"button",14)(13,"mat-icon"),r(14,"notifications"),a()(),d(15,ta,2,1,"span",15),a(),o(16,"mat-menu",16,0),d(18,ia,2,1,"ng-container",17)(19,oa,5,0,"ng-template",null,1,ne),a(),o(21,"button",18),g("click",function(){return h(s),C(n.logout())}),o(22,"mat-icon"),r(23,"logout"),a()()()()(),o(24,"mat-sidenav-container",19)(25,"mat-sidenav",20,2),_e("openedChange",function(u){return h(s),fe(n.isMenuOpen,u)||(n.isMenuOpen=u),C(u)}),g("closed",function(){return h(s),C(n.closeMenu())}),o(27,"mat-nav-list"),d(28,ca,2,1,"ng-container",11),B(29,"async"),o(30,"div",21),d(31,ma,5,0,"ng-container",17)(32,pa,4,0,"ng-template",null,3,ne),a()()(),o(34,"mat-sidenav-content"),_(35,"app-chat-bot-popup")(36,"router-outlet"),a()()()}if(e&2){let s=Y(17),c=Y(20),u=Y(33);l(8),m("ngIf",$(9,10,n.navItem$)),l(3),m("matMenuTriggerFor",s),l(4),m("ngIf",n.notifications.length>0),l(3),m("ngIf",n.notifications.length>0)("ngIfElse",c),l(7),m("mode",n.modeSidenav),ue("opened",n.isMenuOpen),l(3),m("ngIf",$(29,12,n.navItem$)),l(3),m("ngIf",n.isLoggedIn)("ngIfElse",u)}},dependencies:[M,L,N,$e,tn,mn,sn,Ue,S,un,I,qe,T,ae,Cn,vn,hn,Mn,xn,Fn,Tn,An,Bn,Nn,Ln,Pt],styles:[".notifications-wrapper[_ngcontent-%COMP%]{position:relative}.notifications-wrapper[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:red;color:#fff;border-radius:50%;font-size:10px;width:16px;height:16px;display:flex;align-items:center;justify-content:center}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{align-items:flex-start;white-space:normal}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:8px}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-weight:500}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{font-size:11px;color:gray}.main-toolbar[_ngcontent-%COMP%]{background-color:#121212!important;color:#f0f0f0;box-shadow:0 2px 10px #0009}.main-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;height:8vh;padding:0 1.5rem}.main-toolbar[_ngcontent-%COMP%]   .logo-link[_ngcontent-%COMP%]{display:flex;align-items:center}.main-toolbar[_ngcontent-%COMP%]   .logo-link[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:38px}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{color:#f0f0f0;font-weight:500;transition:color .2s ease}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:hover{color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:120%;left:0;display:flex;flex-direction:column;background-color:#1e1e1e;border:1px solid #333;padding:.4rem 0;min-width:180px;max-height:60vh;overflow-y:scroll;border-radius:6px;opacity:0;pointer-events:none;transform:translateY(10px);transition:all .25s ease}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f0f0f0;padding:.5rem 1.2rem;font-size:.92rem;white-space:nowrap;transition:background .2s}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#2c2c2c;color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{opacity:1;pointer-events:auto;transform:translateY(0)}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500;transition:all .2s ease}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{border-color:#c4a62d;color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background-color:#c4a62d1a}@media (max-width: 1024px){.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%], .main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{display:none}.main-toolbar[_ngcontent-%COMP%]   .burger-button[_ngcontent-%COMP%]{display:inline-flex;color:#fff}}.sidenav-container[_ngcontent-%COMP%]{height:92vh;overflow-y:hidden}.mobile-sidenav[_ngcontent-%COMP%]{background-color:#a3a3a3;color:#f1f1f1;width:270px;padding-top:1rem;border-radius:0 0 50% 0%}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding:0}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.8rem 1.2rem;font-weight:500;font-size:.95rem;color:#f0f0f0!important;transition:background .2s ease}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff0f;color:#c4a62d!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;color:#f0f0f0}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:0 1rem;font-weight:600;font-size:.95rem;color:#fff!important;background-color:transparent!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 2rem;font-size:.9rem;color:#d4d4d4!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#c4a62d!important}.mobile-sidenav[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%], .mobile-sidenav[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{width:calc(100% - 2rem);margin:1rem auto 0;border-color:#000;color:#000;font-weight:600}.mobile-sidenav[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover, .mobile-sidenav[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover{background-color:#f7d0381a}main[_ngcontent-%COMP%]{background-color:#000;min-height:100vh}"]})};rn(St,di).catch(i=>console.error(i));
