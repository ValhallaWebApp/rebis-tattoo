import{a as V}from"./chunk-2BKBNND4.js";import{a as ni}from"./chunk-B652JRNK.js";import{b as Mn,i as yn,p as Q,q as ii,r as it}from"./chunk-WRV7VZGV.js";import{a as ti}from"./chunk-Q7CMYVXN.js";import{A as Cn,Aa as Qe,Ba as ye,Bb as Un,Ca as Se,Cb as Hn,D as vn,Da as Nn,Db as qn,Ea as F,Fa as Pe,G as Sn,Ga as G,H as Pn,Ha as Bn,Ia as Xe,K as On,Ka as Je,L as wn,La as Oe,M as kn,O as kt,Pa as zn,Pb as Ke,Q as ze,Qa as Ln,Ra as Rn,S as $e,Sa as me,Ua as Vn,Vb as Gn,Wa as Wn,Wb as Qn,Xb as Xn,Yb as Jn,ca as En,cc as Zn,da as In,dc as et,ea as Tn,fa as Dn,fc as tt,ha as be,hc as Kn,ia as q,ic as ei,ja as Ce,ka as ve,lc as P,ma as Fn,nb as Ze,nc as nt,oa as An,ob as jn,pa as Me,pb as Yn,qb as $n,sa as Ue,sb as we,tb as ke,ub as A,va as He,w as xn,x as bn,ya as qe,za as Ge}from"./chunk-3TZOJYN7.js";import"./chunk-CARY4E7O.js";import{a as ln,b as mn,c as pn,d as dn,f as un,g as gn,h as J,i as Ye,j as fn,k as hn,l as _n}from"./chunk-SKC5KPUI.js";import{$b as sn,Aa as Qt,Ba as K,Ea as Y,F as Yt,Fb as tn,Ga as De,Gb as nn,Ha as Fe,Ia as a,Ja as r,Ka as f,La as z,Ma as L,Mb as ce,N as $t,Oa as E,Ob as on,Ra as h,Ta as u,Tb as rn,Ua as Xt,Va as Jt,Wa as Zt,Ya as Ae,Za as Ne,Zb as an,_ as U,_a as Be,a as Vt,ac as le,bb as H,bc as R,c as ae,ca as c,da as D,db as s,ea as Ut,eb as g,f as Wt,fb as S,ga as Ht,gb as Kt,gc as je,h as Z,i as w,ia as qt,ib as Re,jb as Ve,jc as cn,kb as We,la as Gt,m as C,mb as v,mc as M,p as jt,rb as se,sb as ue,tb as en,ua as d,v as x,w as b,wb as X,za as m}from"./chunk-WX7FJ26P.js";import{l as wt}from"./chunk-VPSPPOSA.js";import"./chunk-L4TIKYZG.js";import{N as de,X as Rt,k as Lt}from"./chunk-Y3XNR5LB.js";import{a as oe,b as re,e as j}from"./chunk-ACKELEN3.js";var ji="@",Yi=(()=>{class n{constructor(e,i,o,l,p){this.doc=e,this.delegate=i,this.zone=o,this.animationType=l,this.moduleImpl=p,this._rendererFactoryPromise=null,this.scheduler=w(Ht,{optional:!0}),this.loadingSchedulerFn=w($i,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-OVO4FHRI.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(o=>{throw new Vt(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:l})=>{this._engine=o(this.animationType,this.doc);let p=new l(this.delegate,this._engine,this.zone);return this.delegate=p,p})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let l=new Et(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(p=>{let _=p.createRenderer(e,i);l.use(_),this.scheduler?.notify(10)}).catch(p=>{l.use(o)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){Ut()}}static{this.\u0275prov=ae({token:n,factory:n.\u0275fac})}}return n})(),Et=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,o){this.delegate.insertBefore(t,e,i,o)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(ji)}},$i=new Wt("");function oi(n="animations"){return Gt("NgAsyncAnimations"),jt([{provide:qt,useFactory:(t,e,i)=>new Yi(t,e,i,n),deps:[rn,pn,Yt]},{provide:$t,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Ui(n,t){n&1&&(a(0,"mat-error"),s(1,"L'email \xE8 obbligatoria"),r())}function Hi(n,t){n&1&&(a(0,"mat-error"),s(1,"Inserisci un indirizzo email valido"),r())}function qi(n,t){n&1&&(a(0,"mat-error"),s(1,"La password \xE8 obbligatoria"),r())}function Gi(n,t){n&1&&(a(0,"mat-error"),s(1,"Minimo 6 caratteri"),r())}function Qi(n,t){if(n&1&&(a(0,"div",18)(1,"mat-icon",19),s(2,"error"),r(),a(3,"span"),s(4),r()()),n&2){let e=u();c(4),g(e.errorMessage)}}function Xi(n,t){if(n&1&&(z(0),s(1),L()),n&2){let e=u();c(),S(" ",e.isLoginMode?"Accedi":"Registrati"," ")}}function Ji(n,t){n&1&&f(0,"mat-progress-spinner",20)}var Le=class n{constructor(t,e,i,o){this.authService=t;this.fb=e;this.router=i;this.route=o;this.loginForm=this.fb.group({email:["",[q.required,q.email]],password:["",[q.required,q.minLength(6)]],rememberMe:[!0]})}loginForm;isLoginMode=!0;errorMessage="";isLoading=!1;ngOnInit(){(this.router.url.includes("/register")||this.router.url.includes("/auth/register")?"register":this.route.snapshot.data?.mode)==="register"&&(this.isLoginMode=!1)}toggleMode(){this.isLoginMode=!this.isLoginMode,this.errorMessage=""}onSubmit(){return j(this,null,function*(){if(this.loginForm.invalid||this.isLoading)return;let{email:t,password:e,rememberMe:i}=this.loginForm.value,o=localStorage.getItem("pre-log")||"/home";this.isLoading=!0,this.errorMessage="";try{this.isLoginMode?yield this.authService.login(t,e):yield this.authService.register(t,e),yield this.router.navigateByUrl(o),localStorage.removeItem("pre-log")}catch(l){let p=l?.code||l?.message||"unknown";this.errorMessage=this.getErrorMessage(p),console.error("Auth error:",l)}finally{this.isLoading=!1}})}getErrorMessage(t){switch(t){case"auth/user-not-found":return"Utente non trovato.";case"auth/wrong-password":return"Password errata.";case"auth/email-already-in-use":return"Email gi\xE0 registrata.";case"auth/invalid-email":return"Email non valida.";case"auth/weak-password":return"Password troppo debole.";case"profile/not-found":return"Profilo non trovato. Contatta il supporto oppure riprova pi\xF9 tardi.";default:return"Errore sconosciuto. Riprova."}}static \u0275fac=function(e){return new(e||n)(D(Q),D(qe),D(J),D(un))};static \u0275cmp=C({type:n,selectors:[["app-login"]],standalone:!0,features:[v],decls:36,vars:12,consts:[["loadingTpl",""],[1,"login-wrapper"],[1,"login-card","mat-elevation-z8"],[1,"card-header"],[1,"header-icon"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matPrefix",""],["matInput","","formControlName","email","type","email","autocomplete","email"],[4,"ngIf"],["matInput","","formControlName","password","type","password","autocomplete","current-password"],[1,"row","between","center"],["formControlName","rememberMe"],["mat-button","","type","button",1,"linklike"],["class","global-error",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],[4,"ngIf","ngIfElse"],["mat-button","","color","accent",1,"toggle-btn",3,"click"],[1,"global-error"],["color","warn"],["mode","indeterminate","diameter","22"]],template:function(e,i){if(e&1){let o=E();a(0,"div",1)(1,"mat-card",2)(2,"div",3)(3,"h2"),s(4),r(),a(5,"mat-icon",4),s(6),r()(),a(7,"form",5),h("ngSubmit",function(){return x(o),b(i.onSubmit())}),a(8,"mat-form-field",6)(9,"mat-label"),s(10,"Email"),r(),a(11,"mat-icon",7),s(12,"mail"),r(),f(13,"input",8),d(14,Ui,2,0,"mat-error",9)(15,Hi,2,0,"mat-error",9),r(),a(16,"mat-form-field",6)(17,"mat-label"),s(18,"Password"),r(),a(19,"mat-icon",7),s(20,"lock"),r(),f(21,"input",10),d(22,qi,2,0,"mat-error",9)(23,Gi,2,0,"mat-error",9),r(),a(24,"div",11)(25,"mat-checkbox",12),s(26,"Ricordami"),r(),a(27,"button",13),s(28,"Password dimenticata?"),r()(),d(29,Qi,5,1,"div",14),a(30,"button",15),d(31,Xi,2,1,"ng-container",16),r(),d(32,Ji,1,0,"ng-template",null,0,X),r(),a(34,"button",17),h("click",function(){return x(o),b(i.toggleMode())}),s(35),r()()()}if(e&2){let o,l,p,_,T=H(33);c(4),g(i.isLoginMode?"Accedi":"Crea un account"),c(2),S(" ",i.isLoginMode?"login":"person_add"," "),c(),m("formGroup",i.loginForm),c(7),m("ngIf",(o=i.loginForm.get("email"))==null?null:o.hasError("required")),c(),m("ngIf",(l=i.loginForm.get("email"))==null?null:l.hasError("email")),c(7),m("ngIf",(p=i.loginForm.get("password"))==null?null:p.hasError("required")),c(),m("ngIf",(_=i.loginForm.get("password"))==null?null:_.hasError("minlength")),c(6),m("ngIf",i.errorMessage),c(),m("disabled",i.loginForm.invalid||i.isLoading),c(),m("ngIf",!i.isLoading)("ngIfElse",T),c(4),S(" ",i.isLoginMode?"Non hai un account? Registrati":"Hai gi\xE0 un account? Accedi"," ")}},dependencies:[P,F,G,ke,we,Ze,jn,$n,A,Gn,ye,M,R,Se,Qe,Me,be,Ce,ve,Ue,He],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:linear-gradient(145deg,#121212,#1f1f1f);padding:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:24px;background-color:#fff;border-radius:12px}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:600}.card-header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:32px;color:#3f51b5}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.global-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#d32f2f;font-size:14px;margin:-8px 0 8px}.row[_ngcontent-%COMP%]{display:flex;gap:12px}.center[_ngcontent-%COMP%]{align-items:center}.between[_ngcontent-%COMP%]{justify-content:space-between}.linklike[_ngcontent-%COMP%]{text-transform:none;padding:0 8px}.toggle-btn[_ngcontent-%COMP%]{margin-top:12px;text-align:center;width:100%}"]})};function Zi(n,t){if(n&1&&(a(0,"article",9)(1,"div",10)(2,"div",11),f(3,"img",12),r(),a(4,"div",13)(5,"h3"),s(6),r(),a(7,"p"),s(8),r(),a(9,"div",14)(10,"span",15),s(11),r(),a(12,"span",15),s(13),r()()()()()),n&2){let e=t.$implicit,i=u(3);c(3),m("src",i.iconFor(e),U)("alt",i.titleOf(e)+" icon"),c(3),g(i.titleOf(e)),c(2),g(i.descOf(e)),c(3),S(" ",e.prezzoDaConcordare?"Prezzo su richiesta":"\u20AC"+e.prezzo," "),c(2),S(" ",e.durataDaConcordare?"Durata su richiesta":e.durata+" min"," ")}}function Ki(n,t){if(n&1&&(a(0,"div",7),d(1,Zi,14,6,"article",8),r()),n&2){let e=u().ngIf;c(),m("ngForOf",e)}}function eo(n,t){if(n&1&&(z(0),d(1,Ki,2,1,"div",6),L()),n&2){let e=t.ngIf;u();let i=H(9);c(),m("ngIf",e.length)("ngIfElse",i)}}function to(n,t){n&1&&(a(0,"div",16)(1,"mat-icon"),s(2,"search_off"),r(),a(3,"div")(4,"strong"),s(5,"Nessun servizio disponibile"),r(),a(6,"div",17),s(7,"Torna a trovarci presto."),r()()())}var rt=class n{constructor(t,e){this.lang=t;this.servicesService=e;this.services$=this.servicesService.getServices().pipe(Rt(i=>(i??[]).filter(o=>o?.visibile!==!1)))}services$;titleOf(t){return String(t?.name??"").trim()||"Servizio"}descOf(t){return String(t?.description??"").trim()}iconFor(t){let e=String(t?.icon??"").trim();if(e)return e;let i=String(t?.categoria??"").trim().toLowerCase(),o=String(t?.name??"").trim().toLowerCase();return i.includes("fine")||o.includes("fine")?"/home/icon-07-80x80.png":i.includes("cover")||o.includes("copertura")?"/home/icon-03-80x80.png":i.includes("design")||o.includes("design")?"/home/icon-04-80x80.png":i.includes("trucco")||o.includes("permanente")?"/home/icon-05-80x80.png":i.includes("su misura")||o.includes("su misura")?"/home/icon-custom-02.png":"/home/icon-01-80x80.png"}static \u0275fac=function(e){return new(e||n)(D(ti),D(ni))};static \u0275cmp=C({type:n,selectors:[["app-service-list"]],standalone:!0,features:[v],decls:10,vars:5,consts:[["empty",""],[1,"services"],[1,"services__head"],[1,"services__title"],[1,"services__subtitle"],[4,"ngIf"],["class","services__grid",4,"ngIf","ngIfElse"],[1,"services__grid"],["class","service-card",4,"ngFor","ngForOf"],[1,"service-card"],[1,"preview"],[1,"icon"],["loading","lazy","decoding","async",3,"src","alt"],[1,"content"],[1,"meta"],[1,"pill"],[1,"empty"],[1,"muted"]],template:function(e,i){e&1&&(a(0,"section",1)(1,"header",2)(2,"h2",3),s(3),r(),a(4,"p",4),s(5),r()(),d(6,eo,2,2,"ng-container",5),se(7,"async"),d(8,to,8,0,"ng-template",null,0,X),r()),e&2&&(c(3),g(i.lang.t("home.services.title")),c(2),g(i.lang.t("home.services.subtitle")),c(),m("ngIf",ue(7,3,i.services$)))},dependencies:[M,le,R,je,P,F],styles:['.services[_ngcontent-%COMP%]{padding:30px 14px 44px;max-width:1200px;margin:0 auto;color:#0b0b0b;position:relative;background:#fff;border-radius:22px}.services[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-6px;top:18px;bottom:18px;width:10px;border-radius:999px;background:#0b0b0b;opacity:.9}.services[_ngcontent-%COMP%]:after{content:"";position:absolute;right:12px;top:64px;width:110px;height:110px;border-radius:50%;border:2px dashed rgba(0,0,0,.25);transform:rotate(-12deg);opacity:.35;pointer-events:none}.services__head[_ngcontent-%COMP%]{padding:10px 4px 16px}.services__title[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:900;letter-spacing:.8px;font-family:Barlow Semi Condensed,sans-serif;text-transform:uppercase}.services__subtitle[_ngcontent-%COMP%]{margin:6px 0 0;opacity:.75;font-size:13px;font-family:Barlow Semi Condensed,sans-serif}.services__grid[_ngcontent-%COMP%]{margin-top:12px;display:grid;grid-template-columns:1fr;gap:12px}.service-card[_ngcontent-%COMP%]:nth-child(1), .service-card[_ngcontent-%COMP%]:nth-child(2){grid-column:span 1}.service-card[_ngcontent-%COMP%]{position:relative;padding:8px;border-radius:18px;background:#fff;border:1px solid rgba(0,0,0,.1);box-shadow:0 12px 26px #00000014;overflow:hidden;transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease}.service-card[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(220px 220px at -10% -10%,rgba(0,0,0,.06),transparent 60%),radial-gradient(180px 180px at 110% 110%,rgba(0,0,0,.06),transparent 60%);pointer-events:none}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);border-color:#0003;box-shadow:0 18px 40px #0000001f}.preview[_ngcontent-%COMP%]{display:grid;grid-template-columns:62px 1fr;gap:12px;align-items:center;padding:12px;border-radius:14px;border:1px dashed rgba(0,0,0,.22);background:#fff}.preview[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:62px;height:62px;border-radius:14px;display:grid;place-items:center;background:#111;border:1px solid rgba(255,255,255,.18);box-shadow:inset 0 0 0 2px #ffffff0f}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain;filter:invert(1)}.preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:2px 0 6px;font-size:15px;font-weight:900;color:#111;font-family:Barlow Semi Condensed,sans-serif;text-transform:uppercase;letter-spacing:.4px}.preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12.5px;line-height:1.55;color:#2f2f2f;font-family:Barlow Semi Condensed,sans-serif}.meta[_ngcontent-%COMP%]{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}.pill[_ngcontent-%COMP%]{padding:3px 8px;border-radius:999px;border:1px solid rgba(0,0,0,.12);background:#00000008;font-size:11px;font-weight:800;letter-spacing:.2px}@media (min-width: 700px){.services[_ngcontent-%COMP%]{padding:36px 18px 52px}.services__title[_ngcontent-%COMP%]{font-size:28px}.services__subtitle[_ngcontent-%COMP%]{font-size:14px}.services__grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(220px,1fr))}.service-card[_ngcontent-%COMP%]:nth-child(1), .service-card[_ngcontent-%COMP%]:nth-child(2){grid-column:span 2}}@media (min-width: 1020px){.services__grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(220px,1fr))}.service-card[_ngcontent-%COMP%]:nth-child(1), .service-card[_ngcontent-%COMP%]:nth-child(2){grid-column:span 2}}.empty[_ngcontent-%COMP%]{margin-top:18px;display:flex;gap:12px;align-items:center;padding:18px 16px;border-radius:18px;border:1px dashed rgba(0,0,0,.2);background:#00000008;opacity:.9}.empty[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:38px;height:38px;font-size:38px;opacity:.7}.muted[_ngcontent-%COMP%]{opacity:.7;font-size:12px}']})};function no(n,t){if(n&1){let e=E();a(0,"div",30),h("click",function(){let o=x(e).index,l=u(2);return b(l.setActive(o))}),a(1,"div",31),f(2,"img",32)(3,"div",33),r(),a(4,"div",34)(5,"div",35),s(6),r(),a(7,"div",13),s(8),r()()()}if(n&2){let e=t.$implicit,i=t.index,o=u(2);Qt("transform",o.getTransform(i))("opacity",o.getOpacity(i))("z-index",o.getZIndex(i)),K("is-active",i===o.activeIndex)("is-left",o.isLeft(i))("is-right",o.isRight(i))("is-hidden",o.isHidden(i)),c(2),m("src",o.getPhoto(e),U)("alt",e.name),c(4),g(e.name),c(2),g(o.roleLabel(e.role))}}function io(n,t){n&1&&(a(0,"span",45),s(1,"Disponibilit\xE0 limitata"),r())}function oo(n,t){if(n&1&&(a(0,"div",44)(1,"span",45),s(2),r(),d(3,io,2,0,"span",46),r()),n&2){let e=u().ngIf,i=u(2);c(2),g(i.roleLabel(e.role)),c(),m("ngIf",e.role==="guest")}}function ro(n,t){if(n&1&&(a(0,"div",36)(1,"mat-card",37)(2,"div",38)(3,"div",39)(4,"h3"),s(5),r(),a(6,"span",40),s(7),r()(),a(8,"div",41)(9,"a",16),s(10,"Vedi lavori"),r(),a(11,"a",17),s(12,"Prenota"),r()()(),a(13,"p",42),s(14),r(),d(15,oo,4,2,"div",43),r()()),n&2){let e=t.ngIf,i=u(2);c(5),g(e.name),c(2),g(i.roleLabel(e.role)),c(7),S(" ",e.bio||"Bio in arrivo. Intanto, dai un\u2019occhiata ai lavori in portfolio."," "),c(),m("ngIf",e.role)}}function ao(n,t){if(n&1){let e=E();a(0,"section",19)(1,"div",20)(2,"h2"),s(3,"Artisti"),r(),a(4,"p"),s(5,"Seleziona un artista per vedere i dettagli."),r()(),a(6,"div",21)(7,"div",22)(8,"div",23),h("pointerdown",function(o){x(e);let l=u();return b(l.onPointerDown(o))})("pointermove",function(o){x(e);let l=u();return b(l.onPointerMove(o))})("pointerup",function(o){x(e);let l=u();return b(l.onPointerUp(o))})("pointercancel",function(o){x(e);let l=u();return b(l.onPointerUp(o))})("pointerleave",function(o){x(e);let l=u();return b(l.onPointerUp(o))}),a(9,"button",24),h("click",function(){x(e);let o=u();return b(o.prev())}),s(10,"\u2039"),r(),a(11,"div",25),d(12,no,9,18,"div",26),r(),a(13,"button",27),h("click",function(){x(e);let o=u();return b(o.next())}),s(14,"\u203A"),r()(),a(15,"div",28)(16,"span"),s(17),r(),s(18,"/"),a(19,"span"),s(20),r()()(),d(21,ro,16,4,"div",29),r()()}if(n&2){let e=u();c(12),m("ngForOf",e.team)("ngForTrackBy",e.trackById),c(5),g(e.activeIndex+1),c(3),g(e.team.length),c(),m("ngIf",e.active)}}function so(n,t){n&1&&(a(0,"p",47),s(1,"Nessun artista disponibile al momento."),r())}var at=class n{staffService=w(nt);sub;sara={name:"Sara Pushi",roleLabel:"Tatuatrice \xB7 Titolare",bio:"Rebis Tattoo nasce da una visione precisa: pochi progetti, curati davvero. Ogni tatuaggio viene seguito personalmente dalla consulenza alla guarigione, con attenzione al posizionamento, alle linee e alla durata nel tempo.",photoUrl:"assets/personale/sara.jpg"};team=[];activeIndex=0;heroImageUrl="/personale/1.jpg";pointerDownX=null;dragging=!1;ngOnInit(){this.sub=this.staffService.getAllStaff().subscribe(t=>{let i=(t??[]).filter(o=>o?.isActive!==!1).filter(o=>!this.isSara(o));this.team=i.sort((o,l)=>{let p=this.roleOrder(o.role),_=this.roleOrder(l.role);return p!==_?p-_:(o.name??"").localeCompare(l.name??"")}),this.team.length===0?this.activeIndex=0:this.activeIndex>this.team.length-1&&(this.activeIndex=0)})}ngOnDestroy(){this.sub?.unsubscribe()}get active(){return this.team?.length?this.team[this.activeIndex]:null}trackById=(t,e)=>e.id??e.name??t;getPhoto(t){return(t.photoUrl??"").trim()||this.heroImageUrl}roleLabel(t){switch(t){case"tatuatore":return"Tatuatore";case"piercer":return"Piercer";case"guest":return"Guest";default:return"Staff"}}prev(){this.team?.length&&(this.activeIndex=(this.activeIndex-1+this.team.length)%this.team.length)}next(){this.team?.length&&(this.activeIndex=(this.activeIndex+1)%this.team.length)}setActive(t){this.team?.length&&(this.activeIndex=t)}isHidden(t){if(!this.team?.length)return!0;let e=this.circularDistance(this.activeIndex,t);return Math.abs(e)>1}isLeft(t){return this.circularDistance(this.activeIndex,t)===-1}isRight(t){return this.circularDistance(this.activeIndex,t)===1}getTransform(t){if(!this.team?.length)return"translateX(0) scale(1)";let e=this.circularDistance(this.activeIndex,t);return`translateX(${e*260}px) scale(${e===0?1:.86})`}getOpacity(t){if(!this.team?.length)return 0;let e=this.circularDistance(this.activeIndex,t);return Math.abs(e)>1?0:e===0?1:.62}getZIndex(t){return this.team?.length?10-Math.abs(this.circularDistance(this.activeIndex,t)):0}onPointerDown(t){this.pointerDownX=t.clientX,this.dragging=!0}onPointerMove(t){!this.dragging||this.pointerDownX==null}onPointerUp(t){if(!this.dragging||this.pointerDownX==null)return;let e=t.clientX-this.pointerDownX,i=45;this.dragging=!1,this.pointerDownX=null,e>i?this.prev():e<-i&&this.next()}isSara(t){let e=(t?.name??"").toLowerCase().trim();return e==="sara"||e.includes("sara push")||e.includes("sara p")}roleOrder(t){switch(t){case"tatuatore":return 1;case"piercer":return 2;case"guest":return 3;default:return 4}}circularDistance(t,e){let i=this.team.length,o=e-t;return o>i/2&&(o-=i),o<-i/2&&(o+=i),o}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-chi-siamo"]],standalone:!0,features:[v],decls:35,vars:7,consts:[["noTeam",""],[1,"about-page"],[1,"about-hero"],[1,"eyebrow"],[1,"intro"],[1,"about-team"],[1,"team-header"],[1,"team-intro"],[1,"team-card","team-hero"],[1,"hero-media"],["loading","lazy",1,"hero-avatar",3,"src","alt"],[1,"hero-badge"],[1,"hero-meta"],[1,"role"],[1,"bio"],[1,"hero-actions"],["routerLink","/portfolio",1,"ghost-btn"],["routerLink","/bookings",1,"primary-btn"],["class","team-spotlight",4,"ngIf","ngIfElse"],[1,"team-spotlight"],[1,"spotlight-head"],[1,"spotlight-layout"],[1,"spotlight-left"],[1,"focus-carousel",3,"pointerdown","pointermove","pointerup","pointercancel","pointerleave"],["type","button","aria-label","Artista precedente",1,"nav-btn","prev",3,"click"],[1,"stage"],["class","card",3,"is-active","is-left","is-right","is-hidden","transform","opacity","zIndex","click",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","aria-label","Artista successivo",1,"nav-btn","next",3,"click"],[1,"counter"],["class","spotlight-right",4,"ngIf"],[1,"card",3,"click"],[1,"thumb"],["loading","lazy",3,"src","alt"],[1,"thumb-overlay"],[1,"mini"],[1,"name"],[1,"spotlight-right"],[1,"detail-card"],[1,"detail-top"],[1,"detail-title"],[1,"detail-role"],[1,"actions"],[1,"detail-bio"],["class","chips",4,"ngIf"],[1,"chips"],[1,"chip"],["class","chip",4,"ngIf"],[1,"empty"]],template:function(e,i){if(e&1&&(a(0,"section",1)(1,"header",2)(2,"div",3),s(3,"Rebis Tattoo"),r(),a(4,"h1"),s(5,"CHI SIAMO"),r(),a(6,"p",4),s(7," In Rebis Tattoo ogni tatuaggio \xE8 una narrazione visiva. La nostra missione \xE8 creare arte che rifletta la tua identit\xE0, con attenzione, professionalit\xE0 e un tocco personale. "),r()(),a(8,"section",5)(9,"div",6)(10,"div")(11,"h2"),s(12,"Il team"),r(),a(13,"p",7),s(14," Rebis Tattoo nasce da una visione precisa: pochi progetti, curati davvero. Lo studio \xE8 guidato direttamente dalla titolare, che segue ogni fase del tatuaggio dalla consulenza alla guarigione. "),r()()(),a(15,"mat-card",8)(16,"div",9),f(17,"img",10),a(18,"div",11),s(19,"TITOLARE"),r()(),a(20,"div",12)(21,"h3"),s(22),r(),a(23,"div",13),s(24),r(),a(25,"p",14),s(26),r(),a(27,"div",15)(28,"a",16),s(29,"Vedi lavori"),r(),a(30,"a",17),s(31,"Prenota"),r()()()(),d(32,ao,22,5,"section",18)(33,so,2,0,"ng-template",null,0,X),r()()),e&2){let o=H(34);c(17),Zt("src",i.heroImageUrl,U),m("alt",i.sara.name),c(5),g(i.sara.name),c(2),g(i.sara.roleLabel),c(2),g(i.sara.bio),c(6),m("ngIf",i.team==null?null:i.team.length)("ngIfElse",o)}},dependencies:[M,le,R,P,A],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:#050508;color:#fff}.about-page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:4rem 1.5rem 5rem;display:flex;flex-direction:column;gap:2.75rem}@media (max-width: 768px){.about-page[_ngcontent-%COMP%]{padding:3rem 1.25rem 4.5rem;gap:2.25rem}}.about-hero[_ngcontent-%COMP%]{max-width:820px}.about-hero[_ngcontent-%COMP%]   .eyebrow[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:.18em;text-transform:uppercase;color:#9ca3af;margin-bottom:.75rem}.about-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2.2rem,5.5vw,3.2rem);letter-spacing:.12em;text-transform:uppercase;margin:0 0 1rem}.about-hero[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{font-size:1rem;line-height:1.75;color:#9ca3af;margin:0}.about-team[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;gap:1.5rem;margin-bottom:1.25rem}.about-team[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;letter-spacing:.12em;text-transform:uppercase;margin:0}@media (max-width: 768px){.about-team[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.about-team[_ngcontent-%COMP%]   .team-intro[_ngcontent-%COMP%]{margin-top:.65rem;color:#9ca3af;line-height:1.7;max-width:760px}.team-card[_ngcontent-%COMP%]{border-radius:1.25rem;border:1px solid rgba(255,255,255,.06);background:#ffffff05;overflow:hidden}.team-hero[_ngcontent-%COMP%]{display:grid;grid-template-columns:320px 1fr;gap:1.35rem;padding:1rem;margin-bottom:1.75rem}@media (max-width: 900px){.team-hero[_ngcontent-%COMP%]{grid-template-columns:1fr}}.hero-media[_ngcontent-%COMP%]{position:relative;border-radius:1.1rem;overflow:hidden;background:#000;aspect-ratio:4/5}.hero-avatar[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.hero-badge[_ngcontent-%COMP%]{position:absolute;left:.85rem;top:.85rem;padding:.35rem .65rem;border-radius:999px;font-size:.75rem;letter-spacing:.16em;text-transform:uppercase;border:1px solid rgba(255,255,255,.14);background:#00000073;color:#fff;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.hero-meta[_ngcontent-%COMP%]{padding:.35rem .35rem .8rem}.hero-meta[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.35rem;letter-spacing:.03em}.hero-meta[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{margin-top:.2rem;color:#ffffffad;font-size:.92rem}.hero-meta[_ngcontent-%COMP%]   .bio[_ngcontent-%COMP%]{margin-top:.9rem;color:#9ca3af;line-height:1.75}.hero-meta[_ngcontent-%COMP%]   .hero-actions[_ngcontent-%COMP%]{margin-top:1.1rem;display:flex;gap:.6rem;flex-wrap:wrap}.ghost-btn[_ngcontent-%COMP%], .primary-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;height:40px;padding:0 1.05rem;border-radius:999px;text-decoration:none;font-weight:550;font-size:.9rem}.ghost-btn[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.12);color:#fff;background:#ffffff05}.ghost-btn[_ngcontent-%COMP%]:hover{background:#ffffff0f}.primary-btn[_ngcontent-%COMP%]{border:none;color:#fff;background-image:linear-gradient(135deg,#f56040,#f77737,#c13584,#e1306c,#5851db);background-size:180% 180%}.primary-btn[_ngcontent-%COMP%]:hover{background-position:90% 10%;filter:brightness(1.05)}.team-spotlight[_ngcontent-%COMP%]{margin-top:.5rem}.spotlight-head[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;gap:1.5rem;margin:0 0 1.15rem}.spotlight-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.15rem;letter-spacing:.12em;text-transform:uppercase;margin:0}.spotlight-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#9ca3af;font-size:.95rem}@media (max-width: 820px){.spotlight-head[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}.spotlight-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.05fr .95fr;gap:1.25rem;align-items:start}@media (max-width: 980px){.spotlight-layout[_ngcontent-%COMP%]{grid-template-columns:1fr}}.spotlight-left[_ngcontent-%COMP%]{position:relative}.focus-carousel[_ngcontent-%COMP%]{position:relative;border-radius:1.25rem;border:1px solid rgba(255,255,255,.06);background:radial-gradient(circle at top left,#5851db29,#101118 55%,#050508);padding:1rem 3.2rem;overflow:hidden;-webkit-user-select:none;user-select:none;touch-action:pan-y}@media (max-width: 640px){.focus-carousel[_ngcontent-%COMP%]{padding:.9rem 2.8rem}}.stage[_ngcontent-%COMP%]{position:relative;height:340px;display:flex;align-items:center;justify-content:center}@media (max-width: 640px){.stage[_ngcontent-%COMP%]{height:300px}}.card[_ngcontent-%COMP%]{position:absolute;width:310px;max-width:78vw;border-radius:1.1rem;border:1px solid rgba(255,255,255,.08);background:#00000038;overflow:hidden;box-shadow:0 18px 45px #00000073;cursor:pointer;transition:transform .26s ease,opacity .26s ease,filter .26s ease}.card.is-hidden[_ngcontent-%COMP%]{pointer-events:none;filter:blur(2px)}.card.is-active[_ngcontent-%COMP%]{border-color:#ffffff29}.thumb[_ngcontent-%COMP%]{position:relative;width:100%;aspect-ratio:4/5;background:#000}.thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.thumb[_ngcontent-%COMP%]   .thumb-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(0deg,rgba(0,0,0,.85),transparent 55%);pointer-events:none}.mini[_ngcontent-%COMP%]{padding:.75rem .85rem .9rem}.mini[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:650;letter-spacing:.02em}.mini[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{margin-top:.15rem;font-size:.85rem;color:#9ca3af}.nav-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:42px;height:42px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:#00000059;color:#fff;font-size:28px;line-height:1;display:grid;place-items:center;cursor:pointer;transition:transform .16s ease,background .16s ease,border-color .16s ease}.nav-btn[_ngcontent-%COMP%]:hover{background:#00000080;border-color:#fff3;transform:translateY(-50%) scale(1.04)}.nav-btn.prev[_ngcontent-%COMP%]{left:.9rem}.nav-btn.next[_ngcontent-%COMP%]{right:.9rem}@media (max-width: 640px){.nav-btn.prev[_ngcontent-%COMP%]{left:.6rem}.nav-btn.next[_ngcontent-%COMP%]{right:.6rem}}.counter[_ngcontent-%COMP%]{margin-top:.6rem;color:#9ca3af;font-size:.85rem;text-align:center}.detail-card[_ngcontent-%COMP%]{border-radius:1.25rem;border:1px solid rgba(255,255,255,.06);background:#ffffff05;padding:1.1rem 1.1rem 1.2rem}.detail-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;flex-wrap:wrap}.detail-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;letter-spacing:.03em}.detail-title[_ngcontent-%COMP%]   .detail-role[_ngcontent-%COMP%]{display:inline-block;margin-top:.25rem;color:#9ca3af;font-size:.9rem}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.detail-bio[_ngcontent-%COMP%]{margin:1rem 0 .75rem;color:#9ca3af;line-height:1.75}.chips[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.5rem}.chip[_ngcontent-%COMP%]{padding:.35rem .65rem;border-radius:999px;font-size:.78rem;letter-spacing:.12em;text-transform:uppercase;border:1px solid rgba(255,255,255,.1);background:#ffffff08;color:#fff}.empty[_ngcontent-%COMP%]{color:#9ca3af;padding:1rem 0}"]})};function co(n,t){n&1&&(a(0,"div",33),s(1," Inserisci un nome valido "),r())}function lo(n,t){n&1&&(a(0,"div",33),s(1," Inserisci un\u2019email valida "),r())}function mo(n,t){n&1&&(a(0,"div",33),s(1," Scrivi almeno 10 caratteri "),r())}var st=class n{fb=w(qe);contactForm;heroImageUrl="/personale/1.jpg";whatsappNumber="393400998312";address="Via al Carmine 1A, 07100 Sassari (SS)";phoneDisplay="+39 340 099 8312";email="sarapushi@rebistattoo.info";instagramUrl="https://www.instagram.com/rebis_tattoo/";instagramHandle="@rebis_tattoo";ngOnInit(){this.contactForm=this.fb.group({name:["",[q.required,q.minLength(2)]],email:["",[q.required,q.email]],message:["",[q.required,q.minLength(10)]]})}openChat(){}onSubmit(){if(this.contactForm.invalid){this.contactForm.markAllAsTouched();return}console.log("[CONTATTI] submit",this.contactForm.value),this.contactForm.reset(),alert("Messaggio inviato. Ti risponderemo il prima possibile.")}get f(){return this.contactForm.controls}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-contatti"]],standalone:!0,features:[v],decls:69,vars:14,consts:[[1,"rt-contacts"],[1,"rt-hero"],[1,"rt-container"],[1,"rt-title"],[1,"rt-subtitle"],[1,"rt-split"],[1,"rt-paper"],[1,"rt-brand"],[1,"rt-lines"],[1,"rt-line"],[1,"rt-ico"],[1,"rt-text"],[1,"rt-link",3,"href"],[1,"rt-dot"],["target","_blank","rel","noopener",1,"rt-link",3,"href"],[1,"rt-cta"],["routerLink","/fast-booking",1,"rt-btn","rt-btn--primary"],["type","button",1,"rt-btn","rt-btn--accent",3,"click"],[1,"rt-mini"],[1,"rt-formBlock"],[1,"rt-formTitle"],[1,"rt-form",3,"ngSubmit","formGroup"],[1,"rt-grid"],[1,"rt-field"],["type","text","formControlName","name","placeholder","Il tuo nome"],["class","rt-err",4,"ngIf"],["type","email","formControlName","email","placeholder","nome@email.com"],[1,"rt-field","rt-field--full"],["rows","4","formControlName","message","placeholder","Zona, dimensioni, idea..."],[1,"rt-actions"],["type","submit",1,"rt-btn","rt-btn--accent",3,"disabled"],["aria-hidden","true",1,"rt-image"],["alt","Dettaglio tatuaggio Rebis Tattoo",3,"src"],[1,"rt-err"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"header",1)(2,"div",2)(3,"h1",3),s(4,"CONTATTI"),r(),a(5,"p",4),s(6,"Rebis Tattoo \xB7 Studio di tatuaggi a Sassari"),r()()(),a(7,"main",2)(8,"div",5)(9,"section",6)(10,"h2",7),s(11,"REBIS TATTOO"),r(),a(12,"div",8)(13,"div",9)(14,"span",10),s(15,"\u{1F4CD}"),r(),a(16,"span",11),s(17),r()(),a(18,"div",9)(19,"span",10),s(20,"\u{1F4DE}"),r(),a(21,"a",12),s(22),r(),a(23,"span",13),s(24,"\xB7"),r(),a(25,"a",14),s(26," WhatsApp "),r()(),a(27,"div",9)(28,"span",10),s(29,"\u2709\uFE0F"),r(),a(30,"a",12),s(31),r()(),a(32,"div",9)(33,"span",10),s(34,"\u{1F4F7}"),r(),a(35,"a",14),s(36),r()()(),a(37,"div",15)(38,"a",16),s(39," PRENOTA UNA CONSULENZA "),r(),a(40,"button",17),h("click",function(){return i.openChat()}),s(41," APRI LA CHAT "),r()(),a(42,"div",18),s(43," Disponibilit\xE0: su appuntamento (scrivici per confermare) "),r(),a(44,"div",19)(45,"h3",20),s(46,"Oppure scrivici"),r(),a(47,"form",21),h("ngSubmit",function(){return i.onSubmit()}),a(48,"div",22)(49,"div",23)(50,"label"),s(51,"Nome"),r(),f(52,"input",24),d(53,co,2,0,"div",25),r(),a(54,"div",23)(55,"label"),s(56,"Email"),r(),f(57,"input",26),d(58,lo,2,0,"div",25),r(),a(59,"div",27)(60,"label"),s(61,"Messaggio"),r(),f(62,"textarea",28),d(63,mo,2,0,"div",25),r()(),a(64,"div",29)(65,"button",30),s(66," INVIA "),r()()()()(),a(67,"aside",31),f(68,"img",32),r()()()()),e&2&&(c(17),g(i.address),c(4),m("href","tel:"+i.phoneDisplay.replaceAll(" ",""),U),c(),S(" ",i.phoneDisplay," "),c(3),m("href","https://wa.me/"+i.whatsappNumber,U),c(5),m("href","mailto:"+i.email,U),c(),g(i.email),c(4),m("href",i.instagramUrl,U),c(),g(i.instagramHandle),c(11),m("formGroup",i.contactForm),c(6),m("ngIf",i.f.name.touched&&i.f.name.invalid),c(5),m("ngIf",i.f.email.touched&&i.f.email.invalid),c(5),m("ngIf",i.f.message.touched&&i.f.message.invalid),c(2),m("disabled",i.contactForm.invalid),c(3),m("src",i.heroImageUrl,U))},dependencies:[M,R,Qe,Me,be,Ce,ve,Ue,He,Ye],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.rt-contacts[_ngcontent-%COMP%]{background:#e9e9e9;color:#0b0b0b}.rt-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 16px}.rt-hero[_ngcontent-%COMP%]{background:#0b0b0b;color:#f1f1f1;padding:46px 0 26px;border-bottom:1px solid rgba(255,255,255,.08)}.rt-title[_ngcontent-%COMP%]{margin:0;font-size:clamp(34px,4vw,54px);letter-spacing:1px;font-weight:900}.rt-subtitle[_ngcontent-%COMP%]{margin:10px 0 0;color:#f1f1f1b3;font-size:14px}.rt-split[_ngcontent-%COMP%]{margin:22px 0 70px;display:grid;grid-template-columns:1.05fr .95fr;gap:18px}@media (max-width: 900px){.rt-split[_ngcontent-%COMP%]{grid-template-columns:1fr}}.rt-paper[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid rgba(0,0,0,.12);border-radius:18px;box-shadow:0 18px 40px #0000001f;padding:26px 22px}.rt-brand[_ngcontent-%COMP%]{margin:0 0 14px;font-size:28px;letter-spacing:1px;font-weight:900}.rt-lines[_ngcontent-%COMP%]{display:grid;gap:12px;margin-bottom:16px}.rt-line[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:10px;font-size:15px}.rt-ico[_ngcontent-%COMP%]{width:20px;opacity:.85}.rt-text[_ngcontent-%COMP%]{color:#000000c7}.rt-link[_ngcontent-%COMP%]{color:#0b0b0b;text-decoration:none;border-bottom:1px solid rgba(0,0,0,.25);padding-bottom:2px;font-weight:700}.rt-link[_ngcontent-%COMP%]:hover{border-color:#000000a6}.rt-dot[_ngcontent-%COMP%]{margin:0 8px;color:#00000059}.rt-cta[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;margin:14px 0 8px}.rt-btn[_ngcontent-%COMP%]{height:44px;padding:0 16px;border-radius:10px;border:1px solid transparent;font-weight:900;letter-spacing:.8px;text-transform:uppercase;cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;text-decoration:none;transition:transform .12s ease,filter .12s ease}.rt-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.rt-btn[_ngcontent-%COMP%]:disabled{opacity:.55;cursor:not-allowed}.rt-btn--primary[_ngcontent-%COMP%]{background:#0b0b0b;color:#f5f5f5}.rt-btn--primary[_ngcontent-%COMP%]:hover{filter:brightness(1.05)}.rt-btn--accent[_ngcontent-%COMP%]{background:#b79b55;color:#111;border-color:#00000038}.rt-btn--accent[_ngcontent-%COMP%]:hover{filter:brightness(1.05)}.rt-mini[_ngcontent-%COMP%]{margin-top:10px;font-size:12px;color:#0009}.rt-formBlock[_ngcontent-%COMP%]{margin-top:18px;border-top:1px solid rgba(0,0,0,.1);padding-top:16px}.rt-formTitle[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;font-weight:900;letter-spacing:.4px}.rt-form[_ngcontent-%COMP%]{display:grid;gap:12px}.rt-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:14px 18px}@media (max-width: 900px){.rt-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.rt-field[_ngcontent-%COMP%]{display:grid;gap:6px}.rt-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:900;letter-spacing:.4px;text-transform:uppercase;color:#0009}.rt-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rt-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:0;outline:none;background:transparent;border-bottom:1px solid rgba(0,0,0,.22);padding:10px 0;font-size:14px;color:#0b0b0b}.rt-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .rt-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-bottom-color:#000000bf}.rt-field--full[_ngcontent-%COMP%]{grid-column:1/-1}.rt-err[_ngcontent-%COMP%]{font-size:12px;color:#b00020}.rt-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.rt-image[_ngcontent-%COMP%]{background:#0b0b0b;border-radius:18px;overflow:hidden;box-shadow:0 18px 40px #0000002e;border:1px solid rgba(0,0,0,.12)}.rt-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;min-height:520px;object-fit:cover;transform:scale(1.02)}@media (max-width: 900px){.rt-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:280px}}']})};var li=(n,t)=>j(void 0,null,function*(){let e=w(Q),i=w(J),o=yield e.resolveCurrentUser();return o?o.role!=="client"&&o.role!=="admin"&&o.role!=="staff"?i.createUrlTree(["/"]):!0:(localStorage.setItem("pre-log",t.url||"/dashboard"),i.createUrlTree(["/login"]))});var ct=class n{constructor(t,e){this.auth=t;this.router=e}canActivate(t,e){return j(this,null,function*(){let i=yield this.auth.resolveCurrentUser();return i?i.role!=="admin"&&i.role!=="staff"?this.router.createUrlTree(["/access-denied"]):!0:(localStorage.setItem("pre-log",e.url||"/admin"),this.router.createUrlTree(["/login"]))})}static \u0275fac=function(e){return new(e||n)(Z(Q),Z(J))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var po=["*"],lt=class n{constructor(t){this.store=t;this.store.hydrateFromHomeSeed()}title="REBIS TATTOO";static \u0275fac=function(e){return new(e||n)(D(V))};static \u0275cmp=C({type:n,selectors:[["app-fast-booking-layout"]],inputs:{title:"title"},standalone:!0,features:[v],ngContentSelectors:po,decls:5,vars:0,consts:[[1,"shell"],[1,"top"],[1,"main"]],template:function(e,i){e&1&&(Xt(),a(0,"div",0)(1,"header",1),s(2,"REBIS TATTOO"),r(),a(3,"main",2),Jt(4),r()())},dependencies:[M],styles:[".shell[_ngcontent-%COMP%]{min-height:100vh;background:#fff;color:#000;display:flex;flex-direction:column}.top[_ngcontent-%COMP%]{height:56px;display:flex;align-items:center;justify-content:center;border-bottom:1px solid #ededed;font-weight:900;letter-spacing:.12em}.main[_ngcontent-%COMP%]{flex:1}"],changeDetection:0})};var go=(n,t)=>t.id;function fo(n,t){n&1&&(a(0,"div",6),f(1,"mat-spinner",8),r())}function ho(n,t){if(n&1&&f(0,"img",13),n&2){let e=u().$implicit;m("src",e.photoUrl,U)}}function _o(n,t){n&1&&(a(0,"mat-icon"),s(1,"person"),r())}function xo(n,t){n&1&&(a(0,"span",25)(1,"mat-icon"),s(2,"check"),r()())}function bo(n,t){n&1&&f(0,"span",26)}function Co(n,t){if(n&1){let e=E();a(0,"mat-card",10),h("click",function(){let o=x(e).$implicit,l=u(2);return b(l.select(o))}),a(1,"div",11)(2,"div",12),d(3,ho,1,1,"img",13)(4,_o,2,0,"mat-icon"),r(),a(5,"div",14)(6,"div",15),s(7),r(),a(8,"div",16)(9,"span",17),s(10,"Realismo / Fine line / Blackwork"),r()(),a(11,"div",18),f(12,"span",19),a(13,"span",20),s(14,"Disponibile oggi"),r(),a(15,"span",21),s(16,"\u2022"),r(),a(17,"span",22),s(18,"\u2605 4.8"),r(),a(19,"span",23),s(20,"(120 recensioni)"),r()()()(),a(21,"div",24),d(22,xo,3,0,"span",25)(23,bo,1,0,"span",26),r()()}if(n&2){let e=t.$implicit,i=u(2);K("active",i.selectedId()===e.id),c(3),Y(e!=null&&e.photoUrl?3:4),c(4),g(e.name),c(15),Y(i.selectedId()===e.id?22:23)}}function vo(n,t){if(n&1&&(a(0,"div",7),De(1,Co,24,5,"mat-card",9,go),r()),n&2){let e=u();c(),Fe(e.artists())}}var mt=class n{store=w(V);artists=this.store.artists;loading=this.store.loadingArtists;selectedId=ce(()=>this.store.draft().artistId);select(t){this.store.setArtist(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-step-artist"]],standalone:!0,features:[v],decls:17,vars:1,consts:[[1,"step"],[1,"head"],[1,"h1"],[1,"p"],["aria-label","info consulenza",1,"chips"],["matChipAvatar",""],[1,"center"],[1,"list"],["diameter","32"],["role","button","tabindex","0",1,"artist",3,"active"],["role","button","tabindex","0",1,"artist",3,"click"],[1,"left"],[1,"avatar"],["alt","",3,"src"],[1,"info"],[1,"name"],[1,"meta"],[1,"styles"],[1,"submeta"],[1,"dot"],[1,"avail"],[1,"sep"],[1,"rate"],[1,"muted"],[1,"right"],[1,"badge"],[1,"radio"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"header",1)(2,"h1",2),s(3,"ARTISTA"),r(),a(4,"p",3),s(5,"Scegli un artista per vedere giorni e orari disponibili"),r(),a(6,"mat-chip-set",4)(7,"mat-chip")(8,"mat-icon",5),s(9,"schedule"),r(),s(10," Consulenza 60 min "),r(),a(11,"mat-chip")(12,"mat-icon",5),s(13,"payments"),r(),s(14," Caparra \u20AC50 "),r()()(),d(15,fo,2,0,"div",6)(16,vo,3,0,"div",7),r()),e&2&&(c(15),Y(i.loading()?15:16))},dependencies:[M,Se,ye,P,F,A,et,Zn,tt],styles:[".step[_ngcontent-%COMP%]{max-width:860px;margin:0 auto;padding:20px 16px 32px}.head[_ngcontent-%COMP%]{margin-bottom:14px}.h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:28px;font-weight:900;letter-spacing:.02em}.p[_ngcontent-%COMP%]{margin:0 0 10px;opacity:.75}.chips[_ngcontent-%COMP%]{margin-top:8px}.center[_ngcontent-%COMP%]{display:grid;place-items:center;min-height:240px}.list[_ngcontent-%COMP%]{display:grid;gap:12px}.artist[_ngcontent-%COMP%]{border-radius:16px;padding:14px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease;border:1px solid rgba(0,0,0,.08)}.artist[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.artist.active[_ngcontent-%COMP%]{border:2px solid rgba(25,118,210,.55);box-shadow:0 10px 30px #1976d21a}.left[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;min-width:0}.avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;overflow:hidden;background:#1976d214;display:grid;place-items:center;flex:0 0 auto}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.info[_ngcontent-%COMP%]{min-width:0}.name[_ngcontent-%COMP%]{font-size:18px;font-weight:900;margin-bottom:2px}.meta[_ngcontent-%COMP%]{font-size:13px;opacity:.75;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.submeta[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;margin-top:6px;font-size:12px;opacity:.8;flex-wrap:wrap}.dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#4caf50;display:inline-block}.sep[_ngcontent-%COMP%]{opacity:.5}.muted[_ngcontent-%COMP%]{opacity:.65}.right[_ngcontent-%COMP%]{display:flex;align-items:center}.radio[_ngcontent-%COMP%]{width:18px;height:18px;border-radius:50%;border:2px solid rgba(0,0,0,.2)}.badge[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;background:#1976d21f;display:grid;place-items:center}@media (max-width: 520px){.avatar[_ngcontent-%COMP%]{width:52px;height:52px}.name[_ngcontent-%COMP%]{font-size:17px}}"],changeDetection:0})};var pt=class n{ngOnInit(){console.log("intro")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-step-intro"]],standalone:!0,features:[v],decls:38,vars:0,consts:[[1,"step"],[1,"head"],[1,"title"],[1,"sub"],[1,"card"],[1,"row"],[1,"ico"],[1,"txt"],[1,"k"],[1,"v"],[1,"note"],[1,"hint"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"header",1)(2,"h1",2),s(3," PRENOTA"),f(4,"br"),s(5," LA TUA"),f(6,"br"),s(7," CONSULENZA "),r(),a(8,"p",3),s(9," La consulenza serve a valutare il progetto, definire tempi e costi. L\u2019importo versato verr\xE0 "),a(10,"b"),s(11,"scalato dal prezzo finale"),r(),s(12," del tatuaggio. "),r()(),a(13,"mat-card",4)(14,"div",5)(15,"mat-icon",6),s(16,"schedule"),r(),a(17,"div",7)(18,"div",8),s(19,"Durata"),r(),a(20,"div",9),s(21,"Consulenza 60 min"),r()()(),a(22,"div",5)(23,"mat-icon",6),s(24,"payments"),r(),a(25,"div",7)(26,"div",8),s(27,"Caparra"),r(),a(28,"div",9),s(29,"\u20AC50"),r()()(),f(30,"mat-divider"),a(31,"div",10),s(32," Prenotabili solo consulenze. Le sessioni tattoo vengono pianificate dopo l\u2019approvazione del progetto. "),r()(),a(33,"div",11),s(34," Premi "),a(35,"b"),s(36,"Continua"),r(),s(37," per scegliere l\u2019artista. "),r()())},dependencies:[M,P,F,me,A],styles:[".step[_ngcontent-%COMP%]{max-width:860px;margin:0 auto;padding:20px 16px 32px}.head[_ngcontent-%COMP%]{margin-bottom:16px}.title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:clamp(34px,4vw,48px);line-height:1.02;font-weight:900;letter-spacing:.02em}.sub[_ngcontent-%COMP%]{margin:0;opacity:.8;line-height:1.5}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px}.row[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:10px 4px}.ico[_ngcontent-%COMP%]{opacity:.7}.txt[_ngcontent-%COMP%]   .k[_ngcontent-%COMP%]{font-size:12px;opacity:.65}.txt[_ngcontent-%COMP%]   .v[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.note[_ngcontent-%COMP%]{padding-top:12px;font-size:13px;opacity:.75;line-height:1.45}.hint[_ngcontent-%COMP%]{margin-top:14px;font-size:12px;opacity:.7}"],changeDetection:0})};var Mo=(n,t)=>t.value,yo=(n,t)=>t.time;function So(n,t){if(n&1){let e=E();a(0,"button",10),h("click",function(){let o=x(e).$implicit,l=u();return b(l.pickDate(o.value))}),s(1),r()}if(n&2){let e=t.$implicit,i=u();K("active",i.selectedDate()===e.value),c(),S(" ",e.label," ")}}function Po(n,t){n&1&&(a(0,"div",8),f(1,"mat-progress-spinner",11),a(2,"span"),s(3,"Carico disponibilit\xE0\u2026"),r()())}function Oo(n,t){if(n&1&&(a(0,"div",12)(1,"mat-icon"),s(2,"error"),r(),a(3,"span"),s(4),r()()),n&2){let e=u(2);c(4),g(e.error())}}function wo(n,t){n&1&&(a(0,"div",13),s(1," Nessuno slot disponibile per questo giorno. "),r())}function ko(n,t){if(n&1){let e=E();a(0,"button",15),h("click",function(){let o=x(e).$implicit,l=u(2);return b(l.pickTime(o.time))}),a(1,"mat-icon",16),s(2,"schedule"),r(),s(3),r()}if(n&2){let e=t.$implicit,i=u(2);K("active",i.draft().time===e.time),c(3),S(" ",e.time," ")}}function Eo(n,t){if(n&1&&(d(0,Oo,5,1,"div",12)(1,wo,2,0,"div",13),a(2,"div",9),De(3,ko,4,3,"button",14,yo),r()),n&2){let e=u();Y(e.error()&&e.selectedDate()?0:-1),c(),Y(e.slots().length===0&&e.selectedDate()?1:-1),c(2),Fe(e.slots())}}var dt=class n{store=w(V);draft=this.store.draft;selectedDate=this.store.selectedDate;slots=this.store.slots;loading=this.store.loadingSlots;error=this.store.error;days=ce(()=>{let t=[],e=new Date;for(let i=0;i<7;i++){let o=new Date(e);o.setDate(e.getDate()+i);let l=o.getFullYear(),p=String(o.getMonth()+1).padStart(2,"0"),_=String(o.getDate()).padStart(2,"0"),T=`${l}-${p}-${_}`,O=o.toLocaleDateString("it-IT",{weekday:"short",day:"2-digit",month:"short"});t.push({label:O,value:T})}return t});pickDate(t){this.store.setDate(t)}pickTime(t){let e=this.selectedDate();this.store.setWhen(e,t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-step-when"]],standalone:!0,features:[v],decls:17,vars:1,consts:[[1,"step"],[1,"head"],[1,"h1"],[1,"p"],[1,"card"],[1,"label"],[1,"days"],["mat-stroked-button","",1,"day",3,"active"],[1,"loading"],[1,"times"],["mat-stroked-button","",1,"day",3,"click"],["diameter","22","mode","indeterminate"],[1,"error"],[1,"empty"],["mat-stroked-button","",1,"time",3,"active"],["mat-stroked-button","",1,"time",3,"click"],[1,"ico"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"header",1)(2,"h1",2),s(3,"QUANDO"),r(),a(4,"p",3),s(5,"Seleziona un giorno e poi un orario disponibile per la consulenza."),r()(),a(6,"mat-card",4)(7,"div",5),s(8,"Giorno"),r(),a(9,"div",6),De(10,So,2,3,"button",7,Mo),r(),f(12,"mat-divider"),a(13,"div",5),s(14,"Orari disponibili"),r(),d(15,Po,4,0,"div",8)(16,Eo,5,2,"div",9),r()()),e&2&&(c(10),Fe(i.days()),c(5),Y(i.loading()?15:16))},dependencies:[M,P,F,G,me,A,ye,Oe,Se,Kn,Pe],styles:[".step[_ngcontent-%COMP%]{max-width:860px;margin:0 auto;padding:20px 16px 32px}.h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:28px;font-weight:900}.p[_ngcontent-%COMP%]{margin:0 0 12px;opacity:.75}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px}.label[_ngcontent-%COMP%]{font-size:12px;font-weight:800;opacity:.7;margin:8px 0 10px;letter-spacing:.04em}.days[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:10px}.day[_ngcontent-%COMP%]{border-radius:999px!important;height:38px}.day.active[_ngcontent-%COMP%]{border-color:#1976d28c!important;box-shadow:0 10px 30px #1976d21a}.loading[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;padding:12px 0;opacity:.75}.times[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;padding-top:10px}.time[_ngcontent-%COMP%]{border-radius:12px!important;height:42px}.time.active[_ngcontent-%COMP%]{border-color:#1976d2b3!important;background:#1976d20f}.ico[_ngcontent-%COMP%]{margin-right:6px;opacity:.7}.error[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;padding:10px;border-radius:12px;background:#f4433614;margin-top:10px}.empty[_ngcontent-%COMP%]{padding:12px 0;opacity:.7}"],changeDetection:0})};function Io(n,t){n&1&&(a(0,"mat-hint"),s(1,"Nome precompilato dal tuo profilo"),r())}function To(n,t){n&1&&(a(0,"mat-hint"),s(1,"Contatto associato al tuo account"),r())}var ut=class n{store=w(V);draft=this.store.draft;update(t,e){this.store.draft.update(i=>re(oe({},i),{[t]:e}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-step-details"]],standalone:!0,features:[v],decls:23,vars:7,consts:[[1,"step"],[1,"head"],[1,"h1"],[1,"p"],[1,"card"],["appearance","outline",1,"full"],["matInput","","placeholder","Es. Mario Rossi",3,"input","value","disabled"],[4,"ngIf"],["matInput","","placeholder","email o numero",3,"input","value","disabled"],["matInput","","rows","4","placeholder","Descrivi brevemente l\u2019idea del tatuaggio",3,"input","value"],[1,"privacy"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"header",1)(2,"h1",2),s(3,"I TUOI DATI"),r(),a(4,"p",3),s(5,"Inserisci i dati per completare la richiesta di consulenza."),r()(),a(6,"mat-card",4)(7,"mat-form-field",5)(8,"mat-label"),s(9,"Nome e Cognome"),r(),a(10,"input",6),h("input",function(l){return i.update("name",l.target.value)}),r(),d(11,Io,2,0,"mat-hint",7),r(),a(12,"mat-form-field",5)(13,"mat-label"),s(14,"Email o Telefono"),r(),a(15,"input",8),h("input",function(l){return i.update("contact",l.target.value)}),r(),d(16,To,2,0,"mat-hint",7),r(),a(17,"mat-form-field",5)(18,"mat-label"),s(19,"Descrizione del progetto"),r(),a(20,"textarea",9),h("input",function(l){return i.update("description",l.target.value)}),r()(),a(21,"div",10),s(22," I dati verranno usati solo per la gestione della consulenza. "),r()()()),e&2&&(c(10),m("value",i.draft().name||"")("disabled",i.store.isNameLocked()),c(),m("ngIf",i.store.isNameLocked()),c(4),m("value",i.draft().contact||"")("disabled",i.store.isContactLocked()),c(),m("ngIf",i.store.isContactLocked()),c(4),m("value",i.draft().description||""))},dependencies:[M,R,Ge,P,ke,we,Ze,Yn,A],styles:[".step[_ngcontent-%COMP%]{max-width:860px;margin:0 auto;padding:20px 16px 32px}.h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:28px;font-weight:900}.p[_ngcontent-%COMP%]{margin:0 0 12px;opacity:.75}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px}.full[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.privacy[_ngcontent-%COMP%]{font-size:12px;opacity:.7;padding-top:6px}"],changeDetection:0})};var gt=class n{store=w(V);d=this.store.draft;deposit=50;whenText=ce(()=>{let t=this.d();return!t.date||!t.time?"\u2014":`${t.date} \xB7 ${t.time}`});contactText=ce(()=>{let t=this.d();return t.contact?t.contact:"\u2014"});descriptionText=ce(()=>{let t=this.d();return t.description?t.description:"\u2014"});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-step-summary"]],standalone:!0,features:[v],decls:50,vars:6,consts:[[1,"step"],[1,"head"],[1,"h1"],[1,"p"],[1,"card"],[1,"row"],[1,"k"],[1,"v"],[1,"block"],[1,"desc"],[1,"price"],[1,"disc"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"header",1)(2,"h1",2),s(3,"RIEPILOGO"),r(),a(4,"p",3),s(5,"Controlla i dati prima di passare al pagamento."),r()(),a(6,"mat-card",4)(7,"div",5)(8,"span",6),s(9,"Tipo"),r(),a(10,"span",7),s(11,"Consulenza"),r()(),a(12,"div",5)(13,"span",6),s(14,"Artista"),r(),a(15,"span",7),s(16),r()(),a(17,"div",5)(18,"span",6),s(19,"Quando"),r(),a(20,"span",7),s(21),r()()(),a(22,"mat-card",4)(23,"div",5)(24,"span",6),s(25,"Nome"),r(),a(26,"span",7),s(27),r()(),a(28,"div",5)(29,"span",6),s(30,"Contatto"),r(),a(31,"span",7),s(32),r()(),f(33,"mat-divider"),a(34,"div",8)(35,"div",6),s(36,"Descrizione"),r(),a(37,"div",9),s(38),r()()(),a(39,"mat-card",10)(40,"div",5)(41,"span",6),s(42,"Importo consulenza"),r(),a(43,"span",7),s(44),r()(),a(45,"div",11),s(46," L\u2019importo verr\xE0 "),a(47,"b"),s(48,"scalato dal prezzo finale"),r(),s(49," in caso di conferma del progetto. "),r()()()),e&2&&(c(16),g(i.d().artistName||"\u2014"),c(5),g(i.whenText()),c(6),g(i.d().name||"\u2014"),c(5),g(i.contactText()),c(6),g(i.descriptionText()),c(6),S("\u20AC",i.deposit,""))},dependencies:[M,P,me,A],styles:[".step[_ngcontent-%COMP%]{max-width:860px;margin:0 auto;padding:20px 16px 32px}.h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:28px;font-weight:900}.p[_ngcontent-%COMP%]{margin:0 0 12px;opacity:.75}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px;margin-bottom:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:14px;padding:8px 0}.k[_ngcontent-%COMP%]{font-size:13px;opacity:.7}.v[_ngcontent-%COMP%]{font-size:14px;font-weight:800}.block[_ngcontent-%COMP%]{padding-top:12px}.desc[_ngcontent-%COMP%]{padding-top:8px;opacity:.85;line-height:1.45}.price[_ngcontent-%COMP%]{border-radius:16px;padding:14px}.disc[_ngcontent-%COMP%]{margin-top:10px;font-size:12px;opacity:.75;line-height:1.45}"],changeDetection:0})};function Do(n,t){if(n&1&&(a(0,"div",10)(1,"mat-icon"),s(2,"error"),r(),a(3,"span"),s(4),r()()),n&2){let e=u();c(4),g(e.error())}}function Fo(n,t){if(n&1){let e=E();a(0,"div",13)(1,"div",14),s(2,"Booking creato: "),a(3,"b"),s(4),r()(),a(5,"div",14),s(6,"clientSecret pronto (Stripe)."),r(),a(7,"button",15),h("click",function(){x(e);let o=u();return b(o.confirmSuccess())}),s(8," Simula pagamento riuscito "),r()()}if(n&2){let e=u();c(4),g(e.bookingId())}}var ft=class n{store=w(V);draft=this.store.draft;paying=this.store.paying;error=this.store.error;bookingId=this.store.bookingId;clientSecret=this.store.paymentClientSecret;depositEuro=this.store.depositEuro;pay(){this.store.startPayment()}confirmSuccess(){this.store.confirmPaymentSuccess()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-step-payment"]],standalone:!0,features:[v],decls:27,vars:4,consts:[[1,"step"],[1,"head"],[1,"h1"],[1,"p"],[1,"card"],[1,"row"],[1,"k"],[1,"v"],[1,"note"],[1,"ico"],[1,"error"],[1,"actions"],["mat-flat-button","","color","primary",3,"click","disabled"],[1,"debug"],[1,"small"],["mat-stroked-button","",1,"ok",3,"click"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"header",1)(2,"h1",2),s(3,"PAGAMENTO"),r(),a(4,"p",3),s(5,"Per confermare la consulenza \xE8 richiesta una caparra."),r()(),a(6,"mat-card",4)(7,"div",5)(8,"div",6),s(9,"Caparra"),r(),a(10,"div",7),s(11),r()(),a(12,"div",8)(13,"mat-icon",9),s(14,"info"),r(),a(15,"div"),s(16," La caparra verr\xE0 "),a(17,"b"),s(18,"scalata dal prezzo finale"),r(),s(19," del tatuaggio. "),r()(),d(20,Do,5,1,"div",10),a(21,"div",11)(22,"button",12),h("click",function(){return i.pay()}),a(23,"mat-icon"),s(24,"lock"),r(),s(25," Paga ora "),r()(),d(26,Fo,9,1,"div",13),r()()),e&2&&(c(11),S("\u20AC ",i.depositEuro(),""),c(9),Y(i.error()?20:-1),c(2),m("disabled",i.paying()),c(4),Y(i.bookingId()&&i.clientSecret()?26:-1))},dependencies:[M,P,F,G,A,Oe,Pe],styles:[".step[_ngcontent-%COMP%]{max-width:860px;margin:0 auto;padding:20px 16px 32px}.h1[_ngcontent-%COMP%]{margin:0 0 6px;font-size:28px;font-weight:900}.p[_ngcontent-%COMP%]{margin:0 0 12px;opacity:.75}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0}.k[_ngcontent-%COMP%]{opacity:.7;font-weight:700}.v[_ngcontent-%COMP%]{font-size:18px;font-weight:900}.note[_ngcontent-%COMP%]{margin-top:10px;display:flex;gap:10px;align-items:flex-start;padding:10px;border-radius:12px;background:#1976d20f}.ico[_ngcontent-%COMP%]{opacity:.7}.error[_ngcontent-%COMP%]{margin-top:10px;display:flex;gap:8px;align-items:center;padding:10px;border-radius:12px;background:#f4433614}.actions[_ngcontent-%COMP%]{margin-top:14px;display:flex;justify-content:flex-end}.debug[_ngcontent-%COMP%]{margin-top:14px;opacity:.85}.small[_ngcontent-%COMP%]{font-size:12px;margin-bottom:6px}.ok[_ngcontent-%COMP%]{margin-top:8px}"],changeDetection:0})};function Ao(n,t){if(n&1&&(a(0,"div",7),s(1," Codice prenotazione: "),a(2,"b"),s(3),r()()),n&2){let e=u();c(3),g(e.bookingId())}}var ht=class n{store=w(V);draft=this.store.draft;bookingId=this.store.bookingId;again(){this.store.resetAll()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-step-success"]],standalone:!0,features:[v],decls:24,vars:4,consts:[[1,"step"],[1,"hero"],[1,"badge"],[1,"card"],[1,"row"],[1,"k"],[1,"v"],[1,"code"],[1,"actions"],["mat-stroked-button","",3,"click"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"mat-card",1)(2,"div",2)(3,"mat-icon"),s(4,"check_circle"),r()(),a(5,"h2"),s(6,"Prenotazione confermata"),r(),a(7,"p"),s(8,"Perfetto! La tua consulenza \xE8 stata confermata."),r()(),a(9,"mat-card",3)(10,"div",4)(11,"div",5),s(12,"Artista"),r(),a(13,"div",6),s(14),r()(),a(15,"div",4)(16,"div",5),s(17,"Data"),r(),a(18,"div",6),s(19),r()(),d(20,Ao,4,1,"div",7),r(),a(21,"div",8)(22,"button",9),h("click",function(){return i.again()}),s(23," Prenota un\u2019altra consulenza "),r()()()),e&2&&(c(14),g(i.draft().artistName),c(5),Kt("",i.draft().date," \u2022 ",i.draft().time,""),c(),Y(i.bookingId()?20:-1))},dependencies:[M,P,F,G,A,Oe,Pe],styles:[".step[_ngcontent-%COMP%]{max-width:860px;margin:0 auto;padding:20px 16px 32px}.hero[_ngcontent-%COMP%]{border-radius:16px;padding:18px 14px;text-align:center;margin-bottom:12px}.badge[_ngcontent-%COMP%]{width:56px;height:56px;margin:0 auto 8px;border-radius:50%;background:#4caf501f;display:grid;place-items:center}.badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px;width:30px;height:30px}.card[_ngcontent-%COMP%]{border-radius:16px;padding:14px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0}.k[_ngcontent-%COMP%]{opacity:.7;font-weight:700}.v[_ngcontent-%COMP%]{font-weight:900}.code[_ngcontent-%COMP%]{margin-top:10px;padding:10px;border-radius:12px;background:#0000000a;font-size:13px}.actions[_ngcontent-%COMP%]{margin-top:14px;display:flex;justify-content:center}"],changeDetection:0})};function No(n,t){n&1&&f(0,"app-step-intro")}function Bo(n,t){n&1&&f(0,"app-step-artist")}function zo(n,t){n&1&&f(0,"app-step-when")}function Lo(n,t){n&1&&f(0,"app-step-details")}function Ro(n,t){n&1&&f(0,"app-step-summary")}function Vo(n,t){n&1&&f(0,"app-step-payment")}function Wo(n,t){n&1&&f(0,"app-step-success")}var _t=class n{store=w(V);step=this.store.step;progress=this.store.progress;canBack=this.store.canBack;canNext=this.store.canNext;back(){this.store.back()}next(){this.store.next()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-fast-booking-page"]],standalone:!0,features:[v],decls:15,vars:4,consts:[["mode","determinate",3,"value"],[1,"content"],[1,"footer"],["mat-button","",3,"click","disabled"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(e,i){if(e&1&&(a(0,"app-fast-booking-layout"),f(1,"mat-progress-bar",0),a(2,"section",1),d(3,No,1,0,"app-step-intro")(4,Bo,1,0,"app-step-artist")(5,zo,1,0,"app-step-when")(6,Lo,1,0,"app-step-details")(7,Ro,1,0,"app-step-summary")(8,Vo,1,0,"app-step-payment")(9,Wo,1,0,"app-step-success"),r(),a(10,"footer",2)(11,"button",3),h("click",function(){return i.back()}),s(12,"Indietro"),r(),a(13,"button",4),h("click",function(){return i.next()}),s(14," Continua "),r()()()),e&2){let o;c(),m("value",i.progress()),c(2),Y((o=i.step())==="intro"?3:o==="artist"?4:o==="when"?5:o==="details"?6:o==="summary"?7:o==="payment"?8:o==="success"?9:-1),c(8),m("disabled",!i.canBack()),c(2),m("disabled",!i.canNext())}},dependencies:[M,P,G,ei,lt,mt,pt,dt,ut,gt,ft,ht],styles:[".content[_ngcontent-%COMP%]{padding:18px 16px 110px;max-width:520px;margin:0 auto}.footer[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid #ededed;padding:12px 16px;display:flex;gap:10px;align-items:center}.footer.hidden[_ngcontent-%COMP%]{display:none}.ghost[_ngcontent-%COMP%]{border:1px solid #e5e5e5;background:#fff;color:#000;border-radius:12px;padding:12px 14px}.primary[_ngcontent-%COMP%]{flex:1;background:#000!important;color:#fff!important;border-radius:12px;padding:12px 14px}"],changeDetection:0})};var mi=[{path:"login",component:Le},{path:"register",component:Le,data:{mode:"register"}},{path:"auth/login",redirectTo:"login",pathMatch:"full"},{path:"auth/register",redirectTo:"register",pathMatch:"full"},{path:"access-denied",loadComponent:()=>import("./chunk-EWTTOTNK.js").then(n=>n.AccessDeniedComponent)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>import("./chunk-XZJ7GAR6.js").then(n=>n.HomeModule)},{path:"servizi",component:rt},{path:"progetti",loadChildren:()=>import("./chunk-PMDYTVNO.js").then(n=>n.PROJECTS_ROUTES)},{path:"progetto/:idProgetto",loadComponent:()=>import("./chunk-RFLZ4GAH.js").then(n=>n.ProjectDetailComponent)},{path:"fast-booking",component:_t},{path:"chi-siamo",component:at},{path:"contatti",component:st},{path:"dashboard",loadChildren:()=>import("./chunk-YYJSLJCO.js").then(n=>n.ClientsModule),canActivate:[li]},{path:"admin",loadChildren:()=>import("./chunk-S5AQNSJH.js").then(n=>n.AdminModule),canActivate:[ct]},{path:"**",redirectTo:"/home"}];var pi={providers:[tn({eventCoalescing:!0}),mn(),fn(mi,hn()),oi(),{provide:nn,useValue:"it-IT"},Dn(),{provide:In,useValue:Tn},{provide:En,useValue:"it-IT"},xn(()=>bn({projectId:"rebis-tattoo-55816",appId:"1:70352364616:web:24a6df01d24f6b4947647d",databaseURL:"https://rebis-tattoo-55816-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"rebis-tattoo-55816.firebasestorage.app",apiKey:"AIzaSyDFOFTJ9p60YeoVdLGo8ZfuaOOaUpgAP5E",authDomain:"rebis-tattoo-55816.firebaseapp.com",messagingSenderId:"70352364616",measurementId:"G-1HW9SPJ1CN"})),Cn(()=>vn()),Mn(()=>yn()),Pn(()=>wn())]};var jo=Math.pow(10,8)*24*60*60*1e3,Wc=-jo,xt=6048e5,di=864e5;var Yo=3600;var ui=Yo*24,jc=ui*7,$o=ui*365.2425,Uo=$o/12,Yc=Uo*3,Dt=Symbol.for("constructDateFrom");function W(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&Dt in n?n[Dt](t):n instanceof Date?new n.constructor(t):new Date(t)}function k(n,t){return W(t||n,n)}function gi(n,t,e){let i=k(n,e?.in);return isNaN(t)?W(e?.in||n,NaN):(t&&i.setDate(i.getDate()+t),i)}var Ho={};function pe(){return Ho}function ne(n,t){let e=pe(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,o=k(n,t?.in),l=o.getDay(),p=(l<i?7:0)+l-i;return o.setDate(o.getDate()-p),o.setHours(0,0,0,0),o}function he(n,t){return ne(n,re(oe({},t),{weekStartsOn:1}))}function bt(n,t){let e=k(n,t?.in),i=e.getFullYear(),o=W(e,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);let l=he(o),p=W(e,0);p.setFullYear(i,0,4),p.setHours(0,0,0,0);let _=he(p);return e.getTime()>=l.getTime()?i+1:e.getTime()>=_.getTime()?i:i-1}function Ft(n){let t=k(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function fi(n,...t){let e=W.bind(null,n||t.find(i=>typeof i=="object"));return t.map(e)}function At(n,t){let e=k(n,t?.in);return e.setHours(0,0,0,0),e}function hi(n,t,e){let[i,o]=fi(e?.in,n,t),l=At(i),p=At(o),_=+l-Ft(l),T=+p-Ft(p);return Math.round((_-T)/di)}function _i(n,t){let e=bt(n,t),i=W(t?.in||n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),he(i)}function xi(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function bi(n){return!(!xi(n)&&typeof n!="number"||isNaN(+k(n)))}function Ci(n,t){let e=k(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}var qo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vi=(n,t,e)=>{let i,o=qo[n];return typeof o=="string"?i=o:t===1?i=o.one:i=o.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Ct(n){return(t={})=>{let e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}var Go={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qo={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xo={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mi={date:Ct({formats:Go,defaultWidth:"full"}),time:Ct({formats:Qo,defaultWidth:"full"}),dateTime:Ct({formats:Xo,defaultWidth:"full"})};var Jo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yi=(n,t,e,i)=>Jo[n];function Ee(n){return(t,e)=>{let i=e?.context?String(e.context):"standalone",o;if(i==="formatting"&&n.formattingValues){let p=n.defaultFormattingWidth||n.defaultWidth,_=e?.width?String(e.width):p;o=n.formattingValues[_]||n.formattingValues[p]}else{let p=n.defaultWidth,_=e?.width?String(e.width):n.defaultWidth;o=n.values[_]||n.values[p]}let l=n.argumentCallback?n.argumentCallback(t):t;return o[l]}}var Zo={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ko={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},er={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ir={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},or=(n,t)=>{let e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Si={ordinalNumber:or,era:Ee({values:Zo,defaultWidth:"wide"}),quarter:Ee({values:Ko,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ee({values:er,defaultWidth:"wide"}),day:Ee({values:tr,defaultWidth:"wide"}),dayPeriod:Ee({values:nr,defaultWidth:"wide",formattingValues:ir,defaultFormattingWidth:"wide"})};function Ie(n){return(t,e={})=>{let i=e.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=t.match(o);if(!l)return null;let p=l[0],_=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],T=Array.isArray(_)?ar(_,I=>I.test(p)):rr(_,I=>I.test(p)),O;O=n.valueCallback?n.valueCallback(T):T,O=e.valueCallback?e.valueCallback(O):O;let N=t.slice(p.length);return{value:O,rest:N}}}function rr(n,t){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function ar(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function Pi(n){return(t,e={})=>{let i=t.match(n.matchPattern);if(!i)return null;let o=i[0],l=t.match(n.parsePattern);if(!l)return null;let p=n.valueCallback?n.valueCallback(l[0]):l[0];p=e.valueCallback?e.valueCallback(p):p;let _=t.slice(o.length);return{value:p,rest:_}}}var sr=/^(\d+)(th|st|nd|rd)?/i,cr=/\d+/i,lr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mr={any:[/^b/i,/^(a|c)/i]},pr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dr={any:[/1/i,/2/i,/3/i,/4/i]},ur={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_r={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Oi={ordinalNumber:Pi({matchPattern:sr,parsePattern:cr,valueCallback:n=>parseInt(n,10)}),era:Ie({matchPatterns:lr,defaultMatchWidth:"wide",parsePatterns:mr,defaultParseWidth:"any"}),quarter:Ie({matchPatterns:pr,defaultMatchWidth:"wide",parsePatterns:dr,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ie({matchPatterns:ur,defaultMatchWidth:"wide",parsePatterns:gr,defaultParseWidth:"any"}),day:Ie({matchPatterns:fr,defaultMatchWidth:"wide",parsePatterns:hr,defaultParseWidth:"any"}),dayPeriod:Ie({matchPatterns:_r,defaultMatchWidth:"any",parsePatterns:xr,defaultParseWidth:"any"})};var Nt={code:"en-US",formatDistance:vi,formatLong:Mi,formatRelative:yi,localize:Si,match:Oi,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wi(n,t){let e=k(n,t?.in);return hi(e,Ci(e))+1}function ki(n,t){let e=k(n,t?.in),i=+he(e)-+_i(e);return Math.round(i/xt)+1}function vt(n,t){let e=k(n,t?.in),i=e.getFullYear(),o=pe(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,p=W(t?.in||n,0);p.setFullYear(i+1,0,l),p.setHours(0,0,0,0);let _=ne(p,t),T=W(t?.in||n,0);T.setFullYear(i,0,l),T.setHours(0,0,0,0);let O=ne(T,t);return+e>=+_?i+1:+e>=+O?i:i-1}function Ei(n,t){let e=pe(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,o=vt(n,t),l=W(t?.in||n,0);return l.setFullYear(o,0,i),l.setHours(0,0,0,0),ne(l,t)}function Ii(n,t){let e=k(n,t?.in),i=+ne(e,t)-+Ei(e,t);return Math.round(i/xt)+1}function y(n,t){let e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}var ie={y(n,t){let e=n.getFullYear(),i=e>0?e:1-e;return y(t==="yy"?i%100:i,t.length)},M(n,t){let e=n.getMonth();return t==="M"?String(e+1):y(e+1,2)},d(n,t){return y(n.getDate(),t.length)},a(n,t){let e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return y(n.getHours()%12||12,t.length)},H(n,t){return y(n.getHours(),t.length)},m(n,t){return y(n.getMinutes(),t.length)},s(n,t){return y(n.getSeconds(),t.length)},S(n,t){let e=t.length,i=n.getMilliseconds(),o=Math.trunc(i*Math.pow(10,e-3));return y(o,t.length)}};var Te={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bt={G:function(n,t,e){let i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){let i=n.getFullYear(),o=i>0?i:1-i;return e.ordinalNumber(o,{unit:"year"})}return ie.y(n,t)},Y:function(n,t,e,i){let o=vt(n,i),l=o>0?o:1-o;if(t==="YY"){let p=l%100;return y(p,2)}return t==="Yo"?e.ordinalNumber(l,{unit:"year"}):y(l,t.length)},R:function(n,t){let e=bt(n);return y(e,t.length)},u:function(n,t){let e=n.getFullYear();return y(e,t.length)},Q:function(n,t,e){let i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return y(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){let i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return y(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){let i=n.getMonth();switch(t){case"M":case"MM":return ie.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){let i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return y(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){let o=Ii(n,i);return t==="wo"?e.ordinalNumber(o,{unit:"week"}):y(o,t.length)},I:function(n,t,e){let i=ki(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):y(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):ie.d(n,t)},D:function(n,t,e){let i=wi(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):y(i,t.length)},E:function(n,t,e){let i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){let o=n.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return y(l,2);case"eo":return e.ordinalNumber(l,{unit:"day"});case"eee":return e.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(o,{width:"short",context:"formatting"});case"eeee":default:return e.day(o,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){let o=n.getDay(),l=(o-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return y(l,t.length);case"co":return e.ordinalNumber(l,{unit:"day"});case"ccc":return e.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(o,{width:"narrow",context:"standalone"});case"cccccc":return e.day(o,{width:"short",context:"standalone"});case"cccc":default:return e.day(o,{width:"wide",context:"standalone"})}},i:function(n,t,e){let i=n.getDay(),o=i===0?7:i;switch(t){case"i":return String(o);case"ii":return y(o,t.length);case"io":return e.ordinalNumber(o,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){let o=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,t,e){let i=n.getHours(),o;switch(i===12?o=Te.noon:i===0?o=Te.midnight:o=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,t,e){let i=n.getHours(),o;switch(i>=17?o=Te.evening:i>=12?o=Te.afternoon:i>=4?o=Te.morning:o=Te.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return ie.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):ie.H(n,t)},K:function(n,t,e){let i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):y(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):y(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):ie.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):ie.s(n,t)},S:function(n,t){return ie.S(n,t)},X:function(n,t,e){let i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Di(i);case"XXXX":case"XX":return _e(i);case"XXXXX":case"XXX":default:return _e(i,":")}},x:function(n,t,e){let i=n.getTimezoneOffset();switch(t){case"x":return Di(i);case"xxxx":case"xx":return _e(i);case"xxxxx":case"xxx":default:return _e(i,":")}},O:function(n,t,e){let i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ti(i,":");case"OOOO":default:return"GMT"+_e(i,":")}},z:function(n,t,e){let i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ti(i,":");case"zzzz":default:return"GMT"+_e(i,":")}},t:function(n,t,e){let i=Math.trunc(+n/1e3);return y(i,t.length)},T:function(n,t,e){return y(+n,t.length)}};function Ti(n,t=""){let e=n>0?"-":"+",i=Math.abs(n),o=Math.trunc(i/60),l=i%60;return l===0?e+String(o):e+String(o)+t+y(l,2)}function Di(n,t){return n%60===0?(n>0?"-":"+")+y(Math.abs(n)/60,2):_e(n,t)}function _e(n,t=""){let e=n>0?"-":"+",i=Math.abs(n),o=y(Math.trunc(i/60),2),l=y(i%60,2);return e+o+t+l}var Fi=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ai=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},br=(n,t)=>{let e=n.match(/(P+)(p+)?/)||[],i=e[1],o=e[2];if(!o)return Fi(n,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Fi(i,t)).replace("{{time}}",Ai(o,t))},Ni={p:Ai,P:br};var Cr=/^D+$/,vr=/^Y+$/,Mr=["D","DD","YY","YYYY"];function Bi(n){return Cr.test(n)}function zi(n){return vr.test(n)}function Li(n,t,e){let i=yr(n,t,e);if(console.warn(i),Mr.includes(n))throw new RangeError(i)}function yr(n,t,e){let i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Sr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Or=/^'([^]*?)'?$/,wr=/''/g,kr=/[a-zA-Z]/;function Ri(n,t,e){let i=pe(),o=e?.locale??i.locale??Nt,l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,p=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,_=k(n,e?.in);if(!bi(_))throw new RangeError("Invalid time value");let T=t.match(Pr).map(N=>{let I=N[0];if(I==="p"||I==="P"){let xe=Ni[I];return xe(N,o.formatLong)}return N}).join("").match(Sr).map(N=>{if(N==="''")return{isToken:!1,value:"'"};let I=N[0];if(I==="'")return{isToken:!1,value:Er(N)};if(Bt[I])return{isToken:!0,value:N};if(I.match(kr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:N}});o.localize.preprocessor&&(T=o.localize.preprocessor(_,T));let O={firstWeekContainsDate:l,weekStartsOn:p,locale:o};return T.map(N=>{if(!N.isToken)return N.value;let I=N.value;(!e?.useAdditionalWeekYearTokens&&zi(I)||!e?.useAdditionalDayOfYearTokens&&Bi(I))&&Li(I,t,String(n));let xe=Bt[I[0]];return xe(_,I,o.localize,O)}).join("")}function Er(n){let t=n.match(Or);return t?t[1].replace(wr,"'"):n}var Mt=class n{constructor(t,e,i,o,l){this.db=t;this.http=e;this.staffService=i;this.bookingService=o;this.authService=l}path="chats";chatPlanUrl="http://localhost:3001/api/chat/plan";createOrReuseChatByEmail(t){return j(this,null,function*(){let e=t.replace(/\./g,"_"),i=ze(this.db,`chatsByEmail/${e}`),o=yield On(i);if(o.exists())return o.val().chatId;let l=kt(ze(this.db,this.path)),p=new Date().toISOString();return yield $e(l,{id:l.key,email:t,createAt:p,status:"aperto"}),yield $e(i,{chatId:l.key}),l.key})}addMessage(t,e){return j(this,null,function*(){let i=kt(ze(this.db,`${this.path}/${t}/messages`)),o=re(oe({},e),{timestamp:new Date().toISOString(),chips:e.chips&&e.chips.length?e.chips:null,id:i.key});yield $e(i,o)})}getMessages(t){return new Lt(e=>{let i=ze(this.db,`${this.path}/${t}/messages`);kn(i,o=>{let l=o.val()||{},p=Object.values(l).sort((_,T)=>_.timestamp.localeCompare(T.timestamp));e.next(p)})})}replyWithPlan(t,e){return j(this,null,function*(){let o=(yield wt(this.staffService.getAllStaff())).filter(O=>O.isActive&&O.role==="tatuatore"),l={},p=new Date;for(let O of o){let N=[];for(let I=0;I<3;I++){let xe=Ri(gi(p,I),"yyyy-MM-dd"),zt=yield this.bookingService.getFreeSlotsInDay(O.id,xe);zt.length&&N.push(`${xe}: ${zt.slice(0,3).map(Wi=>Wi.time).join(", ")}`)}N.length&&(l[O.name]=N)}let _=this.authService.userSig(),T=_?`Utente loggato: ${_.name} - Email: ${_.email}`:"Utente non loggato. Chiedi nome e contatto.";try{let O=yield wt(this.http.post(this.chatPlanUrl,{chatId:t,history:e,artists:o,availability:l,userInfo:T}));if(O?.message)return{message:O.message,chips:(O.chips??[]).slice(0,3),action:O.action}}catch(O){console.warn("[ChatService] chat proxy unavailable, fallback locale.",O?.message??O)}return this.localFallbackPlan(o,l,e)})}localFallbackPlan(t,e,i){let o=[...i].reverse().find(l=>l.from==="user")?.text?.toLowerCase()??"";if(!t.length)return{message:"Al momento non trovo artisti disponibili. Riprova tra poco o contattaci direttamente.",chips:[]};if(o.includes("orari")||o.includes("disponibil")||o.includes("quando")){let l=Object.entries(e).slice(0,2).map(([p,_])=>`${p}: ${_.slice(0,2).join(" | ")}`).join(" - ");return{message:l?`Ti mostro alcune disponibilita: ${l}. Dimmi artista, giorno e orario preferiti.`:"Posso aiutarti a prenotare: indicami artista e giorno preferito.",chips:t.slice(0,3).map(p=>p.name||"Artista").filter(Boolean)}}return{message:"Perfetto, iniziamo dalla scelta artista. Poi ti propongo giorno e orario disponibili.",chips:t.slice(0,3).map(l=>l.name||"Artista").filter(Boolean)}}static \u0275fac=function(e){return new(e||n)(Z(Sn),Z(ln),Z(nt),Z(it),Z(Q))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fr=["scrollContainer"],Ar=["bottomAnchor"];function Nr(n,t){if(n&1){let e=E();a(0,"mat-chip",20),h("click",function(){let o=x(e).$implicit,l=u(3);return b(l.onChipClick(o))})("keydown.enter",function(){let o=x(e).$implicit,l=u(3);return b(l.onChipClick(o))}),s(1),r()}if(n&2){let e=t.$implicit;c(),S(" ",e," ")}}function Br(n,t){if(n&1&&(a(0,"div",17)(1,"mat-chip-set",18),d(2,Nr,2,1,"mat-chip",19),r()()),n&2){let e=u().$implicit;c(2),m("ngForOf",e.chips)}}function zr(n,t){if(n&1&&(z(0),a(1,"div",14)(2,"mat-card",15),s(3),r(),d(4,Br,3,1,"div",16),r(),L()),n&2){let e=t.$implicit,i=t.index,o=u();c(),m("ngClass",e.from),c(),m("ngClass",e.from),c(),S(" ",e.text," "),c(),m("ngIf",e.from==="bot"&&i===o.messages.length-1&&(e.chips==null?null:e.chips.length))}}function Lr(n,t){n&1&&(a(0,"mat-card",21),s(1," \u{1F916} sta scrivendo... "),r())}function Rr(n,t){if(n&1){let e=E();a(0,"button",22),h("click",function(){x(e);let o=u();return b(o.scrollToBottom())}),a(1,"mat-icon"),s(2,"arrow_downward"),r()()}}var yt=class n{constructor(t,e,i,o){this.chatService=t;this.auth=e;this.router=i;this.bookingService=o;this.startConversation()}messages=[];inputText="";typing=!1;isUserAtBottom=!0;chatId=null;userId=null;userName;scrollContainer;bottomAnchor;ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){this.bottomAnchor?.nativeElement?.scrollIntoView({behavior:"smooth"})}onScroll(){let t=this.scrollContainer.nativeElement,e=150;this.isUserAtBottom=t.scrollTop+t.clientHeight>=t.scrollHeight-e}trackByIndex=t=>t;addUserMessage(t){this.messages.push({text:t,from:"user"}),this.saveMessage("user",t)}addBotMessage(t,e){this.messages.push({text:t,from:"bot",chips:e?.length?e:null}),this.saveMessage("bot",t,e||void 0)}saveMessage(t,e,i){if(!this.chatId||!this.userId)return;let o={from:t,text:e,timestamp:new Date().toISOString(),chips:i??null};this.chatService.addMessage(this.chatId,o).catch(l=>console.error("saveMessage ERROR",l))}listenToChat(t){this.chatService.getMessages(t).subscribe(e=>{this.messages=e.map(i=>({text:i.text,from:i.from,chips:i.chips||null})),this.scrollToBottom(),this.messages.length===0&&this.addBotMessage("\u{1F7E2} Posso aiutarti con assistenza o guidarti nella prenotazione. Vuoi iniziare?",["Prenotazione guidata","Apri booking","\u2139\uFE0F Info"])})}startConversation(){let t=this.auth.userSig();if(t){this.userId=t.uid,this.userName=t.name||void 0;let e=t.email||t.uid;this.chatService.createOrReuseChatByEmail(e).then(i=>{this.chatId=i,this.listenToChat(i)})}else{let e=prompt("Inserisci la tua email per iniziare la conversazione:");if(!e)return;this.userId=null,this.userName=void 0,this.chatService.createOrReuseChatByEmail(e).then(i=>{this.chatId=i,this.listenToChat(i)})}}sendMessage(){return j(this,null,function*(){let t=this.inputText.trim();if(!t||!this.chatId)return;this.addUserMessage(t),this.inputText="",this.typing=!0;let e=this.messages.map(o=>({from:o.from,text:o.text,timestamp:new Date().toISOString(),chips:o.chips||void 0})),i=yield this.chatService.replyWithPlan(this.chatId,e);if(this.typing=!1,this.addBotMessage(i.message,i.chips),i.action?.type==="booking-draft"){let o=i.action.draft,l=this.auth.userSig();if(!(l?.email||prompt("Inserisci un'email per confermare la prenotazione:"))||!o?.date||!o?.time||!o?.artistId){this.addBotMessage("\u274C Impossibile completare la prenotazione. Dati insufficienti.");return}try{let _=l?.uid||`anonimo-${this.chatId}`;yield this.bookingService.addDraftFromChat(o,{idClient:_,clientName:this.userName??"Utente Chat"}),this.addBotMessage("\u2705 Prenotazione registrata con successo! Puoi vedere i dettagli nella tua area personale.",["Vai al profilo"])}catch(_){console.error("Errore durante la prenotazione:",_),this.addBotMessage("\u274C Errore durante la prenotazione. Riprova pi\xF9 tardi.")}}})}onChipClick(t){if(t==="Accedi"||t==="Registrati"){this.router.navigate(["/login"]);return}if(t==="Prenotazione guidata"){this.inputText="prenota una consulenza",this.sendMessage();return}if(t==="Apri booking"){this.router.navigate(["/bookings"]);return}if(t==="Vai al profilo"){this.router.navigate(["/account"]);return}this.inputText=t,this.sendMessage()}static \u0275fac=function(e){return new(e||n)(D(Mt),D(Q),D(J),D(it))};static \u0275cmp=C({type:n,selectors:[["app-chat-bot"]],viewQuery:function(e,i){if(e&1&&(Ae(Fr,5),Ae(Ar,5)),e&2){let o;Ne(o=Be())&&(i.scrollContainer=o.first),Ne(o=Be())&&(i.bottomAnchor=o.first)}},standalone:!0,features:[v],decls:21,vars:6,consts:[["scrollContainer",""],["bottomAnchor",""],[1,"chat-wrapper","mat-elevation-z4"],[1,"chat-header"],["color","primary","aria-hidden","true"],[1,"chat-title"],["role","log","aria-live","polite","aria-label","Conversazione con l\u2019assistente",1,"chat-messages",3,"scroll"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","typing","role","status","aria-live","polite",4,"ngIf"],[1,"chat-input",3,"submit"],["appearance","outline",1,"input-field"],["matInput","","name","message","placeholder","Scrivi un messaggio\u2026","aria-label","Scrivi un messaggio","autocomplete","off",3,"ngModelChange","ngModel"],["mat-icon-button","","color","primary","type","submit","aria-label","Invia messaggio",3,"disabled"],["mat-fab","","class","scroll-fab","aria-label","Vai all\u2019ultimo messaggio",3,"click",4,"ngIf"],[3,"ngClass"],[1,"message-card",3,"ngClass"],["class","chips",4,"ngIf"],[1,"chips"],["aria-label","Azioni rapide","role","listbox"],["clickable","","role","option","tabindex","0","matTooltip","Seleziona",3,"click","keydown.enter",4,"ngFor","ngForOf"],["clickable","","role","option","tabindex","0","matTooltip","Seleziona",3,"click","keydown.enter"],["role","status","aria-live","polite",1,"typing"],["mat-fab","","aria-label","Vai all\u2019ultimo messaggio",1,"scroll-fab",3,"click"]],template:function(e,i){if(e&1){let o=E();a(0,"div",2)(1,"div",3)(2,"mat-icon",4),s(3,"smart_toy"),r(),a(4,"span",5),s(5,"Assistente Rebis"),r()(),f(6,"mat-divider"),a(7,"div",6,0),h("scroll",function(){return x(o),b(i.onScroll())}),d(9,zr,5,4,"ng-container",7)(10,Lr,2,0,"mat-card",8),f(11,"div",null,1),r(),f(13,"mat-divider"),a(14,"form",9),h("submit",function(p){return x(o),i.sendMessage(),b(p.preventDefault())}),a(15,"mat-form-field",10)(16,"input",11),We("ngModelChange",function(p){return x(o),Ve(i.inputText,p)||(i.inputText=p),b(p)}),r()(),a(17,"button",12)(18,"mat-icon"),s(19,"send"),r()()(),d(20,Rr,3,0,"button",13),r()}e&2&&(c(9),m("ngForOf",i.messages)("ngForTrackBy",i.trackByIndex),c(),m("ngIf",i.typing),c(6),Re("ngModel",i.inputText),c(),m("disabled",!i.inputText.trim()),c(3),m("ngIf",!i.isUserAtBottom))},dependencies:[M,sn,le,R,Ge,Me,be,Ce,ve,An,Fn,P,F,Je,Xe,me,ke,we,A,et,tt,Ke],styles:[".chat-wrapper[_ngcontent-%COMP%]{position:relative;min-width:100%;max-width:640px;background:#ffffffbd;color:#eaeaea;border-radius:16px;overflow:hidden}.chat-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 8px;color:#000}.chat-header[_ngcontent-%COMP%]   .chat-title[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.2px}.chat-messages[_ngcontent-%COMP%]{height:60vh;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:10px;background-color:#000}.chat-messages[_ngcontent-%COMP%]   .message-card[_ngcontent-%COMP%]{max-width:80%;white-space:pre-wrap;line-height:1.35;padding:10px 12px}.chat-messages[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .message-card[_ngcontent-%COMP%]{margin-left:auto;background:#1f2937;color:#e5e7eb}.chat-messages[_ngcontent-%COMP%]   .bot[_ngcontent-%COMP%]   .message-card[_ngcontent-%COMP%]{margin-right:auto;background:#0b3b2e;color:#e6fff6}.chat-messages[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap;margin:4px 0 0}.chat-messages[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer;background:#1f2937;color:#e5e7eb}.chat-messages[_ngcontent-%COMP%]   .typing[_ngcontent-%COMP%]{width:fit-content;background:#0b3b2e;color:#e6fff6;padding:3px 5px;border-radius:10px;margin:2px 0 0}.chat-input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:4px 6px}.chat-input[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{flex:1}.scroll-fab[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:86px}"]})};function Vr(n,t){n&1&&(a(0,"div",3),f(1,"app-chat-bot"),r())}var St=class n{isOpen=!1;toggleChat(){this.isOpen=!this.isOpen}closeChat(){this.isOpen=!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-chat-bot-popup"]],standalone:!0,features:[v],decls:5,vars:2,consts:[[1,"chat-popup"],["mat-fab","","color","primary",1,"chat-toggle",3,"click"],["class","chat-box",4,"ngIf"],[1,"chat-box"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"button",1),h("click",function(){return i.toggleChat()}),a(2,"mat-icon"),s(3),r()(),d(4,Vr,2,0,"div",2),r()),e&2&&(c(3),g(i.isOpen?"close":"chat"),c(),m("ngIf",i.isOpen))},dependencies:[M,R,yt,P,F,Xe],styles:[".chat-popup[_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px;z-index:1000}.chat-popup[_ngcontent-%COMP%]   .chat-toggle[_ngcontent-%COMP%]{position:relative;z-index:1001}.chat-popup[_ngcontent-%COMP%]   .chat-box[_ngcontent-%COMP%]{position:absolute;bottom:70px;right:0;width:90vw;min-height:60vh;max-width:400px;background:#fff;box-shadow:0 4px 12px #00000040;border-radius:12px;overflow:hidden;display:flex;flex-direction:column}"]})};var Pt=class n{publicMenu=[{label:"Home",route:"/home"},{label:"Servizi",route:"/servizi"},{label:"Progetti",route:"/progetti"},{label:"Fast Booking",route:"/fast-booking"},{label:"Chi Siamo",route:"/chi-siamo"},{label:"Contatti",route:"/contatti"}];dashboardMenu={label:"Dashboard",route:"/dashboard",roles:["client","staff","admin"],children:[{label:"Profilo",route:"/dashboard"},{label:"Storico Booking",route:"/dashboard/booking-history"},{label:"Buoni",route:"/dashboard/buoni"},{label:"Recensioni",route:"/dashboard/reviews"},{label:"Chat",route:"/dashboard/chat"}]};adminMenu={label:"Admin",route:"/admin",roles:["staff","admin"],children:[{label:"Dashboard",route:"/admin"},{label:"Calendario",route:"/admin/calendar"},{label:"Clienti",route:"/admin/clients"},{label:"Billing",route:"/admin/billing"},{label:"Documenti",route:"/admin/documents"},{label:"Waitlist",route:"/admin/waitlist"},{label:"Messaggi",route:"/admin/messaging"},{label:"Portfolio",route:"/admin/portfolio"},{label:"Servizi",route:"/admin/servizi"},{label:"Staff",route:"/admin/staff"},{label:"Bonus",route:"/admin/bonus"},{label:"Analytics",route:"/admin/analytics"},{label:"Audit Logs",route:"/admin/audit-logs"},{label:"Impostazioni",route:"/admin/settings"},{label:"Recensioni",route:"/admin/review-list"}]};menuByRole={public:[...this.publicMenu],client:[...this.publicMenu,this.dashboardMenu],staff:[...this.publicMenu,this.dashboardMenu,this.adminMenu],admin:[...this.publicMenu,this.dashboardMenu,this.adminMenu]};getMenuByRole(t){return de(this.cloneMenu(this.menuByRole[t]??this.menuByRole.public))}cloneMenu(t){return t.map(e=>re(oe({},e),{roles:e.roles?[...e.roles]:void 0,children:e.children?this.cloneMenu(e.children):void 0}))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var jr=["sidenav"];function Yr(n,t){if(n&1&&(a(0,"a",29),s(1),r()),n&2){let e=t.$implicit;m("routerLink",e.route),c(),S(" ",e.label," ")}}function $r(n,t){if(n&1&&(z(0),a(1,"div",25)(2,"button",26),s(3),a(4,"mat-icon"),s(5,"expand_more"),r()(),a(6,"div",27),d(7,Yr,2,2,"a",28),r()(),L()),n&2){let e=u().$implicit;c(3),S(" ",e.label," "),c(4),m("ngForOf",e.children)}}function Ur(n,t){if(n&1&&(a(0,"a",30),s(1),r()),n&2){let e=u().$implicit;m("routerLink",e.route),c(),g(e.label)}}function Hr(n,t){if(n&1&&(z(0),d(1,$r,8,2,"ng-container",22)(2,Ur,2,2,"ng-template",null,4,X),L()),n&2){let e=t.$implicit,i=H(3);c(),m("ngIf",e.children==null?null:e.children.length)("ngIfElse",i)}}function qr(n,t){if(n&1&&(z(0),a(1,"nav",23),d(2,Hr,4,2,"ng-container",24),r(),L()),n&2){let e=t.ngIf;c(2),m("ngForOf",e)}}function Gr(n,t){if(n&1&&(a(0,"span",31),s(1),r()),n&2){let e=t.ngIf;K("hidden",e===0),c(),S(" ",e," ")}}function Qr(n,t){if(n&1){let e=E();a(0,"button",33),h("click",function(){x(e);let o=u(2);return b(o.markAllNotificationsAsRead())}),a(1,"mat-icon"),s(2,"done_all"),r(),a(3,"span"),s(4,"Segna tutte come lette"),r()()}}function Xr(n,t){if(n&1){let e=E();a(0,"button",33),h("click",function(){let o=x(e).$implicit,l=u(3);return b(l.openNotification(o))}),a(1,"mat-icon"),s(2),r(),a(3,"div",35)(4,"p",36),s(5),r(),a(6,"small",37),s(7),r(),a(8,"small",37),s(9),se(10,"date"),r()()()}if(n&2){let e=t.$implicit;c(2),S(" ",e.type==="chat"?"chat":e.type==="booking"?"event":e.type==="payment"?"payments":"notifications"," "),c(3),g(e.title||e.message),c(2),g(e.message),c(2),g(en(10,4,e.createdAt,"short"))}}function Jr(n,t){if(n&1&&(z(0),d(1,Xr,11,7,"button",34),L()),n&2){let e=u().ngIf;c(),m("ngForOf",e)}}function Zr(n,t){if(n&1&&(z(0),d(1,Qr,5,0,"button",32)(2,Jr,2,1,"ng-container",22),L()),n&2){let e=t.ngIf;u();let i=H(22);c(),m("ngIf",e.length>0),c(),m("ngIf",e.length>0)("ngIfElse",i)}}function Kr(n,t){n&1&&(a(0,"button",38)(1,"mat-icon"),s(2,"notifications_off"),r(),a(3,"span"),s(4,"Nessuna notifica"),r()())}function ea(n,t){if(n&1){let e=E();z(0),a(1,"a",39),h("click",function(){x(e);let o=u(4);return b(o.closeMenu())}),s(2),r(),L()}if(n&2){let e=t.$implicit;c(),m("routerLink",e.route),c(),S(" ",e.label," ")}}function ta(n,t){if(n&1&&(z(0),a(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),s(4),r()(),d(5,ea,3,2,"ng-container",24),r(),L()),n&2){let e=u().$implicit;c(4),g(e.label),c(),m("ngForOf",e.children)}}function na(n,t){if(n&1){let e=E();a(0,"a",39),h("click",function(){x(e);let o=u(3);return b(o.closeMenu())}),s(1),r()}if(n&2){let e=u().$implicit;m("routerLink",e.route),c(),S(" ",e.label," ")}}function ia(n,t){if(n&1&&(z(0),d(1,ta,6,2,"ng-container",22)(2,na,2,2,"ng-template",null,5,X),L()),n&2){let e=t.$implicit,i=H(3);c(),m("ngIf",e.children==null?null:e.children.length)("ngIfElse",i)}}function oa(n,t){if(n&1&&(z(0),d(1,ia,4,2,"ng-container",24),L()),n&2){let e=t.ngIf;c(),m("ngForOf",e)}}function ra(n,t){if(n&1){let e=E();z(0),a(1,"button",40),h("click",function(){x(e);let o=u();return b(o.logout())}),a(2,"mat-icon"),s(3,"logout"),r(),s(4," Logout "),r(),L()}}function aa(n,t){n&1&&(a(0,"button",41)(1,"mat-icon"),s(2,"login"),r(),s(3," Login "),r())}var Ot=class n{constructor(t,e,i,o){this.menuService=t;this.auth=e;this.notificationService=i;this.router=o}sidenav;modeSidenav="over";isMenuOpen=!1;userRole="public";navItem$;isLoggedIn=!1;notifications$=de([]);unreadCount$=de(0);userEffect=on(()=>{let t=this.auth.userSig();if(this.isLoggedIn=!!t,t){this.loadMenu(this.toMenuRole(t.role)),this.bindNotifications(t.uid);return}this.loadMenu("public"),this.notifications$=de([]),this.unreadCount$=de(0)});ngOnInit(){this.loadMenu("public")}loadMenu(t){this.userRole=t,this.navItem$=this.menuService.getMenuByRole(t)}toMenuRole(t){return t==="admin"||t==="client"||t==="staff"||t==="public"?t:"public"}bindNotifications(t){this.notifications$=this.notificationService.getUserNotifications(t),this.unreadCount$=this.notificationService.getUnreadCount(t)}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.auth.logout()}openNotification(t){return j(this,null,function*(){let e=this.auth.userSig();if(!e)return;t.readAt||(yield this.notificationService.markAsRead(e.uid,t.id));let i=this.toMenuRole(e.role),o=this.notificationService.resolveNotificationLink(t,i);yield this.router.navigateByUrl(o)})}markAllNotificationsAsRead(){return j(this,null,function*(){let t=this.auth.userSig();t&&(yield this.notificationService.markAllAsRead(t.uid))})}static \u0275fac=function(e){return new(e||n)(D(Pt),D(Q),D(ii),D(J))};static \u0275cmp=C({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&Ae(jr,5),e&2){let o;Ne(o=Be())&&(i.sidenav=o.first)}},standalone:!0,features:[v],decls:39,vars:17,consts:[["notifMenu","matMenu"],["noNotif",""],["sidenav",""],["loginBtnMobile",""],["noChildren",""],["singleLink",""],[2,"background-color","black"],[1,"main-toolbar","elevation-z4"],[1,"toolbar-container"],["mat-icon-button","",1,"burger-button",3,"click"],["routerLink","/home",1,"logo-link"],["src","/loghi/logo-white.jpg","alt","REBIS TATTOO",1,"logo-img"],[4,"ngIf"],[1,"toolbar-actions"],["matTooltip","Notifiche recenti",1,"notifications-wrapper",3,"matMenuTriggerFor"],["mat-icon-button",""],["class","badge",3,"hidden",4,"ngIf"],[1,"notif-menu"],["mat-icon-button","","color","warn","matTooltip","Logout",3,"click"],[1,"sidenav-container"],[1,"mobile-sidenav",3,"openedChange","closed","mode","opened"],[1,"auth-section"],[4,"ngIf","ngIfElse"],[1,"desktop-nav"],[4,"ngFor","ngForOf"],[1,"dropdown"],["mat-button","",1,"dropdown-toggle"],[1,"dropdown-menu"],["mat-menu-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-menu-item","",3,"routerLink"],["mat-button","",3,"routerLink"],[1,"badge"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"notif-text"],[1,"primary"],[1,"secondary"],["mat-menu-item","","disabled",""],["mat-list-item","",2,"color","whitesmoke !important",3,"click","routerLink"],["mat-stroked-button","","color","warn",1,"logout-btn",3,"click"],["mat-stroked-button","","color","primary","routerLink","/login",1,"login-btn"]],template:function(e,i){if(e&1){let o=E();a(0,"main",6)(1,"mat-toolbar",7)(2,"div",8)(3,"button",9),h("click",function(){return x(o),b(i.toggleMenu())}),a(4,"mat-icon"),s(5,"menu"),r()(),a(6,"a",10),f(7,"img",11),r(),d(8,qr,3,1,"ng-container",12),se(9,"async"),a(10,"div",13)(11,"div",14)(12,"button",15)(13,"mat-icon"),s(14,"notifications"),r()(),d(15,Gr,2,3,"span",16),se(16,"async"),r(),a(17,"mat-menu",17,0),d(19,Zr,3,3,"ng-container",12),se(20,"async"),d(21,Kr,5,0,"ng-template",null,1,X),r(),a(23,"button",18),h("click",function(){return x(o),b(i.logout())}),a(24,"mat-icon"),s(25,"logout"),r()()()()(),a(26,"mat-sidenav-container",19)(27,"mat-sidenav",20,2),We("openedChange",function(p){return x(o),Ve(i.isMenuOpen,p)||(i.isMenuOpen=p),b(p)}),h("closed",function(){return x(o),b(i.closeMenu())}),a(29,"mat-nav-list"),d(30,oa,2,1,"ng-container",12),se(31,"async"),a(32,"div",21),d(33,ra,5,0,"ng-container",22)(34,aa,4,0,"ng-template",null,3,X),r()()(),a(36,"mat-sidenav-content"),f(37,"app-chat-bot-popup")(38,"router-outlet"),r()()()}if(e&2){let o=H(18),l=H(35);c(8),m("ngIf",ue(9,9,i.navItem$)),c(3),m("matMenuTriggerFor",o),c(4),m("ngIf",ue(16,11,i.unreadCount$)),c(4),m("ngIf",ue(20,13,i.notifications$)),c(8),m("mode",i.modeSidenav),Re("opened",i.isMenuOpen),c(3),m("ngIf",ue(31,15,i.navItem$)),c(3),m("ngIf",i.isLoggedIn)("ngIfElse",l)}},dependencies:[M,le,R,je,cn,_n,gn,Ye,P,Nn,F,Bn,G,Je,Ln,Rn,zn,Wn,Vn,Hn,Un,qn,Qn,Xn,Jn,Ke,St],styles:[".notifications-wrapper[_ngcontent-%COMP%]{position:relative}.notifications-wrapper[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:red;color:#fff;border-radius:50%;font-size:10px;width:16px;height:16px;display:flex;align-items:center;justify-content:center}.notifications-wrapper[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{align-items:flex-start;white-space:normal}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:8px}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-weight:500}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{font-size:11px;color:gray}.main-toolbar[_ngcontent-%COMP%]{background-color:#121212!important;color:#f0f0f0;box-shadow:0 2px 10px #0009}.main-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;height:8vh;padding:0 1.5rem}.main-toolbar[_ngcontent-%COMP%]   .logo-link[_ngcontent-%COMP%]{display:flex;align-items:center}.main-toolbar[_ngcontent-%COMP%]   .logo-link[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:38px}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{color:#f0f0f0;font-weight:500;transition:color .2s ease}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:hover{color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:120%;left:0;display:flex;flex-direction:column;background-color:#1e1e1e;border:1px solid #333;padding:.4rem 0;min-width:180px;max-height:60vh;overflow-y:scroll;border-radius:6px;opacity:0;pointer-events:none;transform:translateY(10px);transition:all .25s ease}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f0f0f0;padding:.5rem 1.2rem;font-size:.92rem;white-space:nowrap;transition:background .2s}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#2c2c2c;color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{opacity:1;pointer-events:auto;transform:translateY(0)}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500;transition:all .2s ease}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{border-color:#c4a62d;color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background-color:#c4a62d1a}@media (max-width: 1024px){.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%], .main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{display:none}.main-toolbar[_ngcontent-%COMP%]   .burger-button[_ngcontent-%COMP%]{display:inline-flex;color:#fff}}.sidenav-container[_ngcontent-%COMP%]{height:92vh;overflow-y:hidden}.mobile-sidenav[_ngcontent-%COMP%]{background-color:#a3a3a3;color:#f1f1f1;width:270px;padding-top:1rem;border-radius:0 0 50% 0%}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding:0}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.8rem 1.2rem;font-weight:500;font-size:.95rem;color:#f0f0f0!important;transition:background .2s ease}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff0f;color:#c4a62d!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;color:#f0f0f0}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:0 1rem;font-weight:600;font-size:.95rem;color:#fff!important;background-color:transparent!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 2rem;font-size:.9rem;color:#d4d4d4!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#c4a62d!important}.mobile-sidenav[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%], .mobile-sidenav[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{width:calc(100% - 2rem);margin:1rem auto 0;border-color:#000;color:#000;font-weight:600}.mobile-sidenav[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover, .mobile-sidenav[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover{background-color:#f7d0381a}main[_ngcontent-%COMP%]{background-color:#000;min-height:100vh}"]})};function sa(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===1&&i===0?1:o===0&&e!==0&&e%1e6===0&&i===0||!(o>=0&&o<=5)?4:5}var Vi=["it",[["m.","p."],["AM","PM"],void 0],void 0,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],void 0,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],void 0,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",void 0,"{1} {0}",void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{BRL:[void 0,"R$"],BYN:[void 0,"Br"],EGP:[void 0,"\xA3E"],HKD:[void 0,"$"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NOK:[void 0,"NKr"],THB:["\u0E3F"],TWD:[void 0,"NT$"],USD:[void 0,"$"],VND:[void 0,"\u20AB"]},"ltr",sa];an(Vi);dn(Ot,pi).catch(n=>console.error(n));
