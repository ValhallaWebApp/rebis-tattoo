import{a as q}from"./chunk-C6JMEULQ.js";import{a as Ve}from"./chunk-HFNJZN5I.js";import{a as Ye}from"./chunk-2UXAJNC3.js";import{a as De,b as ze,c as Re,d as Ne,f as je,i as Be,j as k,k as Ue,l as $e,o as vt,p as Ge,s as qe,u as z,v as He,w as xt,y as We,z as Qe}from"./chunk-GHRCGBKI.js";import{$a as Fe,Ca as ke,Da as Ie,Ea as Ee,M as me,N as pe,O as et,P as $,Q as G,R as de,Ta as Ae,Y as ge,Z as ue,Za as Te,_ as fe,a as Jt,b as Kt,ba as _e,bb as Le,c as Xt,d as L,da as he,e as V,f as te,g as ee,h as ne,ha as Ce,i as ie,ia as Me,j as y,ja as be,k as oe,kb as v,l as ae,la as ve,ma as xe,na as Pe,p as re,pa as Oe,s as ce,sa as ye,ta as we,ua as nt,v as le,wa as Se,x as tt,y as se,z as U}from"./chunk-KFLFF4GH.js";import{Ac as Q,Bb as f,C as Mt,Ca as x,Da as P,Gb as s,Hb as Dt,Jc as Gt,Ma as kt,Pb as a,Qb as o,Rb as O,Sb as w,Ta as It,Tb as S,Ua as Et,Vb as F,Yb as _,Yc as qt,_b as h,a as ht,b as Ct,cc as zt,dc as Rt,dd as Ht,e as W,ec as Nt,ed as j,fb as K,fd as B,h as Ot,ha as yt,hc as R,ja as T,jb as l,jc as c,kb as g,kc as p,kd as Wt,lb as At,lc as m,ma as wt,mc as X,md as Yt,nb as Tt,nd as Qt,oa as E,oc as jt,pa as bt,pb as Ft,pc as Bt,pd as b,qc as Vt,sb as Lt,sc as M,sd as Zt,ta as C,vc as Ut,w as D,wa as St,wc as N,x as J,xc as Y,yc as $t}from"./chunk-GNSFZVKV.js";function rn(i,e){if(i&1&&(a(0,"p",9),c(1),o()),i&2){let t=h();l(),p(t.errorMessage)}}var it=class i{constructor(e,t,n){this.authService=e;this.fb=t;this.router=n;this.loginForm=this.fb.group({email:["",[y.required,y.email]],password:["",y.required]})}loginForm;isLoginMode=!0;errorMessage="";isLoading=!1;toggleMode(){this.isLoginMode=!this.isLoginMode,this.errorMessage=""}onSubmit(){if(this.loginForm.invalid)return;let{email:e,password:t}=this.loginForm.value;this.isLoading=!0;let n=localStorage.getItem("pre-log")||"/home";this.isLoginMode?this.authService.login(e,t).then(()=>{console.log("Login effettuato"),console.log(localStorage.getItem("pre-log")),this.errorMessage="",this.router.navigateByUrl(n),localStorage.removeItem("pre-log")}).catch(r=>{console.error(r),this.errorMessage=this.getErrorMessage(r.code)}).finally(()=>{this.isLoading=!1}):this.authService.register(e,t).then(()=>{console.log("Registrazione completata"),this.errorMessage="",this.router.navigateByUrl(n),console.log(n),localStorage.removeItem("pre-log")}).catch(r=>{console.error(r),this.errorMessage=this.getErrorMessage(r.code)}).finally(()=>{this.isLoading=!1})}getErrorMessage(e){switch(e){case"auth/user-not-found":return"Utente non trovato.";case"auth/wrong-password":return"Password errata.";case"auth/email-already-in-use":return"Email gi\xE0 registrata.";case"auth/invalid-email":return"Email non valida.";case"auth/weak-password":return"Password troppo debole.";default:return"Errore sconosciuto. Riprova."}}static \u0275fac=function(t){return new(t||i)(g(k),g(tt),g(L))};static \u0275cmp=C({type:i,selectors:[["app-login"]],standalone:!0,features:[M],decls:18,vars:5,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit","formGroup"],["appearance","fill",1,"full-width"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","password","type","password"],["mat-raised-button","","color","primary","type","submit",1,"full-width"],["class","error",4,"ngIf"],["mat-button","","color","accent",3,"click"],[1,"error"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"mat-card",1)(2,"h2"),c(3),o(),a(4,"form",2),_("ngSubmit",function(){return n.onSubmit()}),a(5,"mat-form-field",3)(6,"mat-label"),c(7,"Email"),o(),O(8,"input",4),o(),a(9,"mat-form-field",3)(10,"mat-label"),c(11,"Password"),o(),O(12,"input",5),o(),a(13,"button",6),c(14),o()(),f(15,rn,2,1,"p",7),a(16,"button",8),_("click",function(){return n.toggleMode()}),c(17),o()()()),t&2&&(l(3),p(n.isLoginMode?"Login":"Registrazione"),l(),s("formGroup",n.loginForm),l(10),m(" ",n.isLoginMode?"Accedi":"Registrati"," "),l(),s("ngIf",n.errorMessage),l(2),m(" ",n.isLoginMode?"Non hai un account? Registrati":"Hai gi\xE0 un account? Accedi"," "))},dependencies:[v,$,we,ye,Oe,nt,b,B,me,U,re,ie,oe,ae,ce,le],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2rem}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.error[_ngcontent-%COMP%]{color:red;margin-top:1rem}"]})};var cn=(i,e)=>({nbt:i,nbb:e});function ln(i,e){if(i&1&&(a(0,"div",5),O(1,"img",6),a(2,"h3"),c(3),o(),a(4,"p"),c(5),o()()),i&2){let t=e.$implicit,n=e.index;s("ngClass",Ut(5,cn,n<3,n>=3)),l(),s("src",t.icon,K)("alt",t.title+" icon"),l(2),p(t.title),l(2),p(t.desc)}}var ct=class i{constructor(e){this.lang=e}services=[{icon:"/home/icon-01-80x80.png",title:"Tatuaggi",desc:"Combiniamo tecniche moderne e tradizionali per un risultato di alta qualit\xE0."},{icon:"/home/icon-07-80x80.png",title:"Tatuaggi Fine Line",desc:"Tatuaggi realizzati con linee sottili e dettagli delicati, ideali per chi cerca un design elegante e meno invasivo."},{icon:"/home/icon-03-80x80.png",title:"Copertura tatuaggi",desc:"Hai vecchi tatuaggi che non ti piacciono pi\xF9? Li copriremo con soluzioni artistiche."},{icon:"/home/icon-04-80x80.png",title:"Design personalizzato",desc:"Niente \xE8 pi\xF9 stimolante che creare un design pensato solo per la tua pelle."},{icon:"/home/icon-05-80x80.png",title:"Trucco permanente",desc:"Una tecnica cosmetica che utilizza tatuaggi per realizzare make-up a lunga durata sul viso."},{icon:"/home/icon-custom-02.png",title:"Tatuaggi su misura",desc:"Ogni pelle \xE8 unica. Creiamo disegni esclusivi che rispecchiano la tua storia e il tuo stile."}];accordionServices=[{title:"Tatuaggio Permanente",price:"49\u20AC",content:"Il tipo di tatuaggio pi\xF9 comune, con pigmenti organici per un risultato duraturo.",images:[{src:"/ink/man-1.webp",alt:"Tatuaggio permanente 1"},{src:"/ink/woman-2.webp",alt:"Tatuaggio permanente 2"},{src:"/ink/woman-3.webp",alt:"Tatuaggio permanente 3"}],link:"/services/permanent"},{title:"Tatuaggio Temporaneo",content:"Tatuaggi non permanenti per eventi o esperienze temporanee."},{title:"Sketch e Progettazione",content:"Disegni preparatori personalizzati per ogni cliente."},{title:"Copertura e Correzione",content:"Soluzioni artistiche per coprire o correggere vecchi tatuaggi."},{title:"Rimozione Tatuaggi",content:"Trattamenti per la rimozione parziale o completa."}];static \u0275fac=function(t){return new(t||i)(g(q))};static \u0275cmp=C({type:i,selectors:[["app-service-list"]],standalone:!0,features:[M],decls:7,vars:3,consts:[[1,"services-container"],[1,"services-title"],[1,"services-subtitle"],[1,"services-grid"],["class","service-card",3,"ngClass",4,"ngFor","ngForOf"],[1,"service-card",3,"ngClass"],[3,"src","alt"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"h2",1),c(2),o(),a(3,"p",2),c(4),o(),a(5,"div",3),f(6,ln,6,8,"div",4),o()()),t&2&&(l(2),m(" ",n.lang.t("home.services.title")," "),l(2),m(" ",n.lang.t("home.services.subtitle")," "),l(2),s("ngForOf",n.services))},dependencies:[b,Ht,j,v],styles:[".services-container[_ngcontent-%COMP%]{padding:8vh 0;color:#0a0a0a;text-align:center}.services-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#000;margin-top:2rem;font-family:Barlow Semi Condensed,sans-serif}.services-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin:0 auto 2rem;max-width:900px;color:#444;font-family:Barlow Semi Condensed,sans-serif}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:0}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media (min-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.service-card[_ngcontent-%COMP%]{padding:2.5rem 1.5rem;border:1px solid #e0e0e0;transition:box-shadow .3s ease;background:#fff;min-width:300px;font-family:Barlow Semi Condensed,sans-serif}.service-card.nbt[_ngcontent-%COMP%]{border-top:none}.service-card.nbb[_ngcontent-%COMP%]{border-bottom:none}.service-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #0000001a}.service-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:80px;margin-bottom:1rem}.service-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;color:#0a0a0a}.service-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#555}"]})};function mn(i,e){i&1&&(a(0,"h1",3),c(1,"Perch\xE9 \xE8 richiesto un acconto?"),o())}function pn(i,e){i&1&&(a(0,"div",4)(1,"p"),c(2,"Per garantire la tua prenotazione, chiediamo un acconto simbolico di 50\u202F\u20AC."),o(),a(3,"p"),c(4,"Questo ci consente di riservare l\u2019orario scelto esclusivamente per te."),o()())}function dn(i,e){if(i&1){let t=F();a(0,"div",5)(1,"button",6),_("click",function(){x(t);let r=h();return P(r.cancel())}),c(2,"Annulla"),o(),a(3,"button",7),_("click",function(){x(t);let r=h();return P(r.next())}),c(4,"Continua"),o()()}}function gn(i,e){i&1&&(a(0,"h1",3),c(1,"Conferma Acconto \u2013 50\u202F\u20AC"),o())}function un(i,e){if(i&1&&(a(0,"div",4)(1,"p")(2,"strong"),c(3,"Data:"),o(),c(4),o(),a(5,"p")(6,"strong"),c(7,"Artista:"),o(),c(8),o(),a(9,"p")(10,"strong"),c(11,"Email:"),o(),c(12),o(),a(13,"p"),c(14,"Premendo conferma, simulerai il versamento dell\u2019acconto."),o()()),i&2){let t=h();l(4),X(" ",t.data.date," \u2013 ",t.data.time,""),l(4),m(" ",t.data.artist,""),l(4),m(" ",t.data.email,"")}}function fn(i,e){if(i&1){let t=F();a(0,"div",5)(1,"button",6),_("click",function(){x(t);let r=h();return P(r.back())}),c(2,"Indietro"),o(),a(3,"button",7),_("click",function(){x(t);let r=h();return P(r.confirm())}),c(4,"Conferma e Paga"),o()()}}var lt=class i{constructor(e,t){this.dialogRef=e;this.data=t}step=1;next(){this.step=2}back(){this.step=1}confirm(){this.dialogRef.close("confirmed")}cancel(){this.dialogRef.close(null)}static \u0275fac=function(t){return new(t||i)(g(Ce),g(Me))};static \u0275cmp=C({type:i,selectors:[["app-payment-confirmation-dialog"]],standalone:!0,features:[M],decls:6,vars:6,consts:[["mat-dialog-title","",4,"ngIf"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","",4,"ngIf"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,n){t&1&&f(0,mn,2,0,"h1",0)(1,pn,5,0,"div",1)(2,dn,5,0,"div",2)(3,gn,2,0,"h1",0)(4,un,15,4,"div",1)(5,fn,5,0,"div",2),t&2&&(s("ngIf",n.step===1),l(),s("ngIf",n.step===1),l(),s("ngIf",n.step===1),l(),s("ngIf",n.step===2),l(),s("ngIf",n.step===2),l(),s("ngIf",n.step===2))},dependencies:[b,B,v,$,ve,Pe,xe,U],styles:["mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;font-size:.95rem;line-height:1.4}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px}"]})};var st=class i{constructor(e,t,n,r,d,u){this.bookingService=e;this.staffService=t;this.authService=n;this.snackbar=r;this.dialog=d;this.router=u}events=[];artistMap={};artistPhotoMap={};user;view="week";title="";loading=!0;ngOnInit(){return W(this,null,function*(){this.loading=!0,console.log("\u{1F504} Inizio caricamento");try{let e=yield this.authService.waitForUser();if(!e)throw new Error("Utente non disponibile");this.user=e,console.log("\u2705 Utente caricato:",e)}catch(e){console.log("\u274C Errore auth:",e.message),this.snackbar.open("Errore durante il login","Chiudi",{duration:4e3}),this.loading=!1;return}this.staffService.getAllStaff().subscribe({next:e=>{let t=e.filter(n=>n.isActive&&n.role==="tatuatore");this.artistMap=t.reduce((n,r)=>Ct(ht({},n),{[r.id]:r.name}),{}),this.artistPhotoMap=t.reduce((n,r)=>Ct(ht({},n),{[r.id]:r.photoUrl}),{})},error:e=>{this.snackbar.open("Impossibile caricare gli artisti","Chiudi",{duration:3e3})}}),this.bookingService.getAllBookings().subscribe({next:e=>{if(!e||e.length===0){this.snackbar.open("Nessuna prenotazione trovata.","Chiudi",{duration:3e3});return}this.events=e.map(t=>{let n=new Date(t.start),r=t.duration??30,d=new Date(n.getTime()+r*6e4),u=t.start.split("T")[0];return{id:t.id,date:u,start:t.start,end:d.toISOString(),artistId:t.idArtist??"Operatore",artistName:this.artistMap[t.idArtist]||"",isMine:t.idClient===this.user.uid,description:t.description??"",type:"booking",duration:r,slotCount:Math.ceil(r/30),count:1}})},error:e=>{this.snackbar.open("Errore nel caricamento delle prenotazioni","Chiudi",{duration:4e3})},complete:()=>{this.loading=!1}})})}onBookingSubmitted(e){return W(this,null,function*(){try{let t=new Date(e.start),n=t.toLocaleDateString("it-IT"),r=t.toTimeString().slice(0,5);if((yield this.dialog.open(lt,{width:"420px",data:{date:n,time:r,artist:this.artistMap[e.idArtist]??"",email:this.user?.email}}).afterClosed().toPromise())!=="confirmed"){this.snackbar.open("Prenotazione annullata.","Chiudi",{duration:2e3});return}let u=yield this.bookingService.addDraft(e),A=new Date(e.start),_t=e.duration??30,tn=new Date(A.getTime()+_t*6e4),en=e.start.split("T")[0],nn={id:u,date:en,start:e.start,end:tn.toISOString(),artistId:e.idArtist,artistName:this.artistMap[e.idArtist]??"",description:e.description,isMine:e.idClient===this.user?.uid,type:"booking",duration:_t,slotCount:Math.ceil(_t/30),count:1};this.events.push(nn),this.snackbar.open("Prenotazione salvata con successo!","OK",{duration:3e3}),this.router.navigateByUrl("/dashboard/booking-history")}catch(t){console.error("\u274C Errore salvataggio:",t),this.snackbar.open("Errore durante il salvataggio della prenotazione.","Chiudi",{duration:4e3})}})}static \u0275fac=function(t){return new(t||i)(g(Ye),g(Qe),g(k),g(Ae),g(be),g(L))};static \u0275cmp=C({type:i,selectors:[["app-booking-list"]],standalone:!0,features:[M],decls:1,vars:4,consts:[[3,"bookingSubmitted","events","artistMap","artistPhotoMap","user"]],template:function(t,n){t&1&&(a(0,"app-calendar",0),_("bookingSubmitted",function(d){return n.onBookingSubmitted(d)}),o()),t&2&&s("events",n.events)("artistMap",n.artistMap)("artistPhotoMap",n.artistPhotoMap)("user",n.user)},dependencies:[b,v,Ve],styles:['@charset "UTF-8";.calendar-container[_ngcontent-%COMP%]{max-height:70vh;min-height:50vh;overflow-y:scroll}.calendar-view[_ngcontent-%COMP%]{padding:1rem}.calendar-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;flex-wrap:wrap;padding:1rem;max-height:min-content;min-height:min-content}.view-select[_ngcontent-%COMP%]{width:140px;margin-left:8px}.view-select[_ngcontent-%COMP%]     .mat-form-field-infix{padding:0 8px}.view-select[_ngcontent-%COMP%]     .mat-select-trigger{min-height:36px;font-size:.9rem}.artist-filter[_ngcontent-%COMP%]{max-width:300px;text-align:center;margin-left:1rem}.drawer-panel[_ngcontent-%COMP%]{width:400px;max-width:100%;overflow:hidden;position:fixed;top:10vh}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.drawer-content[_ngcontent-%COMP%]{padding:16px;overflow-y:auto;flex:1 1 auto;display:flex;flex-direction:column;gap:16px}.drawer-actions-toolbar[_ngcontent-%COMP%]{justify-content:flex-end;padding:8px 16px;border-top:1px solid #ccc;flex-shrink:0}.selected-date-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:700}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{white-space:normal!important;word-break:break-word}.month-grid[_ngcontent-%COMP%], .week-grid[_ngcontent-%COMP%], .day-column[_ngcontent-%COMP%]{display:grid;gap:8px}.month-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(7,1fr);grid-auto-rows:120px;gap:4px}.week-grid[_ngcontent-%COMP%]   .week-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px repeat(7,1fr);align-items:center;font-weight:700}.hour-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px repeat(7,1fr);align-items:flex-start}.hour-cell[_ngcontent-%COMP%], .day-cell[_ngcontent-%COMP%], .day-slot[_ngcontent-%COMP%]{padding:4px}.hour-content[_ngcontent-%COMP%]{border:1px solid #ddd;height:60px;overflow-y:auto;cursor:pointer;border-radius:6px;transition:background-color .2s ease-in-out;display:flex;flex-wrap:wrap;gap:4px;align-items:center;padding:4px}.free-slot[_ngcontent-%COMP%]{background-color:#00c80014}.partial-slot[_ngcontent-%COMP%]{background-color:#ffc10714}.full-slot[_ngcontent-%COMP%]{background-color:#f4433614}.event[_ngcontent-%COMP%]{background-color:#eee;margin:2px 0;padding:2px 4px;border-radius:4px;font-size:.85rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.artist-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 10px;background-color:#fff3f3;border-radius:30px;font-size:14px;font-weight:500;color:#c62828;transition:background .2s ease;cursor:pointer}.artist-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;object-fit:cover;border:1px solid #ccc}.artist-avatar[_ngcontent-%COMP%]:hover{background-color:#ffeaea}.artist-avatar.my-booking[_ngcontent-%COMP%]{border:2px solid #43a047;background-color:#4caf501f;color:#2e7d32;font-weight:700}.user-badge[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#2e7d32}.month-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:#e0e0e0}.month-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]{background:#fff;padding:6px;min-height:80px;position:relative;cursor:pointer;transition:background .2s;border-radius:6px;box-shadow:0 0 0 1px #eee inset}.month-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.month-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#666;margin-bottom:6px;flex-wrap:wrap}.month-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .month-events[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px;align-items:center}.month-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .artist-avatar.mini[_ngcontent-%COMP%]{padding:0;background:transparent}.month-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .artist-avatar.mini[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:1px solid #ccc;object-fit:cover}.weekday-label[_ngcontent-%COMP%]{font-size:.75rem;color:#666;width:100%}.day-number[_ngcontent-%COMP%]{font-size:1rem;color:#000}.day-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;font-weight:700;flex-wrap:wrap}.artist-avatar.my-booking[_ngcontent-%COMP%]{border:2px solid #43a047;background-color:#4caf501f;color:#2e7d32;font-weight:700;min-width:min-content}.user-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background:#fff;border-radius:50%;z-index:9999999!important;font-size:12px}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.avatar-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:1px solid #ccc;object-fit:cover}.avatar-wrapper[_ngcontent-%COMP%]   .avatar-badge[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;background:#1976d2;color:#fff;font-size:9px;padding:0 3px;line-height:1;border-radius:8px;border:1px solid white;box-shadow:0 0 0 1px #0000000d;z-index:9999;min-width:14px;text-align:center}.event.free-flag[_ngcontent-%COMP%]{font-size:12px;color:#2e7d32!important;gap:6px;font-weight:500;background:#00c80014;padding:2px 6px;border-radius:12px;display:flex;align-items:center}.event.free-flag[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2e7d32!important}.artist-avatar.mini[_ngcontent-%COMP%]{padding:0;background:transparent;gap:4px}.artist-avatar.mini[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.artist-avatar.mini[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;border:1px solid #ccc;object-fit:cover}.artist-avatar.mini[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar-badge[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;background:#1976d2;color:#fff;font-size:9px;padding:0 3px;line-height:1;border-radius:8px;border:1px solid white;min-width:14px;text-align:center;z-index:9999}']})};function _n(i,e){if(i&1&&(a(0,"div",12)(1,"div",13)(2,"h3"),c(3),o(),a(4,"div",14),c(5),o(),a(6,"p")(7,"strong"),c(8),o(),c(9),o(),a(10,"p")(11,"strong"),c(12),o(),c(13),o(),a(14,"p")(15,"strong"),c(16),o(),c(17),o(),a(18,"p",15),c(19),o(),a(20,"a",16),c(21),o()(),a(22,"div",17),O(23,"img",18),o()()),i&2){let t=e.$implicit,n=h();l(3),p(t.name),l(2),p(t.title),l(3),m("",n.lang.t("aboutPage.expLabel"),":"),l(),m(" ",t.experience,""),l(3),m("",n.lang.t("aboutPage.styleLabel"),":"),l(),m(" ",t.style,""),l(3),m("",n.lang.t("aboutPage.levelLabel"),":"),l(),m(" ",t.ranking,""),l(2),m("\u201C",t.quote,"\u201D"),l(),s("routerLink",t.portfolioUrl),l(),m(" ",n.lang.t("aboutPage.portfolio")," "),l(2),s("src","/ink"+t.imageUrl,K)("alt",t.name)}}var mt=class i{constructor(e){this.lang=e}currentIndex=0;artists=[{name:"Giulia Nero",title:"Tatuatrice",experience:"10 anni",style:"Realismo, Ritrattistica, Fine Line",ranking:"Senior",quote:"L\u2019arte sulla pelle \xE8 un ricordo eterno.",imageUrl:"/man-2.webp",portfolioUrl:"/portfolio/giulia"},{name:"Marco Bellini",title:"Tattoo Artist",experience:"7 anni",style:"Tradizionale, Giapponese",ranking:"Esperto",quote:"Ogni tratto racconta una storia.",imageUrl:"/woman-2.webp",portfolioUrl:"/portfolio/marco"},{name:"Sara Leone",title:"Tatuatrice",experience:"5 anni",style:"Geometrico, Mandala",ranking:"Avanzata",quote:"Simmetria e significato in ogni linea.",imageUrl:"/man-1.webp",portfolioUrl:"/portfolio/sara"}];nextSlide(){this.currentIndex=(this.currentIndex+1)%this.artists.length}prevSlide(){this.currentIndex=(this.currentIndex-1+this.artists.length)%this.artists.length}static \u0275fac=function(t){return new(t||i)(g(q))};static \u0275cmp=C({type:i,selectors:[["app-chi-siamo"]],standalone:!0,features:[M],decls:24,vars:9,consts:[[1,"about-page"],[1,"intro-hero"],[1,"intro-text"],["mat-raised-button","","color","accent","routerLink","/contatti"],[1,"intro-image"],["src","/ink/woman-1.webp","alt","Tatuaggio in corso"],[1,"carousel-wrapper"],["mat-title",""],[1,"carousel-track"],["class","artist-slide",4,"ngFor","ngForOf"],[1,"carousel-controls"],[3,"click"],[1,"artist-slide"],[1,"artist-details"],[1,"badge"],[1,"quote"],[1,"portfolio-button",3,"routerLink"],[1,"artist-image"],[3,"src","alt"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),c(4),o(),a(5,"p"),c(6),o(),a(7,"a",3),c(8),o()(),a(9,"div",4),O(10,"img",5),o()(),O(11,"hr"),a(12,"div",6)(13,"h1",7),c(14),o(),a(15,"div",8),f(16,_n,24,13,"div",9),o()(),a(17,"div",10)(18,"button",11),_("click",function(){return n.prevSlide()}),c(19,"\u2039"),o(),a(20,"span"),c(21),o(),a(22,"button",11),_("click",function(){return n.nextSlide()}),c(23,"\u203A"),o()()()),t&2&&(l(4),p(n.lang.t("aboutPage.title")),l(2),p(n.lang.t("aboutPage.intro")),l(2),m(" ",n.lang.t("aboutPage.cta")," "),l(6),p(n.lang.t("aboutPage.artistsTitle")),l(),Dt("transform","translateX(-"+n.currentIndex*100+"%)"),l(),s("ngForOf",n.artists),l(5),X("",n.currentIndex+1," / ",n.artists.length,""))},dependencies:[v,G,b,j,V],styles:[".about-page[_ngcontent-%COMP%]{color:#fff;padding:8vh 1.5rem;font-family:Barlow Semi Condensed,sans-serif}.about-page[_ngcontent-%COMP%]   .intro-hero[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;color:#fff;padding:3rem 1.5rem;align-items:center;text-align:center}@media (min-width: 768px){.about-page[_ngcontent-%COMP%]   .intro-hero[_ngcontent-%COMP%]{flex-direction:row;text-align:left;justify-content:space-between}}.about-page[_ngcontent-%COMP%]   .intro-hero[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]{flex:1}.about-page[_ngcontent-%COMP%]   .intro-hero[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;color:#000;margin-bottom:1rem}.about-page[_ngcontent-%COMP%]   .intro-hero[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#787878;max-width:600px;margin-bottom:1.5rem}.about-page[_ngcontent-%COMP%]   .intro-hero[_ngcontent-%COMP%]   .intro-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid black;background-color:#fff;color:#000;font-weight:700}.about-page[_ngcontent-%COMP%]   .intro-hero[_ngcontent-%COMP%]   .intro-image[_ngcontent-%COMP%]{flex:1;max-width:500px}.about-page[_ngcontent-%COMP%]   .intro-hero[_ngcontent-%COMP%]   .intro-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:12px;box-shadow:0 6px 30px #00000080}.about-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]{margin-top:4rem;text-align:center}.about-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;color:#000;margin-bottom:2rem}.about-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:2rem}.about-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-member[_ngcontent-%COMP%]{background:#1e1e1e;padding:1rem;border-radius:12px;box-shadow:0 4px 16px #0000004d;transition:transform .3s;color:#fff}.about-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-member[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.about-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;margin-bottom:1rem}.about-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;color:#000;margin-bottom:.5rem}.about-page[_ngcontent-%COMP%]   .team-section[_ngcontent-%COMP%]   .team-grid[_ngcontent-%COMP%]   .team-member[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{color:#787878;font-size:.9rem}.carousel-wrapper[_ngcontent-%COMP%]{overflow:hidden;width:100%;position:relative;margin-top:2rem}h1[_ngcontent-%COMP%]{font-size:2.2rem;text-transform:uppercase;margin-bottom:1.5rem;color:#000;text-align:center}.carousel-track[_ngcontent-%COMP%]{display:flex;transition:transform .6s ease-in-out;width:100%}.artist-slide[_ngcontent-%COMP%]{min-width:100%;display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:2rem;padding:2rem 1rem;box-sizing:border-box;background-color:#0000;font-family:Barlow Semi Condensed,sans-serif}.artist-slide[_ngcontent-%COMP%]   .artist-details[_ngcontent-%COMP%]{color:#fff;text-align:left;max-width:450px}.artist-slide[_ngcontent-%COMP%]   .artist-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:#000;margin-bottom:.3rem}.artist-slide[_ngcontent-%COMP%]   .artist-details[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-weight:500;display:inline-block;padding:.3rem .7rem;border-radius:4px;margin-bottom:1rem}.artist-slide[_ngcontent-%COMP%]   .artist-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.4rem 0;font-size:1rem;font-weight:500;color:#000}.artist-slide[_ngcontent-%COMP%]   .artist-details[_ngcontent-%COMP%]   p.quote[_ngcontent-%COMP%]{font-style:italic;color:#787878;margin-top:1rem}.artist-slide[_ngcontent-%COMP%]   .artist-details[_ngcontent-%COMP%]   .portfolio-button[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-weight:600;padding:.5rem 1rem;border-radius:12px;display:inline-block;text-decoration:none;margin-top:1rem}.artist-slide[_ngcontent-%COMP%]   .artist-details[_ngcontent-%COMP%]   .portfolio-button[_ngcontent-%COMP%]:hover{background-color:#fff;border-radius:6px;color:#000;border:2px solid black}.artist-slide[_ngcontent-%COMP%]   .artist-image[_ngcontent-%COMP%]{max-width:300px}.artist-slide[_ngcontent-%COMP%]   .artist-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:12px;border:2px solid black}button[_ngcontent-%COMP%]{border-radius:12px!important}.carousel-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:1.5rem;gap:1.5rem}.carousel-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:2px solid black;color:#000;padding:.3rem .8rem;font-size:1.5rem;cursor:pointer;border-radius:4px}.carousel-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#000}.carousel-controls[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#bbb;font-weight:500}"]})};var pt=class i{constructor(e,t){this.fb=e;this.lang=t}contactForm;ngOnInit(){this.contactForm=this.fb.group({name:["",[y.required,y.minLength(2)]],email:["",[y.required,y.email]],message:["",[y.required,y.minLength(10)]]})}onSubmit(){this.contactForm.valid?(console.log("Messaggio inviato:",this.contactForm.value),alert("Messaggio inviato con successo!"),this.contactForm.reset()):this.contactForm.markAllAsTouched()}static \u0275fac=function(t){return new(t||i)(g(tt),g(q))};static \u0275cmp=C({type:i,selectors:[["app-contatti"]],standalone:!0,features:[M],decls:42,vars:16,consts:[[1,"contacts-section"],[1,"contacts-header"],[1,"chatbot-suggestion"],["mat-stroked-button","","color","accent","routerLink","/chatbot"],[1,"contacts-grid"],[1,"info-card"],[1,"cta-consulenza"],["mat-raised-button","","color","accent","routerLink","/bookings"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),c(3),N(4,"uppercase"),o(),a(5,"p"),c(6),o()(),a(7,"div",2)(8,"p"),c(9),o(),a(10,"a",3),c(11),o()(),a(12,"div",4)(13,"mat-card",5)(14,"mat-card-content")(15,"h3"),c(16),o(),a(17,"p")(18,"mat-icon"),c(19,"location_on"),o(),c(20),o(),a(21,"p")(22,"mat-icon"),c(23,"phone"),o(),c(24),o(),a(25,"p")(26,"mat-icon"),c(27,"email"),o(),c(28),o(),a(29,"h3"),c(30),o(),a(31,"p"),c(32),o(),a(33,"p"),c(34),o(),a(35,"p"),c(36),o()(),a(37,"div",6)(38,"h2"),c(39),o(),a(40,"a",7),c(41),o()()()()()),t&2&&(l(3),p(Y(4,14,n.lang.t("contact.title"))),l(3),p(n.lang.t("contact.subtitle")),l(3),p(n.lang.t("contact.chatbot.question")),l(2),m(" ",n.lang.t("contact.chatbot.cta")," "),l(5),p(n.lang.t("contact.locationTitle")),l(4),m(" ",n.lang.t("contact.address"),""),l(4),m(" ",n.lang.t("contact.phone"),""),l(4),m(" ",n.lang.t("contact.email"),""),l(2),p(n.lang.t("contact.hoursTitle")),l(2),p(n.lang.t("contact.hours.mondayFriday")),l(2),p(n.lang.t("contact.hours.saturday")),l(2),p(n.lang.t("contact.hours.sunday")),l(3),p(n.lang.t("contact.ctaTitle")),l(2),m(" ",n.lang.t("contact.ctaButton")," "))},dependencies:[v,et,G,nt,Se,b,Yt,se,U,V],styles:[".contacts-section[_ngcontent-%COMP%]{color:#fff;padding:8vh 1.5rem;font-family:Barlow Semi Condensed,sans-serif}.contacts-section[_ngcontent-%COMP%]   .contacts-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.contacts-section[_ngcontent-%COMP%]   .contacts-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-size:2.8rem;margin-bottom:.5rem}.contacts-section[_ngcontent-%COMP%]   .contacts-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#787878;font-size:1.1rem}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}@media (min-width: 900px){.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]{flex-direction:row}}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{background-color:transparent;flex:1;box-shadow:0 6px 24px #0006;border:1px solid black33}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start;background-color:#000;color:#fff;font-weight:700}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;margin-top:0}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:.5rem;color:#000}.contacts-section[_ngcontent-%COMP%]   .contacts-grid[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#787878}.cta-consulenza[_ngcontent-%COMP%]{margin-top:3rem;text-align:center;background-color:#111;padding:2rem;border-radius:12px;box-shadow:0 4px 20px #0006}.cta-consulenza[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:1.5rem;font-size:1.6rem}.cta-consulenza[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#fff;color:#000;font-weight:700}.chatbot-suggestion[_ngcontent-%COMP%]{margin-top:2rem;text-align:center;padding:1.5rem;border:1px solid black55;border-radius:12px;background:#ffffff08}.chatbot-suggestion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#787878;margin-bottom:1rem;font-size:1rem}.chatbot-suggestion[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;border-color:#000}"]})};var dt=class i{constructor(e,t,n){this.platformId=e;this.auth=t;this.router=n}canActivate(){return Zt(this.platformId)||this.auth.getUser()?!0:this.router.parseUrl("/login")}static \u0275fac=function(t){return new(t||i)(E(It),E(k),E(L))};static \u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"})};var gt=class i{constructor(e,t){this.authService=e;this.router=t}canActivate(){let e=this.authService.getUser();return e?e.role==="admin"?J(!0):(this.router.navigate(["/access-denied"]),J(!1)):(localStorage.setItem("pre-log","/admin"),this.router.navigate(["/login"]),J(!1))}static \u0275fac=function(t){return new(t||i)(E(k),E(L))};static \u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"})};var Je=[{path:"login",component:it},{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>import("./chunk-CFUE7AJI.js").then(i=>i.HomeModule)},{path:"servizi",component:ct},{path:"progetti",loadChildren:()=>import("./chunk-7FVZCGKU.js").then(i=>i.ProjectsModule)},{path:"bookings",component:st},{path:"chi-siamo",component:mt},{path:"contatti",component:pt},{path:"dashboard",loadChildren:()=>import("./chunk-UVPDUWI7.js").then(i=>i.ClientsModule),canActivate:[dt]},{path:"admin",loadChildren:()=>import("./chunk-2H5IX5MH.js").then(i=>i.AdminModule),canActivate:[gt]},{path:"**",redirectTo:"/home"}];var Cn="@",Mn=(()=>{class i{constructor(t,n,r,d,u){this.doc=t,this.delegate=n,this.zone=r,this.animationType=d,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=bt(Tt,{optional:!0}),this.loadingSchedulerFn=bt(bn,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-COCXLWJE.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(r=>{throw new yt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:d})=>{this._engine=r(this.animationType,this.doc);let u=new d(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(t,n){let r=this.delegate.createRenderer(t,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let d=new Pt(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let A=u.createRenderer(t,n);d.use(A),this.scheduler?.notify(10)}).catch(u=>{d.use(r)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){At()}}static{this.\u0275prov=T({token:i,factory:i.\u0275fac})}}return i})(),Pt=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,r){this.delegate.insertBefore(e,t,n,r)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.shouldReplay(t)&&this.replay.push(r=>r.listen(e,t,n)),this.delegate.listen(e,t,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(Cn)}},bn=new wt("");function Ke(i="animations"){return Lt("NgAsyncAnimations"),St([{provide:Ft,useFactory:(e,t,n)=>new Mn(e,t,n,i),deps:[qt,Jt,kt]},{provide:Et,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Xe={providers:[Gt({eventCoalescing:!0}),te(Je,ee()),Ke(),De(()=>ze({projectId:"rebis-tattoo-55816",appId:"1:70352364616:web:24a6df01d24f6b4947647d",databaseURL:"https://rebis-tattoo-55816-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"rebis-tattoo-55816.firebasestorage.app",apiKey:"AIzaSyDFOFTJ9p60YeoVdLGo8ZfuaOOaUpgAP5E",authDomain:"rebis-tattoo-55816.firebaseapp.com",messagingSenderId:"70352364616",measurementId:"G-1HW9SPJ1CN"})),Re(()=>Ne()),je(()=>Be()),$e(()=>Ge())]};var ut=class i{constructor(e){this.db=e}menu={public:[{label:"Home",route:"/home"},{label:"Servizi",route:"/servizi"},{label:"Progetti",route:"/progetti"},{label:"Bookings",route:"/bookings"},{label:"Chi Siamo",route:"/chi-siamo"},{label:"Contatti",route:"/contatti"}],client:[{label:"Dashboard",route:"/dashboard",roles:["client","admin"],children:[{label:"dashboard",route:"/dashboard/"},{label:"Booking History",route:"/dashboard/booking-history"},{label:"Messaging",route:"/dashboard/messaging"},{label:"Reviews",route:"/dashboard/reviews"},{label:"Invoices",route:"/dashboard/invoices"},{label:"Settings",route:"/dashboard/settings"}]}],admin:[{label:"Admin",route:"/admin",roles:["admin"],children:[{label:"Dashboard",route:"/admin"},{label:"Calendar",route:"/admin/calendar"},{label:"Clients",route:"/admin/clients"},{label:"Billing",route:"/admin/billing"},{label:"Documents",route:"/admin/documents"},{label:"Waitlist",route:"/admin/waitlist"},{label:"Messaging",route:"/admin/messaging"},{label:"Portfolio",route:"/admin/portfolio"},{label:"Servizi",route:"/admin/servizi"},{label:"Staff",route:"/admin/staff"},{label:"Analytics",route:"/admin/analytics"},{label:"Settings",route:"/admin/settings"},{label:"Review List",route:"/admin/review-list"}]}]};getMenuByRole(e){let n=(e==="admin"?["public","client","admin"]:e==="client"?["public","client"]:["public"]).map(r=>{let d=z(this.db,`menuItems/${r}`);return D(vt(d)).pipe(Mt(u=>{let A=u.val();return A?Array.isArray(A)?A:Object.values(A):[]}))});return new Ot(r=>{Promise.all(n.map(d=>d.toPromise())).then(d=>{let u=d.flat();r.next(u),r.complete()}).catch(d=>r.error(d))})}getAllMenus(){let e=z(this.db,"menuItems");return D(vt(e)).pipe(Mt(t=>t.exists()?t.val():{public:[],client:[],admin:[]}))}addMenuItem(e,t){let n=z(this.db,`menuItems/${e}`),r=qe(n);return D(xt(r,t))}updateMenuItem(e,t,n){let r=z(this.db,`menuItems/${e}/${t}`);return D(We(r,n))}uploadDefaultMenu(){let e=z(this.db,"menuItems");return D(xt(e,this.menu))}deleteMenuItem(e,t){let n=z(this.db,`menuItems/${e}/${t}`);return D(He(n))}static \u0275fac=function(t){return new(t||i)(E(Ue))};static \u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"})};var xn=["sidenav"];function Pn(i,e){if(i&1&&(a(0,"a",28),c(1),o()),i&2){let t=e.$implicit;s("routerLink",t.route),l(),m(" ",t.label," ")}}function On(i,e){if(i&1&&(w(0),a(1,"div",24)(2,"button",25),c(3),a(4,"mat-icon"),c(5,"expand_more"),o()(),a(6,"div",26),f(7,Pn,2,2,"a",27),o()(),S()),i&2){let t=h().$implicit;l(3),m(" ",t.label," "),l(4),s("ngForOf",t.children)}}function yn(i,e){if(i&1&&(a(0,"a",29),c(1),o()),i&2){let t=h().$implicit;s("routerLink",t.route),l(),p(t.label)}}function wn(i,e){if(i&1&&(w(0),f(1,On,8,2,"ng-container",17)(2,yn,2,2,"ng-template",null,4,Q),S()),i&2){let t=e.$implicit,n=R(3);l(),s("ngIf",t.children==null?null:t.children.length)("ngIfElse",n)}}function Sn(i,e){if(i&1&&(w(0),a(1,"nav",22),f(2,wn,4,2,"ng-container",23),o(),S()),i&2){let t=e.ngIf;l(2),s("ngForOf",t)}}function kn(i,e){if(i&1&&(a(0,"span",30),c(1),o()),i&2){let t=h();l(),p(t.notifications.length)}}function In(i,e){if(i&1&&(a(0,"button",32)(1,"mat-icon"),c(2),o(),a(3,"div",33)(4,"p",34),c(5),o(),a(6,"small",35),c(7),N(8,"date"),o()()()),i&2){let t=e.$implicit;l(2),p(t.icon),l(3),p(t.message),l(2),p($t(8,3,t.date,"short"))}}function En(i,e){if(i&1&&(w(0),f(1,In,9,6,"button",31),S()),i&2){let t=h();l(),s("ngForOf",t.notifications)}}function An(i,e){i&1&&(a(0,"button",36)(1,"mat-icon"),c(2,"notifications_off"),o(),a(3,"span"),c(4,"Nessuna notifica"),o()())}function Tn(i,e){if(i&1){let t=F();w(0),a(1,"a",37),_("click",function(){x(t);let r=h(4);return P(r.closeMenu())}),c(2),o(),S()}if(i&2){let t=e.$implicit;l(),s("routerLink",t.route),l(),m(" ",t.label," ")}}function Fn(i,e){if(i&1&&(w(0),a(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),c(4),o()(),f(5,Tn,3,2,"ng-container",23),o(),S()),i&2){let t=h().$implicit;l(4),p(t.label),l(),s("ngForOf",t.children)}}function Ln(i,e){if(i&1){let t=F();a(0,"a",37),_("click",function(){x(t);let r=h(3);return P(r.closeMenu())}),c(1),o()}if(i&2){let t=h().$implicit;s("routerLink",t.route),l(),m(" ",t.label," ")}}function Dn(i,e){if(i&1&&(w(0),f(1,Fn,6,2,"ng-container",17)(2,Ln,2,2,"ng-template",null,5,Q),S()),i&2){let t=e.$implicit,n=R(3);l(),s("ngIf",t.children==null?null:t.children.length)("ngIfElse",n)}}function zn(i,e){if(i&1&&(w(0),f(1,Dn,4,2,"ng-container",23),S()),i&2){let t=e.ngIf;l(),s("ngForOf",t)}}function Rn(i,e){if(i&1){let t=F();w(0),a(1,"button",38),_("click",function(){x(t);let r=h();return P(r.logout())}),a(2,"mat-icon"),c(3,"logout"),o(),c(4," Logout "),o(),S()}}function Nn(i,e){i&1&&(a(0,"button",39)(1,"mat-icon"),c(2,"login"),o(),c(3," Login "),o())}var ft=class i{constructor(e,t){this.menuService=e;this.auth=t}sidenav;modeSidenav="over";isMenuOpen=!1;userRole;navItem$;isLoggedIn=!1;title;notifications=[{message:"Hai una seduta prevista per il 10 luglio alle 15:00.",icon:"event",date:new Date("2025-07-10T15:00:00")},{message:"La tua ultima recensione \xE8 stata approvata!",icon:"check_circle",date:new Date("2025-07-07T09:00:00")},{message:"Hai ricevuto una risposta nel messaggio con lo studio.",icon:"chat",date:new Date("2025-07-06T17:30:00")}];isLoadingMenu=!0;ngOnInit(){return W(this,null,function*(){yield new Promise(t=>{let n=()=>{let r=this.auth.getUser();r?(this.userRole=r.role,this.isLoggedIn=r.role!=="public",this.loadMenu(),t()):setTimeout(n,100)};n()})})}loadMenu(){this.navItem$=this.menuService.getMenuByRole(this.userRole),console.log(this.navItem$)}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}logout(){this.auth.logout()}static \u0275fac=function(t){return new(t||i)(g(ut),g(k))};static \u0275cmp=C({type:i,selectors:[["app-root"]],viewQuery:function(t,n){if(t&1&&zt(xn,5),t&2){let r;Rt(r=Nt())&&(n.sidenav=r.first)}},standalone:!0,features:[M],decls:36,vars:14,consts:[["notifMenu","matMenu"],["noNotif",""],["sidenav",""],["loginBtnMobile",""],["noChildren",""],["singleLink",""],[1,"main-toolbar","elevation-z4"],[1,"toolbar-container"],["mat-icon-button","",1,"burger-button",3,"click"],["routerLink","/home",1,"logo-link"],["src","/loghi/logo-white.jpg","alt","REBIS TATTOO",1,"logo-img"],[4,"ngIf"],[1,"toolbar-actions"],["matTooltip","Notifiche recenti",1,"notifications-wrapper",3,"matMenuTriggerFor"],["mat-icon-button",""],["class","badge",4,"ngIf"],[1,"notif-menu"],[4,"ngIf","ngIfElse"],["mat-icon-button","","color","warn","matTooltip","Logout",3,"click"],[1,"sidenav-container"],[1,"mobile-sidenav",3,"openedChange","closed","mode","opened"],[1,"auth-section"],[1,"desktop-nav"],[4,"ngFor","ngForOf"],[1,"dropdown"],["mat-button","",1,"dropdown-toggle"],[1,"dropdown-menu"],["mat-menu-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-menu-item","",3,"routerLink"],["mat-button","",3,"routerLink"],[1,"badge"],["mat-menu-item","",4,"ngFor","ngForOf"],["mat-menu-item",""],[1,"notif-text"],[1,"primary"],[1,"secondary"],["mat-menu-item","","disabled",""],["mat-list-item","",2,"color","whitesmoke!important",3,"click","routerLink"],["mat-stroked-button","","color","warn",1,"logout-btn",3,"click"],["mat-stroked-button","","color","primary","routerLink","/login",1,"login-btn"]],template:function(t,n){if(t&1){let r=F();a(0,"main")(1,"mat-toolbar",6)(2,"div",7)(3,"button",8),_("click",function(){return x(r),P(n.toggleMenu())}),a(4,"mat-icon"),c(5,"menu"),o()(),a(6,"a",9),O(7,"img",10),o(),f(8,Sn,3,1,"ng-container",11),N(9,"async"),a(10,"div",12)(11,"div",13)(12,"button",14)(13,"mat-icon"),c(14,"notifications"),o()(),f(15,kn,2,1,"span",15),o(),a(16,"mat-menu",16,0),f(18,En,2,1,"ng-container",17)(19,An,5,0,"ng-template",null,1,Q),o(),a(21,"button",18),_("click",function(){return x(r),P(n.logout())}),a(22,"mat-icon"),c(23,"logout"),o()()()()(),a(24,"mat-sidenav-container",19)(25,"mat-sidenav",20,2),Vt("openedChange",function(u){return x(r),Bt(n.isMenuOpen,u)||(n.isMenuOpen=u),P(u)}),_("closed",function(){return x(r),P(n.closeMenu())}),a(27,"mat-nav-list"),f(28,zn,2,1,"ng-container",11),N(29,"async"),a(30,"div",21),f(31,Rn,5,0,"ng-container",17)(32,Nn,4,0,"ng-template",null,3,Q),o()()(),a(34,"mat-sidenav-content"),O(35,"router-outlet"),o()()()}if(t&2){let r=R(17),d=R(20),u=R(33);l(8),s("ngIf",Y(9,10,n.navItem$)),l(3),s("matMenuTriggerFor",r),l(4),s("ngIf",n.notifications.length>0),l(3),s("ngIf",n.notifications.length>0)("ngIfElse",d),l(7),s("mode",n.modeSidenav),jt("opened",n.isMenuOpen),l(3),s("ngIf",Y(29,12,n.navItem$)),l(3),s("ngIf",n.isLoggedIn)("ngIfElse",u)}},dependencies:[b,j,B,Wt,Qt,ne,Xt,V,v,pe,et,G,$,de,ue,fe,ge,he,_e,Ie,ke,Ee,Te,Fe,Le],styles:[".notifications-wrapper[_ngcontent-%COMP%]{position:relative}.notifications-wrapper[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:red;color:#fff;border-radius:50%;font-size:10px;width:16px;height:16px;display:flex;align-items:center;justify-content:center}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{align-items:flex-start;white-space:normal}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:8px}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{font-weight:500}.notif-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   .notif-text[_ngcontent-%COMP%]   .secondary[_ngcontent-%COMP%]{font-size:11px;color:gray}.main-toolbar[_ngcontent-%COMP%]{background-color:#121212!important;color:#f0f0f0;box-shadow:0 2px 10px #0009}.main-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;height:8vh;padding:0 1.5rem}.main-toolbar[_ngcontent-%COMP%]   .logo-link[_ngcontent-%COMP%]{display:flex;align-items:center}.main-toolbar[_ngcontent-%COMP%]   .logo-link[_ngcontent-%COMP%]   .logo-img[_ngcontent-%COMP%]{height:38px}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{color:#f0f0f0;font-weight:500;transition:color .2s ease}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:hover{color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{z-index:9999;position:absolute;top:120%;left:0;display:flex;flex-direction:column;background-color:#1e1e1e;border:1px solid #333;padding:.4rem 0;min-width:180px;max-height:60vh;overflow-y:scroll;border-radius:6px;opacity:0;pointer-events:none;transform:translateY(10px);transition:all .25s ease}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#f0f0f0;padding:.5rem 1.2rem;font-size:.92rem;white-space:nowrap;transition:background .2s}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#2c2c2c;color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{opacity:1;pointer-events:auto;transform:translateY(0)}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500;transition:all .2s ease}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{border-color:#c4a62d;color:#c4a62d}.main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background-color:#c4a62d1a}@media (max-width: 1024px){.main-toolbar[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%], .main-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{display:none}.main-toolbar[_ngcontent-%COMP%]   .burger-button[_ngcontent-%COMP%]{display:inline-flex;color:#fff}}.sidenav-container[_ngcontent-%COMP%]{height:90vh;overflow-y:hidden}.mobile-sidenav[_ngcontent-%COMP%]{background-color:#a3a3a3;color:#f1f1f1;width:270px;padding-top:1rem;border-radius:0 0 50% 0%}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{padding:0}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:.8rem 1.2rem;font-weight:500;font-size:.95rem;color:#f0f0f0!important;transition:background .2s ease}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff0f;color:#c4a62d!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;color:#f0f0f0}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:0 1rem;font-weight:600;font-size:.95rem;color:#fff!important;background-color:transparent!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 2rem;font-size:.9rem;color:#d4d4d4!important}.mobile-sidenav[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#c4a62d!important}.mobile-sidenav[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%], .mobile-sidenav[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{width:calc(100% - 2rem);margin:1rem auto 0;border-color:#000;color:#000;font-weight:600}.mobile-sidenav[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover, .mobile-sidenav[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:hover{background-color:#f7d0381a}"]})};Kt(ft,Xe).catch(i=>console.error(i));
